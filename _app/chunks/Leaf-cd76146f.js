var mn=Object.defineProperty;var bt=Object.getOwnPropertySymbols;var _n=Object.prototype.hasOwnProperty,wn=Object.prototype.propertyIsEnumerable;var Et=(i,e,t)=>e in i?mn(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ct=(i,e)=>{for(var t in e||(e={}))_n.call(e,t)&&Et(i,t,e[t]);if(bt)for(var t of bt(e))wn.call(e,t)&&Et(i,t,e[t]);return i};import{S as Q,i as Z,s as j,D as ie,G as le,H as oe,I as re,p as E,n as D,q as Me,C as Re,P as kn,Q as We,R as g,T as B,t as Ue,g as Ke,f as F,d as C,e as q,c as U,a as K,b as ge,F as Lt,h as Dt,J as Ee,k as O,m as X,o as G,U as Ce,v as R,w as J,x as W,A as z,V as ue,W as pn,M as yt,K as ee,L as Ye,X as St,Y as Ft,u as ot,Z as bn,_ as Xe,$ as Pt,a0 as Ge,a1 as ae,B as v,a2 as Le,a3 as A,a4 as T,y as se,a5 as En,a6 as Cn,a7 as rt,a8 as x,a9 as $,aa as Ln,r as Dn,ab as M,ac as yn}from"./vendor-332a5d40.js";const Je=new WeakMap,Qe=new WeakMap,st=new WeakMap,Ze=new WeakMap,De=new WeakMap,ye=new WeakMap,at=new WeakMap,Se=new WeakMap,Nt=new WeakMap,Fe=new WeakMap,Ot=new WeakMap,ft=Symbol("placeholder");function Sn(i){let e;const t=i[7].default,n=ie(t,i,i[6],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,a){n&&n.m(l,a),e=!0},p(l,[a]){n&&n.p&&(!e||a&64)&&le(n,t,l,l[6],e?re(t,l[6],a,null):oe(l[6]),null)},i(l){e||(E(n,l),e=!0)},o(l){D(n,l),e=!1},d(l){n&&n.d(l)}}}const Bt={},Tt={},It={},At={},Mt={};function Fn(){const i=We(Bt);if(!i)throw new Error("The `getEditorContext` must be used inside the Slate component's context.");return i}function Rt(){const i=We(Tt);if(!i)throw new Error("The `getReadOnlyContext` must be used inside the Slate component's context.");return i}function Pn(){const i=We(It);if(!i)throw new Error("The `getFocusedContext` must be used inside the Slate component's context.");return i}function Wt(){const i=We(At);if(!i)throw new Error("The `getDecorateContext` must be used inside the Slate component's context.");return i}function Nn(){const i=We(Mt);if(!i)throw new Error("The `getSelectionContext` must be used inside the Slate component's context.");return i}function zt(i){return[]}function On(i,e,t){let{$$slots:n={},$$scope:l}=e,{editor:a}=e,{value:s=a.children}=e,{selection:o=a.selection}=e;const r=Re(a);Me(Bt,r);const f=Re(!0);Me(Tt,f);const c=Re(!1);Me(It,c);const d=Re(zt);Me(At,d);const h=Re(a.selection);Me(Mt,h);function _(){t(0,s=a.children),t(1,o=a.selection)}Ot.set(a,_);let k=a,w,p;return i.$$set=m=>{"editor"in m&&t(2,a=m.editor),"value"in m&&t(0,s=m.value),"selection"in m&&t(1,o=m.selection),"$$scope"in m&&t(6,l=m.$$scope)},i.$$.update=()=>{i.$$.dirty&12&&a!==k&&(t(3,k=a),r.set(a)),i.$$.dirty&17&&w!==s&&(r.update(m=>(m.children=s,m)),t(4,w=s)),i.$$.dirty&34&&(kn(p,o)||(h.set(o),t(5,p=o)))},[s,o,a,k,w,p,l,n]}class rl extends Q{constructor(e){super();Z(this,e,On,Sn,j,{editor:2,value:0,selection:1})}}let Bn=0;class Tn{constructor(){this.id=`${Bn++}`}toString(){return this.id}}const ct=i=>i&&i.ownerDocument&&i.ownerDocument.defaultView||null,In=i=>ke(i)&&i.nodeType===8,de=i=>ke(i)&&i.nodeType===1,ke=i=>{const e=ct(i);return!!e&&i instanceof e.Node},vt=i=>{const e=i&&i.anchorNode&&ct(i.anchorNode);return!!e&&i instanceof e.Selection},Ht=i=>ke(i)&&i.nodeType===3,An=i=>i.clipboardData&&i.clipboardData.getData("text/plain")!==""&&i.clipboardData.types.length===1,Mn=i=>{let[e,t]=i;if(de(e)&&e.childNodes.length){let n=t===e.childNodes.length,l=n?t-1:t;for([e,l]=Vt(e,l,n?"backward":"forward"),n=l<t;de(e)&&e.childNodes.length;){const a=n?e.childNodes.length-1:0;e=Wn(e,a,n?"backward":"forward")}t=n&&e.textContent!=null?e.textContent.length:0}return[e,t]},Rn=()=>!!(window.document.activeElement&&window.document.activeElement.shadowRoot),Vt=(i,e,t)=>{const{childNodes:n}=i;let l=n[e],a=e,s=!1,o=!1;for(;(In(l)||de(l)&&l.childNodes.length===0||de(l)&&l.getAttribute("contenteditable")==="false")&&!(s&&o);){if(a>=n.length){s=!0,a=e-1,t="backward";continue}if(a<0){o=!0,a=e+1,t="forward";continue}l=n[a],e=a,a+=t==="forward"?1:-1}return[l,e]},Wn=(i,e,t)=>{const[n]=Vt(i,e,t);return n},qt=i=>{let e="";if(Ht(i)&&i.nodeValue)return i.nodeValue;if(de(i)){for(const n of Array.from(i.childNodes))e+=qt(n);const t=getComputedStyle(i).getPropertyValue("display");(t==="block"||t==="list"||i.tagName==="BR")&&(e+=`
`)}return e},zn=/data-slate-fragment="(.+?)"/m,vn=i=>{const e=i.getData("text/html"),[,t]=e.match(zn)||[];return t},Hn=typeof navigator!="undefined"&&typeof window!="undefined"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ut=typeof navigator!="undefined"&&/Mac OS X/.test(navigator.userAgent);typeof navigator!="undefined"&&/Android/.test(navigator.userAgent);const ut=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),dt=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),Vn=typeof navigator!="undefined"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),Kt=typeof navigator!="undefined"&&/Chrome/i.test(navigator.userAgent),qn=typeof navigator!="undefined"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),Un=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),Kn=typeof navigator!="undefined"&&/.*QQBrowser/.test(navigator.userAgent),Yt=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Xt=!qn&&!Vn&&typeof globalThis!="undefined"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function";function ht(i){const e=st.get(i);if(!e)throw new Error("Unable to find a host window element for this editor");return e}function pe(i){let e=at.get(i);return e||(e=new Tn,at.set(i,e)),e}function Pe(i){const e=[];let t=i;for(;;){const n=Qe.get(t);if(n==null){if(g.isEditor(t))return e;break}const l=Je.get(t);if(l==null)break;e.unshift(l),t=n}throw new Error(`Unable to find the path for Slate node: ${JSON.stringify(i)}`)}function Ne(i){const e=we(i,i),t=e.getRootNode();return(t instanceof Document||t instanceof ShadowRoot)&&t.getSelection!=null?t:e.ownerDocument}function Gt(i){return!!Fe.get(i)}function Yn(i){const e=we(i,i),t=Ne(i);Fe.set(i,!0),t.activeElement!==e&&e.focus({preventScroll:!0})}function gt(i,e,t={}){const{editable:n=!1}=t,l=we(i,i);let a;try{a=de(e)?e:e.parentElement}catch(s){if(!s.message.includes('Permission denied to access property "nodeType"'))throw s}return a?a.closest("[data-svelte-editor]")===l&&(!n||a.isContentEditable?!0:typeof a.isContentEditable=="boolean"&&a.closest('[contenteditable="false"]')===l||!!a.getAttribute("data-slate-zero-width")):!1}function we(i,e,t=!0){const n=Se.get(i),l=g.isEditor(e)?Ze.get(i):n==null?void 0:n.get(pe(e));if(!l&&t)throw new Error(`Cannot resolve a DOM node from Slate node: ${JSON.stringify(e)}`);return l}function Jt(i,e,t=!0){const[n]=g.node(i,e.path),l=we(i,n,t);let a;g.void(i,{at:e})&&(e={path:e.path,offset:0});const s="[data-slate-string], [data-slate-zero-width]",o=l?Array.from(l.querySelectorAll(s)):[];let r=0;for(const f of o){const c=f.childNodes[0];if(c==null||c.textContent==null)continue;const{length:d}=c.textContent,h=f.getAttribute("data-slate-length"),_=h==null?d:parseInt(h,10),k=r+_;if(e.offset<=k){const w=Math.min(d,Math.max(0,e.offset-r));a=[c,w];break}r=k}if(!a&&t)throw new Error(`Cannot resolve a DOM point from Slate point: ${JSON.stringify(e)}`);return a}function je(i,e,t=!0){const{anchor:n,focus:l}=e,a=B.isBackward(e),s=Jt(i,n,t);if(!s)return;const o=B.isCollapsed(e)?s:Jt(i,l),f=ht(i).document.createRange(),[c,d]=a?o:s,[h,_]=a?s:o,w=!!(de(c)?c:c.parentElement).getAttribute("data-slate-zero-width"),m=!!(de(h)?h:h.parentElement).getAttribute("data-slate-zero-width");return f.setStart(c,w?1:d),f.setEnd(h,m?1:_),f}function be(i){let e=de(i)?i:i.parentElement;e&&!e.hasAttribute("data-slate-node")&&(e=e.closest("[data-slate-node]"));const t=e?De.get(e):null;if(!t)throw new Error(`Cannot resolve a Slate node from DOM node: ${e}`);return t}function Xn(i,e){"nativeEvent"in e&&(e=e.nativeEvent);const{clientX:t,clientY:n,target:l}=e;if(t==null||n==null)throw new Error(`Cannot resolve a Slate range from a DOM event: ${e}`);const a=be(e.target),s=Pe(a);if(g.isVoid(i,a)){const c=l.getBoundingClientRect(),d=i.isInline(a)?t-c.left<c.left+c.width-t:n-c.top<c.top+c.height-n,h=g.point(i,s,{edge:d?"start":"end"}),_=d?g.before(i,h):g.after(i,h);if(_)return g.range(i,_)}let o;const{document:r}=ht(i);if(r.caretRangeFromPoint)o=r.caretRangeFromPoint(t,n);else{const c=r.caretPositionFromPoint(t,n);c&&(o=r.createRange(),o.setStart(c.offsetNode,c.offset),o.setEnd(c.offsetNode,c.offset))}if(!o)throw new Error(`Cannot resolve a Slate range from a DOM event: ${e}`);return ze(i,o,{exactMatch:!1,suppressThrow:!1})}function Qt(i,e,t){var h;const{exactMatch:n,suppressThrow:l}=t,[a,s]=n?e:Mn(e),o=a.parentNode;let r=null,f=0;if(o){const _=o.closest('[data-slate-void="true"]');let k=o.closest("[data-slate-leaf]"),w=null;if(k){r=k.closest('[data-slate-node="text"]');const m=ht(i).document.createRange();m.setStart(r,0),m.setEnd(a,s);const y=m.cloneContents();[...Array.prototype.slice.call(y.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(y.querySelectorAll("[contenteditable=false]"))].forEach(he=>{he.parentNode.removeChild(he)}),f=y.textContent.length,w=r}else _&&(k=_.querySelector("[data-slate-leaf]"),k?(r=k.closest('[data-slate-node="text"]'),w=k,f=w.textContent.length,w.querySelectorAll("[data-slate-zero-width]").forEach(p=>{f-=p.textContent.length})):f=1);w&&f===w.textContent.length&&(o.hasAttribute("data-slate-zero-width")||ut&&((h=w.textContent)==null?void 0:h.endsWith(`

`)))&&f--}if(!r){if(l)return null;throw new Error(`Cannot resolve a Slate point from DOM point: ${e}`)}const c=be(r);return{path:Pe(c),offset:f}}function ze(i,e,t){const{exactMatch:n,suppressThrow:l}=t,a=vt(e)?e.anchorNode:e.startContainer;let s,o,r,f,c;if(a&&(vt(e)?(s=e.anchorNode,o=e.anchorOffset,r=e.focusNode,f=e.focusOffset,Kt&&Rn()?c=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:c=e.isCollapsed):(s=e.startContainer,o=e.startOffset,r=e.endContainer,f=e.endOffset,c=e.collapsed)),s==null||r==null||o==null||f==null)throw new Error(`Cannot resolve a Slate range from DOM range: ${e}`);const d=Qt(i,[s,o],{exactMatch:n,suppressThrow:l});if(!d)return null;const h=c?d:Qt(i,[r,f],{exactMatch:n,suppressThrow:l});if(!h)return null;let _={anchor:d,focus:h};return B.isExpanded(_)&&B.isForward(_)&&de(r)&&g.void(i,{at:_.focus,mode:"highest"})&&(_=g.unhangRange(i,_,{voids:!0})),_}function Gn(i,e){const{anchor:t,focus:n}=e;return g.hasPath(i,t.path)&&g.hasPath(i,n.path)}function Zt(i,e,t){return i[e]=t,i}function jt(i){let e=`
`,t;return{c(){t=Ue(e)},l(n){t=Ke(n,e)},m(n,l){F(n,t,l)},d(n){n&&C(t)}}}function Jn(i){let e,t,n=i[1]&&jt();return{c(){e=q("span"),t=Ue(i[0]),n&&n.c(),this.h()},l(l){e=U(l,"SPAN",{"data-slate-string":!0});var a=K(e);t=Ke(a,i[0]),n&&n.l(a),a.forEach(C),this.h()},h(){ge(e,"data-slate-string","true")},m(l,a){F(l,e,a),Lt(e,t),n&&n.m(e,null)},p(l,[a]){a&1&&Dt(t,l[0]),l[1]?n||(n=jt(),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:Ee,o:Ee,d(l){l&&C(e),n&&n.d()}}}function Qn(i,e,t){let{text:n}=e,{isTrailing:l=!1}=e;return i.$$set=a=>{"text"in a&&t(0,n=a.text),"isTrailing"in a&&t(1,l=a.isTrailing)},[n,l]}class Zn extends Q{constructor(e){super();Z(this,e,Qn,Jn,j,{text:0,isTrailing:1})}}function xt(i){let e;return{c(){e=q("br")},l(t){e=U(t,"BR",{})},m(t,n){F(t,e,n)},d(t){t&&C(e)}}}function jn(i){let e,t="\uFEFF",n,l,a=i[1]&&xt();return{c(){e=q("span"),n=Ue(t),a&&a.c(),this.h()},l(s){e=U(s,"SPAN",{"data-slate-zero-width":!0,"data-slate-length":!0});var o=K(e);n=Ke(o,t),a&&a.l(o),o.forEach(C),this.h()},h(){ge(e,"data-slate-zero-width",l=i[1]?"n":"z"),ge(e,"data-slate-length",i[0])},m(s,o){F(s,e,o),Lt(e,n),a&&a.m(e,null)},p(s,[o]){s[1]?a||(a=xt(),a.c(),a.m(e,null)):a&&(a.d(1),a=null),o&2&&l!==(l=s[1]?"n":"z")&&ge(e,"data-slate-zero-width",l),o&1&&ge(e,"data-slate-length",s[0])},i:Ee,o:Ee,d(s){s&&C(e),a&&a.d()}}}function xn(i,e,t){let{length:n=0}=e,{isLineBreak:l=!1}=e;return i.$$set=a=>{"length"in a&&t(0,n=a.length),"isLineBreak"in a&&t(1,l=a.isLineBreak)},[n,l]}class mt extends Q{constructor(e){super();Z(this,e,xn,jn,j,{length:0,isLineBreak:1})}}function $n(i){let e,t;return e=new Zn({props:{isTrailing:i[5],text:i[1].text}}),{c(){R(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){W(e,n,l),t=!0},p(n,l){const a={};l&32&&(a.isTrailing=n[5]),l&2&&(a.text=n[1].text),e.$set(a)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function ei(i){let e,t;return e=new mt({}),{c(){R(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){W(e,n,l),t=!0},p:Ee,i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function ti(i){let e,t;return e=new mt({props:{isLineBreak:!0}}),{c(){R(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){W(e,n,l),t=!0},p:Ee,i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function ni(i){let e,t;return e=new mt({props:{length:ue.string(i[2]).length}}),{c(){R(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){W(e,n,l),t=!0},p(n,l){const a={};l&4&&(a.length=ue.string(n[2]).length),e.$set(a)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function ii(i){let e,t,n,l,a,s;const o=[ni,ti,ei,$n],r=[];function f(c,d){return d&5&&(e=null),d&31&&(t=null),e==null&&(e=!!c[0].isVoid(c[2])),e?0:(t==null&&(t=c[1].text===""&&c[2].children[c[2].children.length-1]===c[3]&&!c[0].isInline(c[2])&&g.string(c[0],c[4])===""),t?1:c[1].text===""?2:3)}return n=f(i,-1),l=r[n]=o[n](i),{c(){l.c(),a=O()},l(c){l.l(c),a=O()},m(c,d){r[n].m(c,d),F(c,a,d),s=!0},p(c,[d]){let h=n;n=f(c,d),n===h?r[n].p(c,d):(X(),D(r[h],1,1,()=>{r[h]=null}),G(),l=r[n],l?l.p(c,d):(l=r[n]=o[n](c),l.c()),E(l,1),l.m(a.parentNode,a))},i(c){s||(E(l),s=!0)},o(c){D(l),s=!1},d(c){r[n].d(c),c&&C(a)}}}function li(i,e,t){let n,l,a,{editor:s}=e,{isLast:o}=e,{leaf:r}=e,{parent:f}=e,{text:c}=e;return i.$$set=d=>{"editor"in d&&t(0,s=d.editor),"isLast"in d&&t(6,o=d.isLast),"leaf"in d&&t(1,r=d.leaf),"parent"in d&&t(2,f=d.parent),"text"in d&&t(3,c=d.text)},i.$$.update=()=>{i.$$.dirty&66&&t(5,n=o&&r.text.slice(-1)===`
`),i.$$.dirty&8&&t(7,l=Pe(c)),i.$$.dirty&128&&t(4,a=Ce.parent(l))},[s,r,f,c,a,n,o,l]}class oi extends Q{constructor(e){super();Z(this,e,li,ii,j,{editor:0,isLast:6,leaf:1,parent:2,text:3})}}function $t(i){let e,t,n,l;function a(r){i[8](r)}var s=i[5];function o(r){let f={"data-slate-placeholder":!0,style:"position: absolute; pointer-events: none; width: 100%; max-width: 100%; display: block; opacity: 0.333; user-select: none; text-decoration: none;",contenteditable:"false",$$slots:{default:[ri]},$$scope:{ctx:r}};return r[7]!==void 0&&(f.clientHeight=r[7]),{props:f}}return s&&(e=new s(o(i)),ee.push(()=>Ye(e,"clientHeight",a))),{c(){e&&R(e.$$.fragment),n=O()},l(r){e&&J(e.$$.fragment,r),n=O()},m(r,f){e&&W(e,r,f),F(r,n,f),l=!0},p(r,f){const c={};if(f&1028&&(c.$$scope={dirty:f,ctx:r}),!t&&f&128&&(t=!0,c.clientHeight=r[7],yt(()=>t=!1)),s!==(s=r[5])){if(e){X();const d=e;D(d.$$.fragment,1,0,()=>{z(d,1)}),G()}s?(e=new s(o(r)),ee.push(()=>Ye(e,"clientHeight",a)),R(e.$$.fragment),E(e.$$.fragment,1),W(e,n.parentNode,n)):e=null}else s&&e.$set(c)},i(r){l||(e&&E(e.$$.fragment,r),l=!0)},o(r){e&&D(e.$$.fragment,r),l=!1},d(r){r&&C(n),e&&z(e,r)}}}function ri(i){let e=i[2].placeholder+"",t;return{c(){t=Ue(e)},l(n){t=Ke(n,e)},m(n,l){F(n,t,l)},p(n,l){l&4&&e!==(e=n[2].placeholder+"")&&Dt(t,e)},d(n){n&&C(t)}}}function si(i){let e,t,n,l=ft in i[2]&&$t(i);return t=new oi({props:{editor:i[0],isLast:i[1],leaf:i[2],parent:i[3],text:i[4]}}),{c(){l&&l.c(),e=O(),R(t.$$.fragment)},l(a){l&&l.l(a),e=O(),J(t.$$.fragment,a)},m(a,s){l&&l.m(a,s),F(a,e,s),W(t,a,s),n=!0},p(a,s){ft in a[2]?l?(l.p(a,s),s&4&&E(l,1)):(l=$t(a),l.c(),E(l,1),l.m(e.parentNode,e)):l&&(X(),D(l,1,1,()=>{l=null}),G());const o={};s&1&&(o.editor=a[0]),s&2&&(o.isLast=a[1]),s&4&&(o.leaf=a[2]),s&8&&(o.parent=a[3]),s&16&&(o.text=a[4]),t.$set(o)},i(a){n||(E(l),E(t.$$.fragment,a),n=!0)},o(a){D(l),D(t.$$.fragment,a),n=!1},d(a){l&&l.d(a),a&&C(e),z(t,a)}}}function ai(i){let e,t,n;var l=i[6];function a(s){return{props:{editor:s[0],leaf:s[2],"data-slate-leaf":"true",$$slots:{default:[si]},$$scope:{ctx:s}}}}return l&&(e=new l(a(i))),{c(){e&&R(e.$$.fragment),t=O()},l(s){e&&J(e.$$.fragment,s),t=O()},m(s,o){e&&W(e,s,o),F(s,t,o),n=!0},p(s,[o]){const r={};if(o&1&&(r.editor=s[0]),o&4&&(r.leaf=s[2]),o&1215&&(r.$$scope={dirty:o,ctx:s}),l!==(l=s[6])){if(e){X();const f=e;D(f.$$.fragment,1,0,()=>{z(f,1)}),G()}l?(e=new l(a(s)),R(e.$$.fragment),E(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else l&&e.$set(r)},i(s){n||(e&&E(e.$$.fragment,s),n=!0)},o(s){e&&D(e.$$.fragment,s),n=!1},d(s){s&&C(t),e&&z(e,s)}}}function fi(i,e,t){let{editor:n}=e,{isLast:l}=e,{leaf:a}=e,{parent:s}=e,{text:o}=e,{Placeholder:r}=e,{Leaf:f}=e,c,d;pn(()=>{if(Yt){const _=document.querySelector('[data-svelte-editor="true"]');_&&(_.style.minHeight="")}});function h(_){c=_,t(7,c)}return i.$$set=_=>{"editor"in _&&t(0,n=_.editor),"isLast"in _&&t(1,l=_.isLast),"leaf"in _&&t(2,a=_.leaf),"parent"in _&&t(3,s=_.parent),"text"in _&&t(4,o=_.text),"Placeholder"in _&&t(5,r=_.Placeholder),"Leaf"in _&&t(6,f=_.Leaf)},i.$$.update=()=>{if(i.$$.dirty&132&&c!==d&&a&&Yt){const _=document.querySelector('[data-svelte-editor="true"]');_&&(_.style.minHeight=`${c}px`)}},[n,l,a,s,o,r,f,c,h]}class en extends Q{constructor(e){super();Z(this,e,fi,ai,j,{editor:0,isLast:1,leaf:2,parent:3,text:4,Placeholder:5,Leaf:6})}}function tn(i,e,t){const n=i.slice();return n[13]=e[t],n[15]=t,n}function nn(i,e){let t,n,l,a;var s=en;function o(r){return{props:{Placeholder:r[4],Leaf:r[5],editor:r[0],isLast:r[1]&&r[15]===r[8].length-1,parent:r[2],leaf:r[13],text:r[3]}}}return s&&(n=new s(o(e))),{key:i,first:null,c(){t=O(),n&&R(n.$$.fragment),l=O(),this.h()},l(r){t=O(),n&&J(n.$$.fragment,r),l=O(),this.h()},h(){this.first=t},m(r,f){F(r,t,f),n&&W(n,r,f),F(r,l,f),a=!0},p(r,f){e=r;const c={};if(f&16&&(c.Placeholder=e[4]),f&32&&(c.Leaf=e[5]),f&1&&(c.editor=e[0]),f&258&&(c.isLast=e[1]&&e[15]===e[8].length-1),f&4&&(c.parent=e[2]),f&256&&(c.leaf=e[13]),f&8&&(c.text=e[3]),s!==(s=en)){if(n){X();const d=n;D(d.$$.fragment,1,0,()=>{z(d,1)}),G()}s?(n=new s(o(e)),R(n.$$.fragment),E(n.$$.fragment,1),W(n,l.parentNode,l)):n=null}else s&&n.$set(c)},i(r){a||(n&&E(n.$$.fragment,r),a=!0)},o(r){n&&D(n.$$.fragment,r),a=!1},d(r){r&&C(t),r&&C(l),n&&z(n,r)}}}function ci(i){let e,t=[],n=new Map,l,a=i[8];const s=o=>`${o[6]}-${o[15]}`;for(let o=0;o<a.length;o+=1){let r=tn(i,a,o),f=s(r);n.set(f,t[o]=nn(f,r))}return{c(){e=q("span");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=U(o,"SPAN",{"data-slate-node":!0});var r=K(e);for(let f=0;f<t.length;f+=1)t[f].l(r);r.forEach(C),this.h()},h(){ge(e,"data-slate-node","text")},m(o,r){F(o,e,r);for(let f=0;f<t.length;f+=1)t[f].m(e,null);i[12](e),l=!0},p(o,[r]){r&383&&(a=o[8],X(),t=St(t,r,s,1,o,a,n,e,Ft,nn,null,tn),G())},i(o){if(!l){for(let r=0;r<a.length;r+=1)E(t[r]);l=!0}},o(o){for(let r=0;r<t.length;r+=1)D(t[r]);l=!1},d(o){o&&C(e);for(let r=0;r<t.length;r+=1)t[r].d();i[12](null)}}}function ui(i,e,t){let n,l,{editor:a}=e,{decorations:s=[]}=e,{isLast:o}=e,{parent:r}=e,{text:f}=e,{Placeholder:c}=e,{Leaf:d}=e,h,_,k;ot(()=>{var p;(p=Se.get(a))==null||p.set(h,k),ye.set(f,k),De.set(k,f)});function w(p){ee[p?"unshift":"push"](()=>{k=p,t(7,k)})}return i.$$set=p=>{"editor"in p&&t(0,a=p.editor),"decorations"in p&&t(9,s=p.decorations),"isLast"in p&&t(1,o=p.isLast),"parent"in p&&t(2,r=p.parent),"text"in p&&t(3,f=p.text),"Placeholder"in p&&t(4,c=p.Placeholder),"Leaf"in p&&t(5,d=p.Leaf)},i.$$.update=()=>{var p;i.$$.dirty&520&&t(8,n=bn.decorations(f,s)),i.$$.dirty&8&&t(11,l=pe(f)),i.$$.dirty&3072&&_!==l&&(t(6,h=l),t(10,_=l)),i.$$.dirty&201&&k&&((p=Se.get(a))==null||p.set(h,k),ye.set(f,k),De.set(k,f))},[a,o,r,f,c,d,h,k,n,s,_,l,w]}class Oe extends Q{constructor(e){super();Z(this,e,ui,ci,j,{editor:0,decorations:9,isLast:1,parent:2,text:3,Placeholder:4,Leaf:5})}}function di(i){let e,t;return e=new an({props:{node:i[1],editor:i[0],decorations:i[2],selection:i[3],Element:i[4],Placeholder:i[6],Leaf:i[5]}}),{c(){R(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){W(e,n,l),t=!0},p(n,l){const a={};l&2&&(a.node=n[1]),l&1&&(a.editor=n[0]),l&4&&(a.decorations=n[2]),l&8&&(a.selection=n[3]),l&16&&(a.Element=n[4]),l&64&&(a.Placeholder=n[6]),l&32&&(a.Leaf=n[5]),e.$set(a)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function hi(i){let e,t,n,l;const a=[mi,gi],s=[];function o(r,f){return r[8]?0:1}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),n=O()},l(r){t.l(r),n=O()},m(r,f){s[e].m(r,f),F(r,n,f),l=!0},p(r,f){let c=e;e=o(r),e===c?s[e].p(r,f):(X(),D(s[c],1,1,()=>{s[c]=null}),G(),t=s[e],t?t.p(r,f):(t=s[e]=a[e](r),t.c()),E(t,1),t.m(n.parentNode,n))},i(r){l||(E(t),l=!0)},o(r){D(t),l=!1},d(r){s[e].d(r),r&&C(n)}}}function gi(i){let e,t,n;var l=Oe;function a(s){return{props:{Placeholder:s[6],Leaf:s[5],editor:s[0],decorations:s[2],isLast:!1,parent:s[1],text:s[11]}}}return l&&(t=new l(a(i))),{c(){e=q("div"),t&&R(t.$$.fragment),this.h()},l(s){e=U(s,"DIV",{"data-slate-spacer":!0,class:!0});var o=K(e);t&&J(t.$$.fragment,o),o.forEach(C),this.h()},h(){ge(e,"data-slate-spacer",""),ge(e,"class","svelte-yux06v")},m(s,o){F(s,e,o),t&&W(t,e,null),n=!0},p(s,o){const r={};if(o&64&&(r.Placeholder=s[6]),o&32&&(r.Leaf=s[5]),o&1&&(r.editor=s[0]),o&4&&(r.decorations=s[2]),o&2&&(r.parent=s[1]),o&2048&&(r.text=s[11]),l!==(l=Oe)){if(t){X();const f=t;D(f.$$.fragment,1,0,()=>{z(f,1)}),G()}l?(t=new l(a(s)),R(t.$$.fragment),E(t.$$.fragment,1),W(t,e,null)):t=null}else l&&t.$set(r)},i(s){n||(t&&E(t.$$.fragment,s),n=!0)},o(s){t&&D(t.$$.fragment,s),n=!1},d(s){s&&C(e),t&&z(t)}}}function mi(i){let e,t,n;var l=Oe;function a(s){return{props:{Placeholder:s[6],Leaf:s[5],editor:s[0],decorations:s[2],isLast:!1,parent:s[1],text:s[11]}}}return l&&(t=new l(a(i))),{c(){e=q("span"),t&&R(t.$$.fragment),this.h()},l(s){e=U(s,"SPAN",{"data-slate-spacer":!0,class:!0});var o=K(e);t&&J(t.$$.fragment,o),o.forEach(C),this.h()},h(){ge(e,"data-slate-spacer",""),ge(e,"class","svelte-yux06v")},m(s,o){F(s,e,o),t&&W(t,e,null),n=!0},p(s,o){const r={};if(o&64&&(r.Placeholder=s[6]),o&32&&(r.Leaf=s[5]),o&1&&(r.editor=s[0]),o&4&&(r.decorations=s[2]),o&2&&(r.parent=s[1]),o&2048&&(r.text=s[11]),l!==(l=Oe)){if(t){X();const f=t;D(f.$$.fragment,1,0,()=>{z(f,1)}),G()}l?(t=new l(a(s)),R(t.$$.fragment),E(t.$$.fragment,1),W(t,e,null)):t=null}else l&&t.$set(r)},i(s){n||(t&&E(t.$$.fragment,s),n=!0)},o(s){t&&D(t.$$.fragment,s),n=!1},d(s){s&&C(e),t&&z(t)}}}function _i(i){let e,t,n,l;const a=[hi,di],s=[];function o(r,f){return r[9]?0:1}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),n=O()},l(r){t.l(r),n=O()},m(r,f){s[e].m(r,f),F(r,n,f),l=!0},p(r,f){let c=e;e=o(r),e===c?s[e].p(r,f):(X(),D(s[c],1,1,()=>{s[c]=null}),G(),t=s[e],t?t.p(r,f):(t=s[e]=a[e](r),t.c()),E(t,1),t.m(n.parentNode,n))},i(r){l||(E(t),l=!0)},o(r){D(t),l=!1},d(r){s[e].d(r),r&&C(n)}}}function wi(i){let e,t,n,l;function a(r){i[19](r)}var s=i[4];function o(r){let f={"data-slate-node":"element","data-slate-void":r[9],"data-slate-inline":r[8],contenteditable:r[12],editor:r[0],element:r[1],dir:r[10],$$slots:{default:[_i]},$$scope:{ctx:r}};return r[7]!==void 0&&(f.ref=r[7]),{props:f}}return s&&(e=new s(o(i)),ee.push(()=>Ye(e,"ref",a))),{c(){e&&R(e.$$.fragment),n=O()},l(r){e&&J(e.$$.fragment,r),n=O()},m(r,f){e&&W(e,r,f),F(r,n,f),l=!0},p(r,[f]){const c={};if(f&512&&(c["data-slate-void"]=r[9]),f&256&&(c["data-slate-inline"]=r[8]),f&4096&&(c.contenteditable=r[12]),f&1&&(c.editor=r[0]),f&2&&(c.element=r[1]),f&1024&&(c.dir=r[10]),f&1051519&&(c.$$scope={dirty:f,ctx:r}),!t&&f&128&&(t=!0,c.ref=r[7],yt(()=>t=!1)),s!==(s=r[4])){if(e){X();const d=e;D(d.$$.fragment,1,0,()=>{z(d,1)}),G()}s?(e=new s(o(r)),ee.push(()=>Ye(e,"ref",a)),R(e.$$.fragment),E(e.$$.fragment,1),W(e,n.parentNode,n)):e=null}else s&&e.$set(c)},i(r){l||(e&&E(e.$$.fragment,r),l=!0)},o(r){e&&D(e.$$.fragment,r),l=!1},d(r){r&&C(n),e&&z(e,r)}}}function ki(i,e,t){let n,l,a,s,o,r,{editor:f}=e,{element:c}=e,{decorations:d}=e,{selection:h=null}=e,{Element:_}=e,{Leaf:k}=e,{Placeholder:w}=e;const p=Rt();Xe(i,p,I=>t(18,r=I));let m,y,ce,he,ne;ot(()=>{var I;(I=Se.get(f))==null||I.set(m,ne),ye.set(c,ne),De.set(ne,c)});function ve(I){ne=I,t(7,ne)}return i.$$set=I=>{"editor"in I&&t(0,f=I.editor),"element"in I&&t(1,c=I.element),"decorations"in I&&t(2,d=I.decorations),"selection"in I&&t(3,h=I.selection),"Element"in I&&t(4,_=I.Element),"Leaf"in I&&t(5,k=I.Leaf),"Placeholder"in I&&t(6,w=I.Placeholder)},i.$$.update=()=>{var I;if(i.$$.dirty&262144&&t(16,n=r),i.$$.dirty&3&&t(8,l=f.isInline(c)),i.$$.dirty&2&&t(17,a=pe(c)),i.$$.dirty&163840&&y!==a&&(t(14,m=a),t(15,y=a)),i.$$.dirty&259&&!l&&g.hasInlines(f,c)){const me=Pt(ue.string(c));me==="rtl"&&t(10,ce=me)}if(i.$$.dirty&3&&t(9,s=g.isVoid(f,c)),i.$$.dirty&65536&&t(12,o=!n),i.$$.dirty&66306&&s){!n&&l&&t(12,o=!1);const[[me]]=ue.texts(c);t(11,he=me),Je.set(me,0),Qe.set(me,c)}i.$$.dirty&16515&&ne&&((I=Se.get(f))==null||I.set(m,ne),ye.set(c,ne),De.set(ne,c))},[f,c,d,h,_,k,w,ne,l,s,ce,he,o,p,m,y,n,a,r,ve]}class ln extends Q{constructor(e){super();Z(this,e,ki,wi,j,{editor:0,element:1,decorations:2,selection:3,Element:4,Leaf:5,Placeholder:6})}}function pi(i){let e,t,n;var l=ln;function a(s){return{props:{Element:s[2],Placeholder:s[4],Leaf:s[3],editor:s[0],decorations:s[5],element:s[1],selection:s[6]}}}return l&&(e=new l(a(i))),{c(){e&&R(e.$$.fragment),t=O()},l(s){e&&J(e.$$.fragment,s),t=O()},m(s,o){e&&W(e,s,o),F(s,t,o),n=!0},p(s,[o]){const r={};if(o&4&&(r.Element=s[2]),o&16&&(r.Placeholder=s[4]),o&8&&(r.Leaf=s[3]),o&1&&(r.editor=s[0]),o&32&&(r.decorations=s[5]),o&2&&(r.element=s[1]),o&64&&(r.selection=s[6]),l!==(l=ln)){if(e){X();const f=e;D(f.$$.fragment,1,0,()=>{z(f,1)}),G()}l?(e=new l(a(s)),R(e.$$.fragment),E(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else l&&e.$set(r)},i(s){n||(e&&E(e.$$.fragment,s),n=!0)},o(s){e&&D(e.$$.fragment,s),n=!1},d(s){s&&C(t),e&&z(e,s)}}}function bi(i,e,t){let n,l,a,s,{editor:o}=e,{parent:r}=e,{element:f}=e,{path:c}=e,{index:d}=e,{decorate:h}=e,{decorations:_}=e,{selection:k=null}=e,{Element:w}=e,{Leaf:p}=e,{Placeholder:m}=e;return i.$$set=y=>{"editor"in y&&t(0,o=y.editor),"parent"in y&&t(7,r=y.parent),"element"in y&&t(1,f=y.element),"path"in y&&t(8,c=y.path),"index"in y&&t(9,d=y.index),"decorate"in y&&t(10,h=y.decorate),"decorations"in y&&t(11,_=y.decorations),"selection"in y&&t(12,k=y.selection),"Element"in y&&t(2,w=y.Element),"Leaf"in y&&t(3,p=y.Leaf),"Placeholder"in y&&t(4,m=y.Placeholder)},i.$$.update=()=>{i.$$.dirty&514&&Je.set(f,d),i.$$.dirty&130&&Qe.set(f,r),i.$$.dirty&768&&t(14,n=c.concat(d)),i.$$.dirty&16385&&t(13,l=g.range(o,n)),i.$$.dirty&17410&&t(5,a=h([f,n])),i.$$.dirty&12288&&t(6,s=k&&B.intersection(l,k)),i.$$.dirty&10272&&sn(a,l,_)&&(t(5,a),t(10,h),t(1,f),t(14,n),t(13,l),t(11,_),t(8,c),t(9,d),t(0,o))},[o,f,w,p,m,a,s,r,c,d,h,_,k,l,n]}class Ei extends Q{constructor(e){super();Z(this,e,bi,pi,j,{editor:0,parent:7,element:1,path:8,index:9,decorate:10,decorations:11,selection:12,Element:2,Leaf:3,Placeholder:4})}}function Ci(i){let e,t,n;var l=Oe;function a(s){return{props:{Placeholder:s[5],Leaf:s[4],editor:s[1],decorations:s[6],isLast:s[0],parent:s[2],text:s[3]}}}return l&&(e=new l(a(i))),{c(){e&&R(e.$$.fragment),t=O()},l(s){e&&J(e.$$.fragment,s),t=O()},m(s,o){e&&W(e,s,o),F(s,t,o),n=!0},p(s,[o]){const r={};if(o&32&&(r.Placeholder=s[5]),o&16&&(r.Leaf=s[4]),o&2&&(r.editor=s[1]),o&64&&(r.decorations=s[6]),o&1&&(r.isLast=s[0]),o&4&&(r.parent=s[2]),o&8&&(r.text=s[3]),l!==(l=Oe)){if(e){X();const f=e;D(f.$$.fragment,1,0,()=>{z(f,1)}),G()}l?(e=new l(a(s)),R(e.$$.fragment),E(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else l&&e.$set(r)},i(s){n||(e&&E(e.$$.fragment,s),n=!0)},o(s){e&&D(e.$$.fragment,s),n=!1},d(s){s&&C(t),e&&z(e,s)}}}function Li(i,e,t){let n,l,a,{editor:s}=e,{parent:o}=e,{text:r}=e,{path:f}=e,{index:c}=e,{isLeafBlock:d}=e,{decorations:h}=e,{decorate:_}=e,{isLast:k=!1}=e,{Leaf:w}=e,{Placeholder:p}=e;return i.$$set=m=>{"editor"in m&&t(1,s=m.editor),"parent"in m&&t(2,o=m.parent),"text"in m&&t(3,r=m.text),"path"in m&&t(7,f=m.path),"index"in m&&t(8,c=m.index),"isLeafBlock"in m&&t(9,d=m.isLeafBlock),"decorations"in m&&t(10,h=m.decorations),"decorate"in m&&t(11,_=m.decorate),"isLast"in m&&t(0,k=m.isLast),"Leaf"in m&&t(4,w=m.Leaf),"Placeholder"in m&&t(5,p=m.Placeholder)},i.$$.update=()=>{i.$$.dirty&264&&Je.set(r,c),i.$$.dirty&12&&Qe.set(r,o),i.$$.dirty&384&&t(13,n=f.concat(c)),i.$$.dirty&772&&t(0,k=d&&c===o.children.length-1),i.$$.dirty&8194&&t(12,l=g.range(s,n)),i.$$.dirty&10248&&t(6,a=_([r,n])),i.$$.dirty&5184&&sn(a,l,h)&&(t(6,a),t(11,_),t(3,r),t(13,n),t(12,l),t(10,h),t(7,f),t(8,c),t(1,s))},[k,s,o,r,w,p,a,f,c,d,h,_,l,n]}class Di extends Q{constructor(e){super();Z(this,e,Li,Ci,j,{editor:1,parent:2,text:3,path:7,index:8,isLeafBlock:9,decorations:10,decorate:11,isLast:0,Leaf:4,Placeholder:5})}}function on(i,e,t){const n=i.slice();return n[12]=e[t],n[14]=t,n}function yi(i){let e,t;return e=new Di({props:{Placeholder:i[6],Leaf:i[5],editor:i[0],decorations:i[2],parent:i[1],text:i[12],decorate:i[9],index:i[14],path:i[8],isLeafBlock:i[7]}}),{c(){R(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){W(e,n,l),t=!0},p(n,l){const a={};l&64&&(a.Placeholder=n[6]),l&32&&(a.Leaf=n[5]),l&1&&(a.editor=n[0]),l&4&&(a.decorations=n[2]),l&2&&(a.parent=n[1]),l&2&&(a.text=n[12]),l&512&&(a.decorate=n[9]),l&2&&(a.index=n[14]),l&256&&(a.path=n[8]),l&128&&(a.isLeafBlock=n[7]),e.$set(a)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function Si(i){let e,t;return e=new Ei({props:{Element:i[4],Placeholder:i[6],Leaf:i[5],editor:i[0],decorations:i[2],selection:i[3],element:i[12],parent:i[1],decorate:i[9],index:i[14],path:i[8]}}),{c(){R(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){W(e,n,l),t=!0},p(n,l){const a={};l&16&&(a.Element=n[4]),l&64&&(a.Placeholder=n[6]),l&32&&(a.Leaf=n[5]),l&1&&(a.editor=n[0]),l&4&&(a.decorations=n[2]),l&8&&(a.selection=n[3]),l&2&&(a.element=n[12]),l&2&&(a.parent=n[1]),l&512&&(a.decorate=n[9]),l&2&&(a.index=n[14]),l&256&&(a.path=n[8]),e.$set(a)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function rn(i,e){let t,n,l,a,s,o;const r=[Si,yi],f=[];function c(d,h){return h&2&&(n=null),n==null&&(n=!!Ge.isElement(d[12])),n?0:1}return l=c(e,-1),a=f[l]=r[l](e),{key:i,first:null,c(){t=O(),a.c(),s=O(),this.h()},l(d){t=O(),a.l(d),s=O(),this.h()},h(){this.first=t},m(d,h){F(d,t,h),f[l].m(d,h),F(d,s,h),o=!0},p(d,h){e=d;let _=l;l=c(e,h),l===_?f[l].p(e,h):(X(),D(f[_],1,1,()=>{f[_]=null}),G(),a=f[l],a?a.p(e,h):(a=f[l]=r[l](e),a.c()),E(a,1),a.m(s.parentNode,s))},i(d){o||(E(a),o=!0)},o(d){D(a),o=!1},d(d){d&&C(t),f[l].d(d),d&&C(s)}}}function Fi(i){let e=[],t=new Map,n,l,a=i[1].children;const s=o=>pe(o[12]);for(let o=0;o<a.length;o+=1){let r=on(i,a,o),f=s(r);t.set(f,e[o]=rn(f,r))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=O()},l(o){for(let r=0;r<e.length;r+=1)e[r].l(o);n=O()},m(o,r){for(let f=0;f<e.length;f+=1)e[f].m(o,r);F(o,n,r),l=!0},p(o,[r]){r&1023&&(a=o[1].children,X(),e=St(e,r,s,1,o,a,t,n.parentNode,Ft,rn,n,on),G())},i(o){if(!l){for(let r=0;r<a.length;r+=1)E(e[r]);l=!0}},o(o){for(let r=0;r<e.length;r+=1)D(e[r]);l=!1},d(o){for(let r=0;r<e.length;r+=1)e[r].d(o);o&&C(n)}}}function sn(i,e,t){let n=!1;for(const l of t){const a=B.intersection(l,e);a&&(i.push(a),n=!0)}return n}function Pi(i,e,t){let n,l,a,s,{editor:o}=e,{node:r}=e,{decorations:f}=e,{selection:c=null}=e,{Element:d}=e,{Leaf:h}=e,{Placeholder:_}=e;const k=Wt();return Xe(i,k,w=>t(11,s=w)),i.$$set=w=>{"editor"in w&&t(0,o=w.editor),"node"in w&&t(1,r=w.node),"decorations"in w&&t(2,f=w.decorations),"selection"in w&&t(3,c=w.selection),"Element"in w&&t(4,d=w.Element),"Leaf"in w&&t(5,h=w.Leaf),"Placeholder"in w&&t(6,_=w.Placeholder)},i.$$.update=()=>{i.$$.dirty&2048&&t(9,n=s),i.$$.dirty&2&&t(8,l=Pe(r)),i.$$.dirty&3&&t(7,a=Ge.isElement(r)&&!o.isInline(r)&&g.hasInlines(o,r))},[o,r,f,c,d,h,_,a,l,n,k,s]}class an extends Q{constructor(e){super();Z(this,e,Pi,Fi,j,{editor:0,node:1,decorations:2,selection:3,Element:4,Leaf:5,Placeholder:6})}}function Ni(i){let e,t;const n=i[5].default,l=ie(n,i,i[4],null);let a=[i[3]],s={};for(let o=0;o<a.length;o+=1)s=v(s,a[o]);return{c(){e=q("div"),l&&l.c(),this.h()},l(o){e=U(o,"DIV",{});var r=K(e);l&&l.l(r),r.forEach(C),this.h()},h(){A(e,s),T(e,"svelte-19k8gul",!0)},m(o,r){F(o,e,r),l&&l.m(e,null),i[7](e),t=!0},p(o,r){l&&l.p&&(!t||r&16)&&le(l,n,o,o[4],t?re(n,o[4],r,null):oe(o[4]),null),A(e,s=se(a,[r&8&&o[3]])),T(e,"svelte-19k8gul",!0)},i(o){t||(E(l,o),t=!0)},o(o){D(l,o),t=!1},d(o){o&&C(e),l&&l.d(o),i[7](null)}}}function Oi(i){let e,t;const n=i[5].default,l=ie(n,i,i[4],null);let a=[i[3]],s={};for(let o=0;o<a.length;o+=1)s=v(s,a[o]);return{c(){e=q("span"),l&&l.c(),this.h()},l(o){e=U(o,"SPAN",{});var r=K(e);l&&l.l(r),r.forEach(C),this.h()},h(){A(e,s),T(e,"svelte-19k8gul",!0)},m(o,r){F(o,e,r),l&&l.m(e,null),i[6](e),t=!0},p(o,r){l&&l.p&&(!t||r&16)&&le(l,n,o,o[4],t?re(n,o[4],r,null):oe(o[4]),null),A(e,s=se(a,[r&8&&o[3]])),T(e,"svelte-19k8gul",!0)},i(o){t||(E(l,o),t=!0)},o(o){D(l,o),t=!1},d(o){o&&C(e),l&&l.d(o),i[6](null)}}}function Bi(i){let e,t,n,l,a;const s=[Oi,Ni],o=[];function r(f,c){return c&6&&(e=null),e==null&&(e=!!f[1].isInline(f[2])),e?0:1}return t=r(i,-1),n=o[t]=s[t](i),{c(){n.c(),l=O()},l(f){n.l(f),l=O()},m(f,c){o[t].m(f,c),F(f,l,c),a=!0},p(f,[c]){let d=t;t=r(f,c),t===d?o[t].p(f,c):(X(),D(o[d],1,1,()=>{o[d]=null}),G(),n=o[t],n?n.p(f,c):(n=o[t]=s[t](f),n.c()),E(n,1),n.m(l.parentNode,l))},i(f){a||(E(n),a=!0)},o(f){D(n),a=!1},d(f){o[t].d(f),f&&C(l)}}}function Ti(i,e,t){const n=["editor","element","ref"];let l=ae(e,n),{$$slots:a={},$$scope:s}=e,{editor:o}=e,{element:r}=e,{ref:f}=e;function c(h){ee[h?"unshift":"push"](()=>{f=h,t(0,f)})}function d(h){ee[h?"unshift":"push"](()=>{f=h,t(0,f)})}return i.$$set=h=>{e=v(v({},e),Le(h)),t(3,l=ae(e,n)),"editor"in h&&t(1,o=h.editor),"element"in h&&t(2,r=h.element),"ref"in h&&t(0,f=h.ref),"$$scope"in h&&t(4,s=h.$$scope)},[f,o,r,l,s,a,c,d]}class Ii extends Q{constructor(e){super();Z(this,e,Ti,Bi,j,{editor:1,element:2,ref:0})}}function Ai(i){let e,t;const n=i[4].default,l=ie(n,i,i[3],null);let a=[i[0]],s={};for(let o=0;o<a.length;o+=1)s=v(s,a[o]);return{c(){e=q("span"),l&&l.c(),this.h()},l(o){e=U(o,"SPAN",{});var r=K(e);l&&l.l(r),r.forEach(C),this.h()},h(){A(e,s)},m(o,r){F(o,e,r),l&&l.m(e,null),t=!0},p(o,[r]){l&&l.p&&(!t||r&8)&&le(l,n,o,o[3],t?re(n,o[3],r,null):oe(o[3]),null),A(e,s=se(a,[r&1&&o[0]]))},i(o){t||(E(l,o),t=!0)},o(o){D(l,o),t=!1},d(o){o&&C(e),l&&l.d(o)}}}function Mi(i,e,t){const n=["editor","leaf"];let l=ae(e,n),{$$slots:a={},$$scope:s}=e,{editor:o}=e,{leaf:r}=e;return i.$$set=f=>{e=v(v({},e),Le(f)),t(0,l=ae(e,n)),"editor"in f&&t(1,o=f.editor),"leaf"in f&&t(2,r=f.leaf),"$$scope"in f&&t(3,s=f.$$scope)},[l,o,r,s,a]}class Ri extends Q{constructor(e){super();Z(this,e,Mi,Ai,j,{editor:1,leaf:2})}}function Wi(i){let e,t,n;const l=i[3].default,a=ie(l,i,i[2],null);let s=[i[1]],o={};for(let r=0;r<s.length;r+=1)o=v(o,s[r]);return{c(){e=q("span"),a&&a.c(),this.h()},l(r){e=U(r,"SPAN",{});var f=K(e);a&&a.l(f),f.forEach(C),this.h()},h(){A(e,o),En(()=>i[4].call(e))},m(r,f){F(r,e,f),a&&a.m(e,null),t=Cn(e,i[4].bind(e)),n=!0},p(r,[f]){a&&a.p&&(!n||f&4)&&le(a,l,r,r[2],n?re(l,r[2],f,null):oe(r[2]),null),A(e,o=se(s,[f&2&&r[1]]))},i(r){n||(E(a,r),n=!0)},o(r){D(a,r),n=!1},d(r){r&&C(e),a&&a.d(r),t()}}}function zi(i,e,t){const n=["clientHeight"];let l=ae(e,n),{$$slots:a={},$$scope:s}=e,{clientHeight:o}=e;function r(){o=this.clientHeight,t(0,o)}return i.$$set=f=>{e=v(v({},e),Le(f)),t(1,l=ae(e,n)),"clientHeight"in f&&t(0,o=f.clientHeight),"$$scope"in f&&t(2,s=f.$$scope)},[o,l,s,a,r]}class vi extends Q{constructor(e){super();Z(this,e,zi,Wi,j,{clientHeight:0})}}const Hi={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},Vi={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},qi={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},H=i=>{const e=Hi[i],t=Vi[i],n=qi[i],l=e&&rt(e),a=t&&rt(t),s=n&&rt(n);return o=>!!(l&&l(o)||Ut&&a&&a(o)||!Ut&&s&&s(o))};var V={isBold:H("bold"),isCompose:H("compose"),isMoveBackward:H("moveBackward"),isMoveForward:H("moveForward"),isDeleteBackward:H("deleteBackward"),isDeleteForward:H("deleteForward"),isDeleteLineBackward:H("deleteLineBackward"),isDeleteLineForward:H("deleteLineForward"),isDeleteWordBackward:H("deleteWordBackward"),isDeleteWordForward:H("deleteWordForward"),isExtendBackward:H("extendBackward"),isExtendForward:H("extendForward"),isExtendLineBackward:H("extendLineBackward"),isExtendLineForward:H("extendLineForward"),isItalic:H("italic"),isMoveLineBackward:H("moveLineBackward"),isMoveLineForward:H("moveLineForward"),isMoveWordBackward:H("moveWordBackward"),isMoveWordForward:H("moveWordForward"),isRedo:H("redo"),isSplitBlock:H("splitBlock"),isTransposeCharacter:H("transposeCharacter"),isUndo:H("undo")};function Ui(i){let e,t,n,l,a,s,o,r,f,c,d;t=new an({props:{editor:i[5],node:i[5],selection:i[6],decorations:i[23],Element:i[0],Leaf:i[1],Placeholder:i[2]}});let h=[i[26],{role:n=i[3]?void 0:"textbox"},{spellcheck:l=i[26].spellcheck||"true"},{autocorrect:a=i[26].autocorrect||"true"},{autocapitalize:s=i[26].autocapitalize||"true"},{"data-svelte-editor":""},{"data-slate-node":"value"},{contenteditable:o=!i[3]},{"z-index":r=-1}],_={};for(let k=0;k<h.length;k+=1)_=v(_,h[k]);return{c(){e=q("div"),R(t.$$.fragment),this.h()},l(k){e=U(k,"DIV",{role:!0,spellcheck:!0,autocorrect:!0,autocapitalize:!0,"data-svelte-editor":!0,"data-slate-node":!0,contenteditable:!0,"z-index":!0});var w=K(e);J(t.$$.fragment,w),w.forEach(C),this.h()},h(){A(e,_),T(e,"svelte-m59z04",!0)},m(k,w){F(k,e,w),W(t,e,null),i[36](e),f=!0,c||(d=[x(e,"beforeinput",function(){$(i[22])&&i[22].apply(this,arguments)}),x(e,"keydown",function(){$(i[20])&&i[20].apply(this,arguments)}),x(e,"input",function(){$(i[21])&&i[21].apply(this,arguments)}),x(e,"focus",function(){$(i[19])&&i[19].apply(this,arguments)}),x(e,"blur",function(){$(i[18])&&i[18].apply(this,arguments)}),x(e,"click",function(){$(i[17])&&i[17].apply(this,arguments)}),x(e,"compositionend",function(){$(i[16])&&i[16].apply(this,arguments)}),x(e,"compositionupdate",function(){$(i[15])&&i[15].apply(this,arguments)}),x(e,"compositionstart",function(){$(i[14])&&i[14].apply(this,arguments)}),x(e,"paste",function(){$(i[13])&&i[13].apply(this,arguments)}),x(e,"copy",function(){$(i[12])&&i[12].apply(this,arguments)}),x(e,"cut",function(){$(i[11])&&i[11].apply(this,arguments)}),x(e,"dragover",function(){$(i[10])&&i[10].apply(this,arguments)}),x(e,"dragstart",function(){$(i[9])&&i[9].apply(this,arguments)}),x(e,"drop",function(){$(i[8])&&i[8].apply(this,arguments)}),x(e,"dragend",function(){$(i[7])&&i[7].apply(this,arguments)})],c=!0)},p(k,w){i=k;const p={};w[0]&32&&(p.editor=i[5]),w[0]&32&&(p.node=i[5]),w[0]&64&&(p.selection=i[6]),w[0]&8388608&&(p.decorations=i[23]),w[0]&1&&(p.Element=i[0]),w[0]&2&&(p.Leaf=i[1]),w[0]&4&&(p.Placeholder=i[2]),t.$set(p),A(e,_=se(h,[w[0]&67108864&&i[26],(!f||w[0]&8&&n!==(n=i[3]?void 0:"textbox"))&&{role:n},(!f||w[0]&67108864&&l!==(l=i[26].spellcheck||"true"))&&{spellcheck:l},(!f||w[0]&67108864&&a!==(a=i[26].autocorrect||"true"))&&{autocorrect:a},(!f||w[0]&67108864&&s!==(s=i[26].autocapitalize||"true"))&&{autocapitalize:s},{"data-svelte-editor":""},{"data-slate-node":"value"},(!f||w[0]&8&&o!==(o=!i[3]))&&{contenteditable:o},{"z-index":r}])),T(e,"svelte-m59z04",!0)},i(k){f||(E(t.$$.fragment,k),f=!0)},o(k){D(t.$$.fragment,k),f=!1},d(k){k&&C(e),z(t),i[36](null),c=!1,Ln(d)}}}function Be(i,e){return ke(e)&&gt(i,e)}function fe(i,e){return ke(e)&&gt(i,e,{editable:!0})}function fn(i,e){if(Nt.get(i))return!1;{const t=Be(i,e)&&be(e);return g.isVoid(i,t)}}function Ki(i,e){const t=e.startContainer.parentElement,n=t.getBoundingClientRect;t.getBoundingClientRect=e.getBoundingClientRect.bind(e),yn(t,{scrollMode:"if-needed"}),t.getBoundingClientRect=n}function Yi(i,e,t){let n,l,a,s,o,r,f,c,d,h,_,k,w,p,m,y,ce,he,ne,ve;const I=["Element","Leaf","Placeholder","placeholder","readOnly","autoFocus","decorate","scrollSelectionIntoView"];let me=ae(e,I),xe,$e,{Element:_t=Ii}=e,{Leaf:wt=Ri}=e,{Placeholder:kt=vi}=e,{placeholder:et}=e,{readOnly:te=!1}=e,{autoFocus:Te=!1}=e,{decorate:Ie=zt}=e,{scrollSelectionIntoView:tt=Ki}=e;const pt=Fn();Xe(i,pt,u=>t(35,$e=u));const dn=Rt(),He=Pn(),hn=Wt(),nt=Nn();Xe(i,nt,u=>t(34,xe=u));const S={isComposing:!1,hasInsertPrefixInCompositon:!0,isUpdatingSelection:!1,isDraggingInternally:!1,latestElement:null};let _e,Ae=[],it;ot(()=>{const u=ct(_e);return u&&(st.set(n,u),u.document.addEventListener("selectionchange",s)),Ze.set(n,_e),ye.set(n,_e),De.set(_e,n),()=>{Ze.delete(n),ye.delete(n),u&&(st.delete(n),u.document.removeEventListener("selectionchange",s))}}),Dn(()=>{const u=Ne(n),L=u?u.getSelection():null;if(S.isComposing||!L||!Gt(n))return;const b=L.type!=="None";if(!b)return;const P=Ze.get(n);let N=!1;if(P.contains(L.anchorNode)&&P.contains(L.focusNode)&&(N=!0),b&&N&&l){const Y=ze(n,L,{exactMatch:!0,suppressThrow:!0});if(Y&&B.equals(Y,l))return}if(l&&!Gn(n,l)){t(5,n.selection=ze(n,L,{exactMatch:!1,suppressThrow:!1}),n),t(6,l=n.selection),nt.set(l);return}t(31,S.isUpdatingSelection=!0,S)});function gn(u){ee[u?"unshift":"push"](()=>{_e=u,t(4,_e)})}return i.$$set=u=>{e=v(v({},e),Le(u)),t(26,me=ae(e,I)),"Element"in u&&t(0,_t=u.Element),"Leaf"in u&&t(1,wt=u.Leaf),"Placeholder"in u&&t(2,kt=u.Placeholder),"placeholder"in u&&t(27,et=u.placeholder),"readOnly"in u&&t(3,te=u.readOnly),"autoFocus"in u&&t(28,Te=u.autoFocus),"decorate"in u&&t(29,Ie=u.decorate),"scrollSelectionIntoView"in u&&t(30,tt=u.scrollSelectionIntoView)},i.$$.update=()=>{if(i.$$.dirty[1]&16&&t(5,n=$e),i.$$.dirty[1]&8&&t(6,l=xe),i.$$.dirty[0]&536870944&&t(23,a=Ie([n,[]])),i.$$.dirty[0]&40&&Nt.set(n,te),i.$$.dirty[0]&8&&dn.set(te),i.$$.dirty[0]&536870912&&hn.set(Ie),i.$$.dirty[0]&1073741920|i.$$.dirty[1]&1&&S.isUpdatingSelection){const L=Ne(n).getSelection(),b=l&&je(n,l);b?(B.isBackward(l)?L.setBaseAndExtent(b.endContainer,b.endOffset,b.startContainer,b.startOffset):L.setBaseAndExtent(b.startContainer,b.startOffset,b.endContainer,b.endOffset),tt(n,b)):L.removeAllRanges(),b&&ut&&we(n,n).focus(),t(31,S.isUpdatingSelection=!1,S)}if(i.$$.dirty[0]&32|i.$$.dirty[1]&1&&(s=()=>{if(!S.isComposing&&!S.isUpdatingSelection&&!S.isDraggingInternally){const u=Ne(n),{activeElement:L}=u,b=we(n,n),P=u.getSelection();if(L===b?(t(31,S.latestElement=L,S),Fe.set(n,!0),He.set(!0)):(Fe.delete(n),He.set(!1)),!P){M.deselect(n);return}const N=P.anchorNode,Y=P.focusNode,Ve=fe(n,N)||fn(n,N),qe=fe(n,Y)||fn(n,Y);if(Ve&&qe){const lt=ze(n,P,{exactMatch:!1,suppressThrow:!1});M.select(n,lt)}}}),i.$$.dirty[0]&40|i.$$.dirty[1]&1&&t(19,c=u=>{if(!te&&!S.isUpdatingSelection&&fe(n,u.target)){const L=we(n,n),b=Ne(n);if(t(31,S.latestElement=b.activeElement,S),ut&&u.target!==L){L.focus();return}Fe.set(n,!0),He.set(!0)}}),i.$$.dirty[0]&96|i.$$.dirty[1]&1&&t(16,_=u=>{if(fe(n,u.target)){Zt(S,"isComposing",!1);const L=u.data;if(!dt&&!Un&&!Hn&&!Kn&&L&&g.insertText(n,L),l&&B.isCollapsed(l)){const b=l.anchor.path,P=ue.leaf(n,b);S.hasInsertPrefixInCompositon&&(t(31,S.hasInsertPrefixInCompositon=!1,S),g.withoutNormalizing(n,()=>{const N=P.text.replace(/^\uFEFF/,"");M.delete(n,{distance:P.text.length,reverse:!0}),M.insertText(n,N)}))}}}),i.$$.dirty[0]&32&&t(15,k=u=>{fe(n,u.target)&&t(31,S.isComposing=!0,S)}),i.$$.dirty[0]&32&&t(14,w=u=>{if(fe(n,u.target)){const{selection:L,marks:b}=n;if(L){if(B.isExpanded(L)){g.deleteFragment(n);return}const P=g.above(n,{match:N=>g.isInline(n,N),mode:"highest"});if(P){const[,N]=P;if(g.isEnd(n,L.anchor,N)){const Y=g.after(n,N);M.setSelection(n,{anchor:Y,focus:Y})}}b&&(t(31,S.hasInsertPrefixInCompositon=!0,S),M.insertNodes(n,Ct({text:"\uFEFF"},b),{select:!0}))}}}),i.$$.dirty[0]&40&&t(9,he=u=>{if(!te&&Be(n,u.target)){const L=be(u.target),b=Pe(L);if(g.isVoid(n,L)||g.void(n,{at:b,voids:!0})){const N=g.range(n,b);M.select(n,N)}t(31,S.isDraggingInternally=!0,S),n.setFragmentData(u.dataTransfer)}}),i.$$.dirty[0]&104|i.$$.dirty[1]&1&&t(8,ne=u=>{if(!te&&Be(n,u.target)){u.preventDefault();const L=l,b=Xn(n,u),P=u.dataTransfer;M.select(n,b),S.isDraggingInternally&&(L&&!B.equals(L,b)&&!g.void(n,{at:b,voids:!0})&&M.delete(n,{at:L}),t(31,S.isDraggingInternally=!1,S)),n.insertData(P),Gt(n)||Yn(n)}}),i.$$.dirty[0]&40|i.$$.dirty[1]&1&&t(7,ve=u=>{!te&&S.isDraggingInternally&&Be(n,u.target)&&t(31,S.isDraggingInternally=!1,S)}),i.$$.dirty[0]&671088672|i.$$.dirty[1]&1&&n.children.length===1&&Array.from(ue.texts(n)).length===1&&ue.string(n)===""&&!S.isComposing){const u=g.start(n,[]);t(23,a=[...Ie([n,[]]),{[ft]:!0,placeholder:et,anchor:u,focus:u}])}i.$$.dirty[0]&268435472|i.$$.dirty[1]&4&&it!==Te&&_e&&(Te&&_e.focus(),t(33,it=Te)),i.$$.dirty[1]&2&&t(21,r=u=>{for(const L of Ae)L();t(32,Ae.length=0,Ae)}),i.$$.dirty[0]&104|i.$$.dirty[1]&3&&t(22,o=u=>{if(!te&&fe(n,u.target)){const L=u.inputType,b=u.dataTransfer||u.data||void 0;if(L==="insertCompositionText"||L==="deleteCompositionText")return;let P=!1;if(L==="insertText"&&l&&B.isCollapsed(l)&&u.data&&u.data.length===1&&/[a-z ]/i.test(u.data)&&l.anchor.offset!==0){P=!0,n.marks&&(P=!1);const N=g.above(n,{at:l.anchor,match:Y=>g.isInline(n,Y),mode:"highest"});if(N){const[,Y]=N;g.isEnd(n,l.anchor,Y)&&(P=!1)}}if(P||u.preventDefault(),!L.startsWith("delete")||L.startsWith("deleteBy")){const[N]=u.getTargetRanges();if(N){const Y=ze(n,N,{exactMatch:!1,suppressThrow:!1});(!l||!B.equals(l,Y))&&M.select(n,Y)}}if(l&&B.isExpanded(l)&&L.startsWith("delete")){const N=L.endsWith("Backward")?"backward":"forward";g.deleteFragment(n,{direction:N});return}switch(L){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{g.deleteFragment(n);break}case"deleteContent":case"deleteContentForward":{g.deleteForward(n);break}case"deleteContentBackward":{g.deleteBackward(n);break}case"deleteEntireSoftLine":{g.deleteBackward(n,{unit:"line"}),g.deleteForward(n,{unit:"line"});break}case"deleteHardLineBackward":{g.deleteBackward(n,{unit:"block"});break}case"deleteSoftLineBackward":{g.deleteBackward(n,{unit:"line"});break}case"deleteHardLineForward":{g.deleteForward(n,{unit:"block"});break}case"deleteSoftLineForward":{g.deleteForward(n,{unit:"line"});break}case"deleteWordBackward":{g.deleteBackward(n,{unit:"word"});break}case"deleteWordForward":{g.deleteForward(n,{unit:"word"});break}case"insertLineBreak":case"insertParagraph":{g.insertBreak(n);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{L==="insertFromComposition"&&S.isComposing&&Zt(S,"isComposing",!1),(b==null?void 0:b.constructor.name)==="DataTransfer"?n.insertData(b):typeof b=="string"&&(P?Ae.push(()=>g.insertText(n,b)):g.insertText(n,b));break}}}}),i.$$.dirty[0]&104|i.$$.dirty[1]&1&&t(20,f=u=>{if(!te&&!S.isComposing&&fe(n,u.target)){const L=n.children[l!==null?l.focus.path[0]:0],b=Pt(ue.string(L))==="rtl";if(V.isRedo(u)){u.preventDefault();const P=n;typeof P.redo=="function"&&P.redo()}else if(V.isUndo(u)){u.preventDefault();const P=n;typeof P.undo=="function"&&P.undo()}else if(V.isMoveLineBackward(u))u.preventDefault(),M.move(n,{unit:"line",reverse:!0});else if(V.isMoveLineForward(u))u.preventDefault(),M.move(n,{unit:"line"});else if(V.isExtendLineBackward(u))u.preventDefault(),M.move(n,{unit:"line",edge:"focus",reverse:!0});else if(V.isExtendLineForward(u))u.preventDefault(),M.move(n,{unit:"line",edge:"focus"});else if(V.isMoveBackward(u))u.preventDefault(),l&&B.isCollapsed(l)?M.move(n,{reverse:!b}):M.collapse(n,{edge:"start"});else if(V.isMoveForward(u))u.preventDefault(),l&&B.isCollapsed(l)?M.move(n,{reverse:b}):M.collapse(n,{edge:"end"});else if(V.isMoveWordBackward(u))u.preventDefault(),l&&B.isExpanded(l)&&M.collapse(n,{edge:"focus"}),M.move(n,{unit:"word",reverse:!b});else if(V.isMoveWordForward(u))u.preventDefault(),l&&B.isExpanded(l)&&M.collapse(n,{edge:"focus"}),M.move(n,{unit:"word",reverse:b});else if(!Xt)V.isBold(u)||V.isItalic(u)||V.isTransposeCharacter(u)?u.preventDefault():V.isSplitBlock(u)?(u.preventDefault(),g.insertBreak(n)):V.isDeleteBackward(u)?(u.preventDefault(),l&&B.isExpanded(l)?g.deleteFragment(n,{direction:"backward"}):g.deleteBackward(n)):V.isDeleteForward(u)?(u.preventDefault(),l&&B.isExpanded(l)?g.deleteFragment(n,{direction:"forward"}):g.deleteForward(n)):V.isDeleteLineBackward(u)?(u.preventDefault(),l&&B.isExpanded(l)?g.deleteFragment(n,{direction:"backward"}):g.deleteBackward(n,{unit:"line"})):V.isDeleteLineForward(u)?(u.preventDefault(),l&&B.isExpanded(l)?g.deleteFragment(n,{direction:"forward"}):g.deleteForward(n,{unit:"line"})):V.isDeleteWordBackward(u)?(u.preventDefault(),l&&B.isExpanded(l)?g.deleteFragment(n,{direction:"backward"}):g.deleteBackward(n,{unit:"word"})):V.isDeleteWordForward(u)&&(u.preventDefault(),l&&B.isExpanded(l)?g.deleteFragment(n,{direction:"forward"}):g.deleteForward(n,{unit:"word"}));else if((Kt||dt)&&l&&(V.isDeleteBackward(u)||V.isDeleteForward(u))&&B.isCollapsed(l)){const P=ue.parent(n,l.anchor.path);Ge.isElement(P)&&g.isVoid(n,P)&&g.isInline(n,P)&&(u.preventDefault(),g.deleteBackward(n,{unit:"block"}))}}}),i.$$.dirty[0]&40|i.$$.dirty[1]&1&&t(18,d=u=>{if(te||S.isUpdatingSelection||!fe(n,u.target))return;const L=Ne(n);if(S.latestElement===L.activeElement)return;const b=u.relatedTarget,P=we(n,n);if(b!==P&&!(de(b)&&b.hasAttribute("data-slate-spacer"))){if(b!=null&&ke(b)&&gt(n,b)){const N=be(b);if(Ge.isElement(N)&&!n.isVoid(N))return}if(dt){const N=L.getSelection();N==null||N.removeAllRanges()}Fe.delete(n),He.set(!1)}}),i.$$.dirty[0]&40&&t(17,h=u=>{if(!te&&Be(n,u.target)&&ke(u.target)){const L=be(u.target),b=Pe(L);if(g.hasPath(n,b)&&ue.get(n,b)===L){const N=g.start(n,b),Y=g.end(n,b),Ve=g.void(n,{at:N}),qe=g.void(n,{at:Y});if(Ve&&qe&&Ce.equals(Ve[1],qe[1])){const lt=g.range(n,N);M.select(n,lt)}}}}),i.$$.dirty[0]&40&&t(13,p=u=>{!te&&fe(n,u.target)&&(!Xt||An(u))&&(u.preventDefault(),n.insertData(u.clipboardData))}),i.$$.dirty[0]&32&&t(12,m=u=>{fe(n,u.target)&&(u.preventDefault(),n.setFragmentData(u.clipboardData))}),i.$$.dirty[0]&104&&t(11,y=u=>{if(!te&&fe(n,u.target)&&(u.preventDefault(),n.setFragmentData(u.clipboardData),l))if(B.isExpanded(l))g.deleteFragment(n);else{const L=ue.parent(n,l.anchor.path);g.isVoid(n,L)&&M.delete(n)}}),i.$$.dirty[0]&32&&t(10,ce=u=>{if(Be(n,u.target)){const L=be(u.target);g.isVoid(n,L)&&u.preventDefault()}})},[_t,wt,kt,te,_e,n,l,ve,ne,he,ce,y,m,p,w,k,_,h,d,c,f,r,o,a,pt,nt,me,et,Te,Ie,tt,S,Ae,it,xe,$e,gn]}class sl extends Q{constructor(e){super();Z(this,e,Yi,Ui,j,{Element:0,Leaf:1,Placeholder:2,placeholder:27,readOnly:3,autoFocus:28,decorate:29,scrollSelectionIntoView:30},null,[-1,-1])}}function cn(i,e){const t=(e.top+e.bottom)/2;return i.top<=t&&i.bottom>=t}function un(i,e,t){const n=je(i,e).getBoundingClientRect(),l=je(i,t).getBoundingClientRect();return cn(n,l)&&cn(l,n)}function Xi(i,e){const t=g.range(i,B.end(e)),n=Array.from(g.positions(i,{at:e}));let l=0,a=n.length,s=Math.floor(a/2);if(un(i,g.range(i,n[l]),t))return g.range(i,n[l],t);if(n.length<2)return g.range(i,n[n.length-1],t);for(;s!==n.length&&s!==l;)un(i,g.range(i,n[s]),t)?a=s:l=s,s=Math.floor((l+a)/2);return g.range(i,n[a],t)}const al=i=>{const e=i,{apply:t,onChange:n,deleteBackward:l}=e;return Se.set(e,new WeakMap),e.deleteBackward=a=>{if(a!=="line")return l(a);if(i.selection&&B.isCollapsed(i.selection)){const s=g.above(i,{match:o=>g.isBlock(i,o),at:i.selection});if(s){const[,o]=s,r=g.range(i,o,i.selection.anchor),f=Xi(e,r);B.isCollapsed(f)||M.delete(i,{at:f})}}},e.apply=a=>{const s=[];switch(a.type){case"insert_text":case"remove_text":case"set_node":{for(const[o,r]of g.levels(e,{at:a.path})){const f=pe(o);s.push([r,f])}break}case"insert_node":case"remove_node":case"merge_node":case"split_node":{for(const[o,r]of g.levels(e,{at:Ce.parent(a.path)})){const f=pe(o);s.push([r,f])}break}case"move_node":{for(const[o,r]of g.levels(e,{at:Ce.common(Ce.parent(a.path),Ce.parent(a.newPath))})){const f=pe(o);s.push([r,f])}break}}t(a);for(const[o,r]of s){const[f]=g.node(e,o);at.set(f,r)}},e.setFragmentData=a=>{const{selection:s}=e;if(!s)return;const[o,r]=B.edges(s),f=g.void(e,{at:o.path}),c=g.void(e,{at:r.path});if(B.isCollapsed(s)&&!f)return;const d=je(e,s);let h=d.cloneContents(),_=h.childNodes[0];if(h.childNodes.forEach(y=>{y.textContent&&y.textContent.trim()!==""&&(_=y)}),c){const[y]=c,ce=d.cloneRange(),he=we(e,y);ce.setEndAfter(he),h=ce.cloneContents()}if(f&&(_=h.querySelector("[data-slate-spacer]")),Array.from(h.querySelectorAll("[data-slate-zero-width]")).forEach(y=>{const ce=y.getAttribute("data-slate-zero-width")==="n";y.textContent=ce?`
`:""}),Ht(_)){const y=document.createElement("span");y.style.whiteSpace="pre",y.appendChild(_),h.appendChild(y),_=y}const k=e.getFragment(),w=JSON.stringify(k),p=window.btoa(encodeURIComponent(w));_.setAttribute("data-slate-fragment",p),a.setData("application/x-slate-fragment",p);const m=document.createElement("div");return m.appendChild(h),m.setAttribute("hidden","true"),document.body.appendChild(m),a.setData("text/html",m.innerHTML),a.setData("text/plain",qt(m)),document.body.removeChild(m),a},e.insertData=a=>{e.insertFragmentData(a)||e.insertTextData(a)},e.insertFragmentData=a=>{const s=a.getData("application/x-slate-fragment")||vn(a);if(s){const o=decodeURIComponent(window.atob(s)),r=JSON.parse(o);return e.insertFragment(r),!0}return!1},e.insertTextData=a=>{const s=a.getData("text/plain");if(s){const o=s.split(/\r\n|\r|\n/);let r=!1;for(const f of o)r&&M.splitNodes(e,{always:!0}),e.insertText(f),r=!0;return!0}return!1},e.onChange=()=>{const a=Ot.get(e);a&&a(),n()},e};function Gi(i){let e,t;const n=i[5].default,l=ie(n,i,i[4],null);let a=[i[2]],s={};for(let o=0;o<a.length;o+=1)s=v(s,a[o]);return{c(){e=q("p"),l&&l.c(),this.h()},l(o){e=U(o,"P",{});var r=K(e);l&&l.l(r),r.forEach(C),this.h()},h(){A(e,s),T(e,"svelte-xu68xn",!0)},m(o,r){F(o,e,r),l&&l.m(e,null),i[12](e),t=!0},p(o,r){l&&l.p&&(!t||r&16)&&le(l,n,o,o[4],t?re(n,o[4],r,null):oe(o[4]),null),A(e,s=se(a,[r&4&&o[2]])),T(e,"svelte-xu68xn",!0)},i(o){t||(E(l,o),t=!0)},o(o){D(l,o),t=!1},d(o){o&&C(e),l&&l.d(o),i[12](null)}}}function Ji(i){let e,t;const n=i[5].default,l=ie(n,i,i[4],null);let a=[i[2]],s={};for(let o=0;o<a.length;o+=1)s=v(s,a[o]);return{c(){e=q("ol"),l&&l.c(),this.h()},l(o){e=U(o,"OL",{});var r=K(e);l&&l.l(r),r.forEach(C),this.h()},h(){A(e,s),T(e,"svelte-xu68xn",!0)},m(o,r){F(o,e,r),l&&l.m(e,null),i[11](e),t=!0},p(o,r){l&&l.p&&(!t||r&16)&&le(l,n,o,o[4],t?re(n,o[4],r,null):oe(o[4]),null),A(e,s=se(a,[r&4&&o[2]])),T(e,"svelte-xu68xn",!0)},i(o){t||(E(l,o),t=!0)},o(o){D(l,o),t=!1},d(o){o&&C(e),l&&l.d(o),i[11](null)}}}function Qi(i){let e,t;const n=i[5].default,l=ie(n,i,i[4],null);let a=[i[2]],s={};for(let o=0;o<a.length;o+=1)s=v(s,a[o]);return{c(){e=q("li"),l&&l.c(),this.h()},l(o){e=U(o,"LI",{});var r=K(e);l&&l.l(r),r.forEach(C),this.h()},h(){A(e,s),T(e,"svelte-xu68xn",!0)},m(o,r){F(o,e,r),l&&l.m(e,null),i[10](e),t=!0},p(o,r){l&&l.p&&(!t||r&16)&&le(l,n,o,o[4],t?re(n,o[4],r,null):oe(o[4]),null),A(e,s=se(a,[r&4&&o[2]])),T(e,"svelte-xu68xn",!0)},i(o){t||(E(l,o),t=!0)},o(o){D(l,o),t=!1},d(o){o&&C(e),l&&l.d(o),i[10](null)}}}function Zi(i){let e,t;const n=i[5].default,l=ie(n,i,i[4],null);let a=[i[2]],s={};for(let o=0;o<a.length;o+=1)s=v(s,a[o]);return{c(){e=q("h2"),l&&l.c(),this.h()},l(o){e=U(o,"H2",{});var r=K(e);l&&l.l(r),r.forEach(C),this.h()},h(){A(e,s),T(e,"svelte-xu68xn",!0)},m(o,r){F(o,e,r),l&&l.m(e,null),i[9](e),t=!0},p(o,r){l&&l.p&&(!t||r&16)&&le(l,n,o,o[4],t?re(n,o[4],r,null):oe(o[4]),null),A(e,s=se(a,[r&4&&o[2]])),T(e,"svelte-xu68xn",!0)},i(o){t||(E(l,o),t=!0)},o(o){D(l,o),t=!1},d(o){o&&C(e),l&&l.d(o),i[9](null)}}}function ji(i){let e,t;const n=i[5].default,l=ie(n,i,i[4],null);let a=[i[2]],s={};for(let o=0;o<a.length;o+=1)s=v(s,a[o]);return{c(){e=q("h1"),l&&l.c(),this.h()},l(o){e=U(o,"H1",{});var r=K(e);l&&l.l(r),r.forEach(C),this.h()},h(){A(e,s),T(e,"svelte-xu68xn",!0)},m(o,r){F(o,e,r),l&&l.m(e,null),i[8](e),t=!0},p(o,r){l&&l.p&&(!t||r&16)&&le(l,n,o,o[4],t?re(n,o[4],r,null):oe(o[4]),null),A(e,s=se(a,[r&4&&o[2]])),T(e,"svelte-xu68xn",!0)},i(o){t||(E(l,o),t=!0)},o(o){D(l,o),t=!1},d(o){o&&C(e),l&&l.d(o),i[8](null)}}}function xi(i){let e,t;const n=i[5].default,l=ie(n,i,i[4],null);let a=[i[2]],s={};for(let o=0;o<a.length;o+=1)s=v(s,a[o]);return{c(){e=q("ul"),l&&l.c(),this.h()},l(o){e=U(o,"UL",{});var r=K(e);l&&l.l(r),r.forEach(C),this.h()},h(){A(e,s),T(e,"svelte-xu68xn",!0)},m(o,r){F(o,e,r),l&&l.m(e,null),i[7](e),t=!0},p(o,r){l&&l.p&&(!t||r&16)&&le(l,n,o,o[4],t?re(n,o[4],r,null):oe(o[4]),null),A(e,s=se(a,[r&4&&o[2]])),T(e,"svelte-xu68xn",!0)},i(o){t||(E(l,o),t=!0)},o(o){D(l,o),t=!1},d(o){o&&C(e),l&&l.d(o),i[7](null)}}}function $i(i){let e,t;const n=i[5].default,l=ie(n,i,i[4],null);let a=[i[2]],s={};for(let o=0;o<a.length;o+=1)s=v(s,a[o]);return{c(){e=q("blockquote"),l&&l.c(),this.h()},l(o){e=U(o,"BLOCKQUOTE",{});var r=K(e);l&&l.l(r),r.forEach(C),this.h()},h(){A(e,s),T(e,"svelte-xu68xn",!0)},m(o,r){F(o,e,r),l&&l.m(e,null),i[6](e),t=!0},p(o,r){l&&l.p&&(!t||r&16)&&le(l,n,o,o[4],t?re(n,o[4],r,null):oe(o[4]),null),A(e,s=se(a,[r&4&&o[2]])),T(e,"svelte-xu68xn",!0)},i(o){t||(E(l,o),t=!0)},o(o){D(l,o),t=!1},d(o){o&&C(e),l&&l.d(o),i[6](null)}}}function el(i){let e,t,n,l;const a=[$i,xi,ji,Zi,Qi,Ji,Gi],s=[];function o(r,f){var c,d,h,_,k,w;return((c=r[1])==null?void 0:c.type)==="block-quote"?0:((d=r[1])==null?void 0:d.type)==="bulleted-list"?1:((h=r[1])==null?void 0:h.type)==="heading-one"?2:((_=r[1])==null?void 0:_.type)==="heading-two"?3:((k=r[1])==null?void 0:k.type)==="list-item"?4:((w=r[1])==null?void 0:w.type)==="numbered-list"?5:6}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),n=O()},l(r){t.l(r),n=O()},m(r,f){s[e].m(r,f),F(r,n,f),l=!0},p(r,[f]){let c=e;e=o(r),e===c?s[e].p(r,f):(X(),D(s[c],1,1,()=>{s[c]=null}),G(),t=s[e],t?t.p(r,f):(t=s[e]=a[e](r),t.c()),E(t,1),t.m(n.parentNode,n))},i(r){l||(E(t),l=!0)},o(r){D(t),l=!1},d(r){s[e].d(r),r&&C(n)}}}function tl(i,e,t){const n=["editor","element","ref"];let l=ae(e,n),{$$slots:a={},$$scope:s}=e,{editor:o}=e,{element:r}=e,{ref:f=void 0}=e;function c(m){ee[m?"unshift":"push"](()=>{f=m,t(0,f)})}function d(m){ee[m?"unshift":"push"](()=>{f=m,t(0,f)})}function h(m){ee[m?"unshift":"push"](()=>{f=m,t(0,f)})}function _(m){ee[m?"unshift":"push"](()=>{f=m,t(0,f)})}function k(m){ee[m?"unshift":"push"](()=>{f=m,t(0,f)})}function w(m){ee[m?"unshift":"push"](()=>{f=m,t(0,f)})}function p(m){ee[m?"unshift":"push"](()=>{f=m,t(0,f)})}return i.$$set=m=>{e=v(v({},e),Le(m)),t(2,l=ae(e,n)),"editor"in m&&t(3,o=m.editor),"element"in m&&t(1,r=m.element),"ref"in m&&t(0,f=m.ref),"$$scope"in m&&t(4,s=m.$$scope)},[f,r,l,o,s,a,c,d,h,_,k,w,p]}class fl extends Q{constructor(e){super();Z(this,e,tl,el,j,{editor:3,element:1,ref:0})}}function nl(i){let e,t;const n=i[4].default,l=ie(n,i,i[3],null);let a=[i[1]],s={};for(let o=0;o<a.length;o+=1)s=v(s,a[o]);return{c(){e=q("span"),l&&l.c(),this.h()},l(o){e=U(o,"SPAN",{});var r=K(e);l&&l.l(r),r.forEach(C),this.h()},h(){A(e,s),T(e,"bold",i[0].bold),T(e,"italic",i[0].italic),T(e,"code",i[0].code),T(e,"underline",i[0].underline),T(e,"svelte-nzyvs2",!0)},m(o,r){F(o,e,r),l&&l.m(e,null),t=!0},p(o,[r]){l&&l.p&&(!t||r&8)&&le(l,n,o,o[3],t?re(n,o[3],r,null):oe(o[3]),null),A(e,s=se(a,[r&2&&o[1]])),T(e,"bold",o[0].bold),T(e,"italic",o[0].italic),T(e,"code",o[0].code),T(e,"underline",o[0].underline),T(e,"svelte-nzyvs2",!0)},i(o){t||(E(l,o),t=!0)},o(o){D(l,o),t=!1},d(o){o&&C(e),l&&l.d(o)}}}function il(i,e,t){const n=["editor","leaf"];let l=ae(e,n),{$$slots:a={},$$scope:s}=e,{editor:o}=e,{leaf:r}=e;return i.$$set=f=>{e=v(v({},e),Le(f)),t(1,l=ae(e,n)),"editor"in f&&t(2,o=f.editor),"leaf"in f&&t(0,r=f.leaf),"$$scope"in f&&t(3,s=f.$$scope)},[r,l,o,s,a]}class cl extends Q{constructor(e){super();Z(this,e,il,nl,j,{editor:2,leaf:0})}}export{sl as E,cl as L,rl as S,fl as a,al as w};
