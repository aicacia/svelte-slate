var En=Object.defineProperty;var tt=Object.getOwnPropertySymbols;var Pt=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable;var Tt=(r,e,t)=>e in r?En(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Bt=(r,e)=>{for(var t in e||(e={}))Pt.call(e,t)&&Tt(r,t,e[t]);if(tt)for(var t of tt(e))Ft.call(e,t)&&Tt(r,t,e[t]);return r};var dt=(r,e)=>{var t={};for(var n in r)Pt.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&tt)for(var n of tt(r))e.indexOf(n)<0&&Ft.call(r,n)&&(t[n]=r[n]);return t};import{S as $,i as ee,s as te,D as le,G as se,H as ae,I as fe,p as y,n as C,q as qe,C as Ue,K as ht,L as Ke,M as m,R as I,t as Ye,g as Xe,f as O,d as b,e as X,c as G,a as J,b as pe,F as nt,h as gt,J as Ce,k as B,m as Z,o as j,P as Ne,v as W,w as Q,x as z,A as H,N as ge,O as bn,Q as mt,T as ne,U as Ge,V as It,W as At,u as _t,X as yn,Y as rt,Z as Mt,_ as it,$ as de,B as q,a0 as Pe,a1 as V,a2 as M,y as ce,a3 as Cn,a4 as Dn,a5 as pt,a6 as re,a7 as ie,a8 as Ln,r as Sn,a9 as v,aa as On,j as Nn,l as Pn,ab as Fn,ac as Tn}from"../chunks/vendor-4dd1056e.js";const ot=new WeakMap,lt=new WeakMap,wt=new WeakMap,st=new WeakMap,Fe=new WeakMap,Te=new WeakMap,kt=new WeakMap,Be=new WeakMap,Rt=new WeakMap,Ie=new WeakMap,Wt=new WeakMap,Je=Symbol("placeholder");function Bn(r){let e;const t=r[7].default,n=le(t,r,r[6],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,a){n&&n.m(i,a),e=!0},p(i,[a]){n&&n.p&&(!e||a&64)&&se(n,t,i,i[6],e?fe(t,i[6],a,null):ae(i[6]),null)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}const zt={},Ht={},Vt={},vt={},qt={};function In(){const r=Ke(zt);if(!r)throw new Error("The `getEditorContext` must be used inside the Slate component's context.");return r}function Ut(){const r=Ke(Ht);if(!r)throw new Error("The `getReadOnlyContext` must be used inside the Slate component's context.");return r}function An(){const r=Ke(Vt);if(!r)throw new Error("The `getFocusedContext` must be used inside the Slate component's context.");return r}function Kt(){const r=Ke(vt);if(!r)throw new Error("The `getDecorateContext` must be used inside the Slate component's context.");return r}function Mn(){const r=Ke(qt);if(!r)throw new Error("The `getSelectionContext` must be used inside the Slate component's context.");return r}function Yt(r){return[]}function Rn(r,e,t){let{$$slots:n={},$$scope:i}=e,{editor:a}=e,{value:s=a.children}=e,{selection:o=a.selection}=e;const l=Ue(a);qe(zt,l);const f=Ue(!0);qe(Ht,f);const c=Ue(!1);qe(Vt,c);const d=Ue(Yt);qe(vt,d);const h=Ue(a.selection);qe(qt,h);function _(){t(0,s=a.children),t(1,o=a.selection)}Wt.set(a,_);let p=a,k,w;return r.$$set=g=>{"editor"in g&&t(2,a=g.editor),"value"in g&&t(0,s=g.value),"selection"in g&&t(1,o=g.selection),"$$scope"in g&&t(6,i=g.$$scope)},r.$$.update=()=>{r.$$.dirty&12&&a!==p&&(t(3,p=a),l.set(a)),r.$$.dirty&17&&k!==s&&(l.update(g=>(g.children=s,g)),t(4,k=s)),r.$$.dirty&34&&(ht(w,o)||(h.set(o),t(5,w=o)))},[s,o,a,p,k,w,i,n]}class Wn extends ${constructor(e){super();ee(this,e,Rn,Bn,te,{editor:2,value:0,selection:1})}}let zn=0;class Hn{constructor(){this.id=`${zn++}`}toString(){return this.id}}const Et=r=>r&&r.ownerDocument&&r.ownerDocument.defaultView||null,Vn=r=>De(r)&&r.nodeType===8,me=r=>De(r)&&r.nodeType===1,De=r=>{const e=Et(r);return!!e&&r instanceof e.Node},Xt=r=>{const e=r&&r.anchorNode&&Et(r.anchorNode);return!!e&&r instanceof e.Selection},Gt=r=>De(r)&&r.nodeType===3,vn=r=>r.clipboardData&&r.clipboardData.getData("text/plain")!==""&&r.clipboardData.types.length===1,qn=r=>{let[e,t]=r;if(me(e)&&e.childNodes.length){let n=t===e.childNodes.length,i=n?t-1:t;for([e,i]=Jt(e,i,n?"backward":"forward"),n=i<t;me(e)&&e.childNodes.length;){const a=n?e.childNodes.length-1:0;e=Kn(e,a,n?"backward":"forward")}t=n&&e.textContent!=null?e.textContent.length:0}return[e,t]},Un=()=>!!(window.document.activeElement&&window.document.activeElement.shadowRoot),Jt=(r,e,t)=>{const{childNodes:n}=r;let i=n[e],a=e,s=!1,o=!1;for(;(Vn(i)||me(i)&&i.childNodes.length===0||me(i)&&i.getAttribute("contenteditable")==="false")&&!(s&&o);){if(a>=n.length){s=!0,a=e-1,t="backward";continue}if(a<0){o=!0,a=e+1,t="forward";continue}i=n[a],e=a,a+=t==="forward"?1:-1}return[i,e]},Kn=(r,e,t)=>{const[n]=Jt(r,e,t);return n},Qt=r=>{let e="";if(Gt(r)&&r.nodeValue)return r.nodeValue;if(me(r)){for(const n of Array.from(r.childNodes))e+=Qt(n);const t=getComputedStyle(r).getPropertyValue("display");(t==="block"||t==="list"||r.tagName==="BR")&&(e+=`
`)}return e},Yn=/data-slate-fragment="(.+?)"/m,Xn=r=>{const e=r.getData("text/html"),[,t]=e.match(Yn)||[];return t},Gn=typeof navigator!="undefined"&&typeof window!="undefined"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Zt=typeof navigator!="undefined"&&/Mac OS X/.test(navigator.userAgent);typeof navigator!="undefined"&&/Android/.test(navigator.userAgent);const bt=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),yt=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),Jn=typeof navigator!="undefined"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),jt=typeof navigator!="undefined"&&/Chrome/i.test(navigator.userAgent),Qn=typeof navigator!="undefined"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),Zn=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),jn=typeof navigator!="undefined"&&/.*QQBrowser/.test(navigator.userAgent),xt=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",$t=!Qn&&!Jn&&typeof globalThis!="undefined"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function";function Ct(r){const e=wt.get(r);if(!e)throw new Error("Unable to find a host window element for this editor");return e}function Le(r){let e=kt.get(r);return e||(e=new Hn,kt.set(r,e)),e}function Ae(r){const e=[];let t=r;for(;;){const n=lt.get(t);if(n==null){if(m.isEditor(t))return e;break}const i=ot.get(t);if(i==null)break;e.unshift(i),t=n}throw new Error(`Unable to find the path for Slate node: ${JSON.stringify(r)}`)}function Me(r){const e=Ee(r,r),t=e.getRootNode();return(t instanceof Document||t instanceof ShadowRoot)&&t.getSelection!=null?t:e.ownerDocument}function en(r){return!!Ie.get(r)}function xn(r){const e=Ee(r,r),t=Me(r);Ie.set(r,!0),t.activeElement!==e&&e.focus({preventScroll:!0})}function Dt(r,e,t={}){const{editable:n=!1}=t,i=Ee(r,r);let a;try{a=me(e)?e:e.parentElement}catch(s){if(!s.message.includes('Permission denied to access property "nodeType"'))throw s}return a?a.closest("[data-svelte-editor]")===i&&(!n||a.isContentEditable?!0:typeof a.isContentEditable=="boolean"&&a.closest('[contenteditable="false"]')===i||!!a.getAttribute("data-slate-zero-width")):!1}function Ee(r,e,t=!0){const n=Be.get(r),i=m.isEditor(e)?st.get(r):n==null?void 0:n.get(Le(e));if(!i&&t)throw new Error(`Cannot resolve a DOM node from Slate node: ${JSON.stringify(e)}`);return i}function tn(r,e,t=!0){const[n]=m.node(r,e.path),i=Ee(r,n,t);let a;m.void(r,{at:e})&&(e={path:e.path,offset:0});const s="[data-slate-string], [data-slate-zero-width]",o=i?Array.from(i.querySelectorAll(s)):[];let l=0;for(const f of o){const c=f.childNodes[0];if(c==null||c.textContent==null)continue;const{length:d}=c.textContent,h=f.getAttribute("data-slate-length"),_=h==null?d:parseInt(h,10),p=l+_;if(e.offset<=p){const k=Math.min(d,Math.max(0,e.offset-l));a=[c,k];break}l=p}if(!a&&t)throw new Error(`Cannot resolve a DOM point from Slate point: ${JSON.stringify(e)}`);return a}function at(r,e,t=!0){const{anchor:n,focus:i}=e,a=I.isBackward(e),s=tn(r,n,t);if(!s)return;const o=I.isCollapsed(e)?s:tn(r,i),f=Ct(r).document.createRange(),[c,d]=a?o:s,[h,_]=a?s:o,k=!!(me(c)?c:c.parentElement).getAttribute("data-slate-zero-width"),g=!!(me(h)?h:h.parentElement).getAttribute("data-slate-zero-width");return f.setStart(c,k?1:d),f.setEnd(h,g?1:_),f}function Se(r){let e=me(r)?r:r.parentElement;e&&!e.hasAttribute("data-slate-node")&&(e=e.closest("[data-slate-node]"));const t=e?Fe.get(e):null;if(!t)throw new Error(`Cannot resolve a Slate node from DOM node: ${e}`);return t}function $n(r,e){"nativeEvent"in e&&(e=e.nativeEvent);const{clientX:t,clientY:n,target:i}=e;if(t==null||n==null)throw new Error(`Cannot resolve a Slate range from a DOM event: ${e}`);const a=Se(e.target),s=Ae(a);if(m.isVoid(r,a)){const c=i.getBoundingClientRect(),d=r.isInline(a)?t-c.left<c.left+c.width-t:n-c.top<c.top+c.height-n,h=m.point(r,s,{edge:d?"start":"end"}),_=d?m.before(r,h):m.after(r,h);if(_)return m.range(r,_)}let o;const{document:l}=Ct(r);if(l.caretRangeFromPoint)o=l.caretRangeFromPoint(t,n);else{const c=l.caretPositionFromPoint(t,n);c&&(o=l.createRange(),o.setStart(c.offsetNode,c.offset),o.setEnd(c.offsetNode,c.offset))}if(!o)throw new Error(`Cannot resolve a Slate range from a DOM event: ${e}`);return Qe(r,o,{exactMatch:!1,suppressThrow:!1})}function nn(r,e,t){var h;const{exactMatch:n,suppressThrow:i}=t,[a,s]=n?e:qn(e),o=a.parentNode;let l=null,f=0;if(o){const _=o.closest('[data-slate-void="true"]');let p=o.closest("[data-slate-leaf]"),k=null;if(p){l=p.closest('[data-slate-node="text"]');const g=Ct(r).document.createRange();g.setStart(l,0),g.setEnd(a,s);const E=g.cloneContents();[...Array.prototype.slice.call(E.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(E.querySelectorAll("[contenteditable=false]"))].forEach(R=>{R.parentNode.removeChild(R)}),f=E.textContent.length,k=l}else _&&(p=_.querySelector("[data-slate-leaf]"),p?(l=p.closest('[data-slate-node="text"]'),k=p,f=k.textContent.length,k.querySelectorAll("[data-slate-zero-width]").forEach(w=>{f-=w.textContent.length})):f=1);k&&f===k.textContent.length&&(o.hasAttribute("data-slate-zero-width")||bt&&((h=k.textContent)==null?void 0:h.endsWith(`

`)))&&f--}if(!l){if(i)return null;throw new Error(`Cannot resolve a Slate point from DOM point: ${e}`)}const c=Se(l);return{path:Ae(c),offset:f}}function Qe(r,e,t){const{exactMatch:n,suppressThrow:i}=t,a=Xt(e)?e.anchorNode:e.startContainer;let s,o,l,f,c;if(a&&(Xt(e)?(s=e.anchorNode,o=e.anchorOffset,l=e.focusNode,f=e.focusOffset,jt&&Un()?c=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:c=e.isCollapsed):(s=e.startContainer,o=e.startOffset,l=e.endContainer,f=e.endOffset,c=e.collapsed)),s==null||l==null||o==null||f==null)throw new Error(`Cannot resolve a Slate range from DOM range: ${e}`);const d=nn(r,[s,o],{exactMatch:n,suppressThrow:i});if(!d)return null;const h=c?d:nn(r,[l,f],{exactMatch:n,suppressThrow:i});if(!h)return null;let _={anchor:d,focus:h};return I.isExpanded(_)&&I.isForward(_)&&me(l)&&m.void(r,{at:_.focus,mode:"highest"})&&(_=m.unhangRange(r,_,{voids:!0})),_}function er(r,e){const{anchor:t,focus:n}=e;return m.hasPath(r,t.path)&&m.hasPath(r,n.path)}function tr(r,e){return Object.keys(r).length===Object.keys(e).length&&Object.keys(r).every(t=>e.hasOwnProperty(t)&&r[t]===e[t])}function Lt(r,e){if(r===e)return!0;if(!r||!e||(r==null?void 0:r.length)!==(e==null?void 0:e.length))return!1;for(let i=0;i<r.length;i++){const a=r[i],s=e[i],t=a,{anchor:o,focus:l}=t,f=dt(t,["anchor","focus"]),n=s,{anchor:c,focus:d}=n,h=dt(n,["anchor","focus"]);if(!I.equals(a,s)||a[Je]!==s[Je]||!tr(f,h))return!1}return!0}function rn(r,e,t){return r[e]=t,r}function on(r){let e=`
`,t;return{c(){t=Ye(e)},l(n){t=Xe(n,e)},m(n,i){O(n,t,i)},d(n){n&&b(t)}}}function nr(r){let e,t,n=r[1]&&on();return{c(){e=X("span"),t=Ye(r[0]),n&&n.c(),this.h()},l(i){e=G(i,"SPAN",{"data-slate-string":!0});var a=J(e);t=Xe(a,r[0]),n&&n.l(a),a.forEach(b),this.h()},h(){pe(e,"data-slate-string","true")},m(i,a){O(i,e,a),nt(e,t),n&&n.m(e,null)},p(i,[a]){a&1&&gt(t,i[0]),i[1]?n||(n=on(),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:Ce,o:Ce,d(i){i&&b(e),n&&n.d()}}}function rr(r,e,t){let{text:n}=e,{isTrailing:i=!1}=e;return r.$$set=a=>{"text"in a&&t(0,n=a.text),"isTrailing"in a&&t(1,i=a.isTrailing)},[n,i]}class ir extends ${constructor(e){super();ee(this,e,rr,nr,te,{text:0,isTrailing:1})}}function ln(r){let e;return{c(){e=X("br")},l(t){e=G(t,"BR",{})},m(t,n){O(t,e,n)},d(t){t&&b(e)}}}function or(r){let e,t="\uFEFF",n,i,a=r[1]&&ln();return{c(){e=X("span"),n=Ye(t),a&&a.c(),this.h()},l(s){e=G(s,"SPAN",{"data-slate-zero-width":!0,"data-slate-length":!0});var o=J(e);n=Xe(o,t),a&&a.l(o),o.forEach(b),this.h()},h(){pe(e,"data-slate-zero-width",i=r[1]?"n":"z"),pe(e,"data-slate-length",r[0])},m(s,o){O(s,e,o),nt(e,n),a&&a.m(e,null)},p(s,[o]){s[1]?a||(a=ln(),a.c(),a.m(e,null)):a&&(a.d(1),a=null),o&2&&i!==(i=s[1]?"n":"z")&&pe(e,"data-slate-zero-width",i),o&1&&pe(e,"data-slate-length",s[0])},i:Ce,o:Ce,d(s){s&&b(e),a&&a.d()}}}function lr(r,e,t){let{length:n=0}=e,{isLineBreak:i=!1}=e;return r.$$set=a=>{"length"in a&&t(0,n=a.length),"isLineBreak"in a&&t(1,i=a.isLineBreak)},[n,i]}class St extends ${constructor(e){super();ee(this,e,lr,or,te,{length:0,isLineBreak:1})}}function sr(r){let e,t;return e=new ir({props:{isTrailing:r[5],text:r[2].text}}),{c(){W(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,i){z(e,n,i),t=!0},p(n,i){const a={};i&32&&(a.isTrailing=n[5]),i&4&&(a.text=n[2].text),e.$set(a)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function ar(r){let e,t;return e=new St({}),{c(){W(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,i){z(e,n,i),t=!0},p:Ce,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function fr(r){let e,t;return e=new St({props:{isLineBreak:!0}}),{c(){W(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,i){z(e,n,i),t=!0},p:Ce,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function cr(r){let e,t;return e=new St({props:{length:ge.string(r[0]).length}}),{c(){W(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,i){z(e,n,i),t=!0},p(n,i){const a={};i&1&&(a.length=ge.string(n[0]).length),e.$set(a)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function ur(r){let e,t,n,i,a,s;const o=[cr,fr,ar,sr],l=[];function f(c,d){return d&9&&(e=null),d&31&&(t=null),e==null&&(e=!!c[3].isVoid(c[0])),e?0:(t==null&&(t=c[2].text===""&&c[0].children[c[0].children.length-1]===c[1]&&!c[3].isInline(c[0])&&m.string(c[3],c[4])===""),t?1:c[2].text===""?2:3)}return n=f(r,-1),i=l[n]=o[n](r),{c(){i.c(),a=B()},l(c){i.l(c),a=B()},m(c,d){l[n].m(c,d),O(c,a,d),s=!0},p(c,[d]){let h=n;n=f(c,d),n===h?l[n].p(c,d):(Z(),C(l[h],1,1,()=>{l[h]=null}),j(),i=l[n],i?i.p(c,d):(i=l[n]=o[n](c),i.c()),y(i,1),i.m(a.parentNode,a))},i(c){s||(y(i),s=!0)},o(c){C(i),s=!1},d(c){l[n].d(c),c&&b(a)}}}function dr(r,e,t){let n,i,a,{editor:s}=e,{isLast:o}=e,{leaf:l}=e,{parent:f}=e,{text:c}=e,d,h,_,p,k,w;return r.$$set=g=>{"editor"in g&&t(6,s=g.editor),"isLast"in g&&t(7,o=g.isLast),"leaf"in g&&t(8,l=g.leaf),"parent"in g&&t(0,f=g.parent),"text"in g&&t(1,c=g.text)},r.$$.update=()=>{r.$$.dirty&576&&h!==s&&(t(3,d=s),t(9,h=s)),r.$$.dirty&1280&&p!==l&&(t(2,_=l),t(10,p=l)),r.$$.dirty&4098&&w!==c&&(t(11,k=c),t(12,w=c)),r.$$.dirty&132&&t(5,n=o&&_.text.slice(-1)===`
`),r.$$.dirty&2048&&t(13,i=Ae(k)),r.$$.dirty&8192&&t(4,a=Ne.parent(i))},[f,c,_,d,a,n,s,o,l,h,p,k,w,i]}class hr extends ${constructor(e){super();ee(this,e,dr,ur,te,{editor:6,isLast:7,leaf:8,parent:0,text:1})}}function sn(r){let e,t,n,i;function a(l){r[12](l)}var s=r[3];function o(l){let f={"data-slate-placeholder":!0,style:"position: absolute; pointer-events: none; width: 100%; max-width: 100%; display: block; opacity: 0.333; user-select: none; text-decoration: none;",contenteditable:"false",$$slots:{default:[gr]},$$scope:{ctx:l}};return l[6]!==void 0&&(f.clientHeight=l[6]),{props:f}}return s&&(e=new s(o(r)),ne.push(()=>Ge(e,"clientHeight",a))),{c(){e&&W(e.$$.fragment),n=B()},l(l){e&&Q(e.$$.fragment,l),n=B()},m(l,f){e&&z(e,l,f),O(l,n,f),i=!0},p(l,f){const c={};if(f&16416&&(c.$$scope={dirty:f,ctx:l}),!t&&f&64&&(t=!0,c.clientHeight=l[6],mt(()=>t=!1)),s!==(s=l[3])){if(e){Z();const d=e;C(d.$$.fragment,1,0,()=>{H(d,1)}),j()}s?(e=new s(o(l)),ne.push(()=>Ge(e,"clientHeight",a)),W(e.$$.fragment),y(e.$$.fragment,1),z(e,n.parentNode,n)):e=null}else s&&e.$set(c)},i(l){i||(e&&y(e.$$.fragment,l),i=!0)},o(l){e&&C(e.$$.fragment,l),i=!1},d(l){l&&b(n),e&&H(e,l)}}}function gr(r){let e=r[5].placeholder+"",t;return{c(){t=Ye(e)},l(n){t=Xe(n,e)},m(n,i){O(n,t,i)},p(n,i){i&32&&e!==(e=n[5].placeholder+"")&&gt(t,e)},d(n){n&&b(t)}}}function mr(r){let e,t,n,i=Je in r[5]&&sn(r);return t=new hr({props:{editor:r[7],isLast:r[0],leaf:r[5],parent:r[1],text:r[2]}}),{c(){i&&i.c(),e=B(),W(t.$$.fragment)},l(a){i&&i.l(a),e=B(),Q(t.$$.fragment,a)},m(a,s){i&&i.m(a,s),O(a,e,s),z(t,a,s),n=!0},p(a,s){Je in a[5]?i?(i.p(a,s),s&32&&y(i,1)):(i=sn(a),i.c(),y(i,1),i.m(e.parentNode,e)):i&&(Z(),C(i,1,1,()=>{i=null}),j());const o={};s&128&&(o.editor=a[7]),s&1&&(o.isLast=a[0]),s&32&&(o.leaf=a[5]),s&2&&(o.parent=a[1]),s&4&&(o.text=a[2]),t.$set(o)},i(a){n||(y(i),y(t.$$.fragment,a),n=!0)},o(a){C(i),C(t.$$.fragment,a),n=!1},d(a){i&&i.d(a),a&&b(e),H(t,a)}}}function _r(r){let e,t,n;var i=r[4];function a(s){return{props:{editor:s[7],leaf:s[5],"data-slate-leaf":"true",$$slots:{default:[mr]},$$scope:{ctx:s}}}}return i&&(e=new i(a(r))),{c(){e&&W(e.$$.fragment),t=B()},l(s){e&&Q(e.$$.fragment,s),t=B()},m(s,o){e&&z(e,s,o),O(s,t,o),n=!0},p(s,[o]){const l={};if(o&128&&(l.editor=s[7]),o&32&&(l.leaf=s[5]),o&16623&&(l.$$scope={dirty:o,ctx:s}),i!==(i=s[4])){if(e){Z();const f=e;C(f.$$.fragment,1,0,()=>{H(f,1)}),j()}i?(e=new i(a(s)),W(e.$$.fragment),y(e.$$.fragment,1),z(e,t.parentNode,t)):e=null}else i&&e.$set(l)},i(s){n||(e&&y(e.$$.fragment,s),n=!0)},o(s){e&&C(e.$$.fragment,s),n=!1},d(s){s&&b(t),e&&H(e,s)}}}function pr(r,e,t){let{editor:n}=e,{isLast:i}=e,{leaf:a}=e,{parent:s}=e,{text:o}=e,{Placeholder:l}=e,{Leaf:f}=e,c,d,h,_,p,k;bn(()=>{if(xt){const g=document.querySelector('[data-svelte-editor="true"]');g&&(g.style.minHeight="")}});function w(g){p=g,t(6,p)}return r.$$set=g=>{"editor"in g&&t(8,n=g.editor),"isLast"in g&&t(0,i=g.isLast),"leaf"in g&&t(9,a=g.leaf),"parent"in g&&t(1,s=g.parent),"text"in g&&t(2,o=g.text),"Placeholder"in g&&t(3,l=g.Placeholder),"Leaf"in g&&t(4,f=g.Leaf)},r.$$.update=()=>{if(r.$$.dirty&1280&&d!==n&&(t(7,c=n),t(10,d=n)),r.$$.dirty&2560&&_!==a&&(t(5,h=a),t(11,_=a)),r.$$.dirty&96&&p!==k&&h&&xt){const g=document.querySelector('[data-svelte-editor="true"]');g&&(g.style.minHeight=`${p}px`)}},[i,s,o,l,f,h,p,c,n,a,d,_,w]}class an extends ${constructor(e){super();ee(this,e,pr,_r,te,{editor:8,isLast:0,leaf:9,parent:1,text:2,Placeholder:3,Leaf:4})}}function fn(r,e,t){const n=r.slice();return n[19]=e[t],n[21]=t,n}function cn(r,e){let t,n,i,a;var s=an;function o(l){return{props:{Placeholder:l[2],Leaf:l[3],editor:l[7],isLast:l[0]&&l[21]===l[8].length-1,parent:l[1],leaf:l[19],text:l[4]}}}return s&&(n=new s(o(e))),{key:r,first:null,c(){t=B(),n&&W(n.$$.fragment),i=B(),this.h()},l(l){t=B(),n&&Q(n.$$.fragment,l),i=B(),this.h()},h(){this.first=t},m(l,f){O(l,t,f),n&&z(n,l,f),O(l,i,f),a=!0},p(l,f){e=l;const c={};if(f&4&&(c.Placeholder=e[2]),f&8&&(c.Leaf=e[3]),f&128&&(c.editor=e[7]),f&257&&(c.isLast=e[0]&&e[21]===e[8].length-1),f&2&&(c.parent=e[1]),f&256&&(c.leaf=e[19]),f&16&&(c.text=e[4]),s!==(s=an)){if(n){Z();const d=n;C(d.$$.fragment,1,0,()=>{H(d,1)}),j()}s?(n=new s(o(e)),W(n.$$.fragment),y(n.$$.fragment,1),z(n,i.parentNode,i)):n=null}else s&&n.$set(c)},i(l){a||(n&&y(n.$$.fragment,l),a=!0)},o(l){n&&C(n.$$.fragment,l),a=!1},d(l){l&&b(t),l&&b(i),n&&H(n,l)}}}function wr(r){let e,t=[],n=new Map,i,a=r[8];const s=o=>`${o[5]}-${o[21]}`;for(let o=0;o<a.length;o+=1){let l=fn(r,a,o),f=s(l);n.set(f,t[o]=cn(f,l))}return{c(){e=X("span");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=G(o,"SPAN",{"data-slate-node":!0});var l=J(e);for(let f=0;f<t.length;f+=1)t[f].l(l);l.forEach(b),this.h()},h(){pe(e,"data-slate-node","text")},m(o,l){O(o,e,l);for(let f=0;f<t.length;f+=1)t[f].m(e,null);r[18](e),i=!0},p(o,[l]){l&447&&(a=o[8],Z(),t=It(t,l,s,1,o,a,n,e,At,cn,null,fn),j())},i(o){if(!i){for(let l=0;l<a.length;l+=1)y(t[l]);i=!0}},o(o){for(let l=0;l<t.length;l+=1)C(t[l]);i=!1},d(o){o&&b(e);for(let l=0;l<t.length;l+=1)t[l].d();r[18](null)}}}function kr(r,e,t){let n,i,{editor:a}=e,{decorations:s=[]}=e,{isLast:o}=e,{parent:l}=e,{text:f}=e,{Placeholder:c}=e,{Leaf:d}=e,h,_,p,k,w,g,E,F,R;_t(()=>{var T;(T=Be.get(a))==null||T.set(E,R),Te.set(p,R),Fe.set(R,p)});function _e(T){ne[T?"unshift":"push"](()=>{R=T,t(6,R)})}return r.$$set=T=>{"editor"in T&&t(9,a=T.editor),"decorations"in T&&t(10,s=T.decorations),"isLast"in T&&t(0,o=T.isLast),"parent"in T&&t(1,l=T.parent),"text"in T&&t(11,f=T.text),"Placeholder"in T&&t(2,c=T.Placeholder),"Leaf"in T&&t(3,d=T.Leaf)},r.$$.update=()=>{var T;r.$$.dirty&4608&&_!==a&&(t(7,h=a),t(12,_=a)),r.$$.dirty&10240&&k!==f&&(t(4,p=f),t(13,k=f)),r.$$.dirty&33792&&(Lt(g,s)||(t(14,w=s),t(15,g=s))),r.$$.dirty&16400&&t(8,n=yn.decorations(p,w)),r.$$.dirty&16&&t(17,i=Le(p)),r.$$.dirty&196608&&F!==i&&(t(5,E=i),t(16,F=i)),r.$$.dirty&624&&R&&((T=Be.get(a))==null||T.set(E,R),Te.set(p,R),Fe.set(R,p))},[o,l,c,d,p,E,R,h,n,a,s,f,_,k,w,g,F,i,_e]}class Re extends ${constructor(e){super();ee(this,e,kr,wr,te,{editor:9,decorations:10,isLast:0,parent:1,text:11,Placeholder:2,Leaf:3})}}function Er(r){let e,t,n;var i=Ot;function a(s){return{props:{node:s[4],editor:s[3],selection:s[9],Element:s[0],Placeholder:s[2],Leaf:s[1]}}}return i&&(e=new i(a(r))),{c(){e&&W(e.$$.fragment),t=B()},l(s){e&&Q(e.$$.fragment,s),t=B()},m(s,o){e&&z(e,s,o),O(s,t,o),n=!0},p(s,o){const l={};if(o&16&&(l.node=s[4]),o&8&&(l.editor=s[3]),o&512&&(l.selection=s[9]),o&1&&(l.Element=s[0]),o&4&&(l.Placeholder=s[2]),o&2&&(l.Leaf=s[1]),i!==(i=Ot)){if(e){Z();const f=e;C(f.$$.fragment,1,0,()=>{H(f,1)}),j()}i?(e=new i(a(s)),W(e.$$.fragment),y(e.$$.fragment,1),z(e,t.parentNode,t)):e=null}else i&&e.$set(l)},i(s){n||(e&&y(e.$$.fragment,s),n=!0)},o(s){e&&C(e.$$.fragment,s),n=!1},d(s){s&&b(t),e&&H(e,s)}}}function br(r){let e,t,n,i;const a=[Cr,yr],s=[];function o(l,f){return l[6]?0:1}return e=o(r),t=s[e]=a[e](r),{c(){t.c(),n=B()},l(l){t.l(l),n=B()},m(l,f){s[e].m(l,f),O(l,n,f),i=!0},p(l,f){let c=e;e=o(l),e===c?s[e].p(l,f):(Z(),C(s[c],1,1,()=>{s[c]=null}),j(),t=s[e],t?t.p(l,f):(t=s[e]=a[e](l),t.c()),y(t,1),t.m(n.parentNode,n))},i(l){i||(y(t),i=!0)},o(l){C(t),i=!1},d(l){s[e].d(l),l&&b(n)}}}function yr(r){let e,t,n;var i=Re;function a(s){return{props:{Placeholder:s[2],Leaf:s[1],editor:s[3],decorations:s[8],isLast:!1,parent:s[4],text:s[11]}}}return i&&(t=new i(a(r))),{c(){e=X("div"),t&&W(t.$$.fragment),this.h()},l(s){e=G(s,"DIV",{"data-slate-spacer":!0,class:!0});var o=J(e);t&&Q(t.$$.fragment,o),o.forEach(b),this.h()},h(){pe(e,"data-slate-spacer",""),pe(e,"class","svelte-yux06v")},m(s,o){O(s,e,o),t&&z(t,e,null),n=!0},p(s,o){const l={};if(o&4&&(l.Placeholder=s[2]),o&2&&(l.Leaf=s[1]),o&8&&(l.editor=s[3]),o&256&&(l.decorations=s[8]),o&16&&(l.parent=s[4]),o&2048&&(l.text=s[11]),i!==(i=Re)){if(t){Z();const f=t;C(f.$$.fragment,1,0,()=>{H(f,1)}),j()}i?(t=new i(a(s)),W(t.$$.fragment),y(t.$$.fragment,1),z(t,e,null)):t=null}else i&&t.$set(l)},i(s){n||(t&&y(t.$$.fragment,s),n=!0)},o(s){t&&C(t.$$.fragment,s),n=!1},d(s){s&&b(e),t&&H(t)}}}function Cr(r){let e,t,n;var i=Re;function a(s){return{props:{Placeholder:s[2],Leaf:s[1],editor:s[3],decorations:s[8],isLast:!1,parent:s[4],text:s[11]}}}return i&&(t=new i(a(r))),{c(){e=X("span"),t&&W(t.$$.fragment),this.h()},l(s){e=G(s,"SPAN",{"data-slate-spacer":!0,class:!0});var o=J(e);t&&Q(t.$$.fragment,o),o.forEach(b),this.h()},h(){pe(e,"data-slate-spacer",""),pe(e,"class","svelte-yux06v")},m(s,o){O(s,e,o),t&&z(t,e,null),n=!0},p(s,o){const l={};if(o&4&&(l.Placeholder=s[2]),o&2&&(l.Leaf=s[1]),o&8&&(l.editor=s[3]),o&256&&(l.decorations=s[8]),o&16&&(l.parent=s[4]),o&2048&&(l.text=s[11]),i!==(i=Re)){if(t){Z();const f=t;C(f.$$.fragment,1,0,()=>{H(f,1)}),j()}i?(t=new i(a(s)),W(t.$$.fragment),y(t.$$.fragment,1),z(t,e,null)):t=null}else i&&t.$set(l)},i(s){n||(t&&y(t.$$.fragment,s),n=!0)},o(s){t&&C(t.$$.fragment,s),n=!1},d(s){s&&b(e),t&&H(t)}}}function Dr(r){let e,t,n,i;const a=[br,Er],s=[];function o(l,f){return l[7]?0:1}return e=o(r),t=s[e]=a[e](r),{c(){t.c(),n=B()},l(l){t.l(l),n=B()},m(l,f){s[e].m(l,f),O(l,n,f),i=!0},p(l,f){let c=e;e=o(l),e===c?s[e].p(l,f):(Z(),C(s[c],1,1,()=>{s[c]=null}),j(),t=s[e],t?t.p(l,f):(t=s[e]=a[e](l),t.c()),y(t,1),t.m(n.parentNode,n))},i(l){i||(y(t),i=!0)},o(l){C(t),i=!1},d(l){s[e].d(l),l&&b(n)}}}function Lr(r){let e,t,n,i;function a(l){r[27](l)}var s=r[0];function o(l){let f={"data-slate-node":"element","data-slate-void":l[7],"data-slate-inline":l[6],contenteditable:l[12],editor:l[3],element:l[4],dir:l[10],$$slots:{default:[Dr]},$$scope:{ctx:l}};return l[5]!==void 0&&(f.ref=l[5]),{props:f}}return s&&(e=new s(o(r)),ne.push(()=>Ge(e,"ref",a))),{c(){e&&W(e.$$.fragment),n=B()},l(l){e&&Q(e.$$.fragment,l),n=B()},m(l,f){e&&z(e,l,f),O(l,n,f),i=!0},p(l,[f]){const c={};if(f&128&&(c["data-slate-void"]=l[7]),f&64&&(c["data-slate-inline"]=l[6]),f&4096&&(c.contenteditable=l[12]),f&8&&(c.editor=l[3]),f&16&&(c.element=l[4]),f&1024&&(c.dir=l[10]),f&268438495&&(c.$$scope={dirty:f,ctx:l}),!t&&f&32&&(t=!0,c.ref=l[5],mt(()=>t=!1)),s!==(s=l[0])){if(e){Z();const d=e;C(d.$$.fragment,1,0,()=>{H(d,1)}),j()}s?(e=new s(o(l)),ne.push(()=>Ge(e,"ref",a)),W(e.$$.fragment),y(e.$$.fragment,1),z(e,n.parentNode,n)):e=null}else s&&e.$set(c)},i(l){i||(e&&y(e.$$.fragment,l),i=!0)},o(l){e&&C(e.$$.fragment,l),i=!1},d(l){l&&b(n),e&&H(e,l)}}}function Sr(r,e,t){let n,i,a,s,o,l,{editor:f}=e,{element:c}=e,{decorations:d=[]}=e,{selection:h=null}=e,{Element:_}=e,{Leaf:p}=e,{Placeholder:k}=e;const w=Ut();rt(r,w,S=>t(26,l=S));let g,E,F,R,_e,T,K,Oe,we,be,ze,He,oe;_t(()=>{var S;(S=Be.get(f))==null||S.set(we,oe),Te.set(F,oe),Fe.set(oe,F)});function ye(S){oe=S,t(5,oe)}return r.$$set=S=>{"editor"in S&&t(14,f=S.editor),"element"in S&&t(15,c=S.element),"decorations"in S&&t(16,d=S.decorations),"selection"in S&&t(17,h=S.selection),"Element"in S&&t(0,_=S.Element),"Leaf"in S&&t(1,p=S.Leaf),"Placeholder"in S&&t(2,k=S.Placeholder)},r.$$.update=()=>{var S;if(r.$$.dirty&67108864&&t(24,n=l),r.$$.dirty&278528&&E!==f&&(t(3,g=f),t(18,E=f)),r.$$.dirty&557056&&R!==c&&(t(4,F=c),t(19,R=c)),r.$$.dirty&1114112&&(Lt(T,d)||(t(8,_e=d),t(20,T=d))),r.$$.dirty&2228224&&(ht(Oe,h)||(t(9,K=h),t(21,Oe=h))),r.$$.dirty&24&&t(6,i=g.isInline(F)),r.$$.dirty&16&&t(25,a=Le(F)),r.$$.dirty&41943040&&be!==a&&(t(22,we=a),t(23,be=a)),r.$$.dirty&88&&!i&&m.hasInlines(g,F)){const ue=Mt(ge.string(F));ue==="rtl"&&t(10,ze=ue)}if(r.$$.dirty&24&&t(7,s=m.isVoid(g,F)),r.$$.dirty&16777216&&t(12,o=!n),r.$$.dirty&16777424&&s){!n&&i&&t(12,o=!1);const[[ue]]=ge.texts(F);t(11,He=ue),ot.set(ue,0),lt.set(ue,F)}r.$$.dirty&4210736&&oe&&((S=Be.get(f))==null||S.set(we,oe),Te.set(F,oe),Fe.set(oe,F))},[_,p,k,g,F,oe,i,s,_e,K,ze,He,o,w,f,c,d,h,E,R,T,Oe,we,be,n,a,l,ye]}class un extends ${constructor(e){super();ee(this,e,Sr,Lr,te,{editor:14,element:15,decorations:16,selection:17,Element:0,Leaf:1,Placeholder:2})}}function Or(r){let e,t,n;var i=un;function a(s){return{props:{Element:s[2],Placeholder:s[4],Leaf:s[3],editor:s[0],decorations:s[5],element:s[1],selection:s[6]}}}return i&&(e=new i(a(r))),{c(){e&&W(e.$$.fragment),t=B()},l(s){e&&Q(e.$$.fragment,s),t=B()},m(s,o){e&&z(e,s,o),O(s,t,o),n=!0},p(s,[o]){const l={};if(o&4&&(l.Element=s[2]),o&16&&(l.Placeholder=s[4]),o&8&&(l.Leaf=s[3]),o&1&&(l.editor=s[0]),o&32&&(l.decorations=s[5]),o&2&&(l.element=s[1]),o&64&&(l.selection=s[6]),i!==(i=un)){if(e){Z();const f=e;C(f.$$.fragment,1,0,()=>{H(f,1)}),j()}i?(e=new i(a(s)),W(e.$$.fragment),y(e.$$.fragment,1),z(e,t.parentNode,t)):e=null}else i&&e.$set(l)},i(s){n||(e&&y(e.$$.fragment,s),n=!0)},o(s){e&&C(e.$$.fragment,s),n=!1},d(s){s&&b(t),e&&H(e,s)}}}function Nr(r,e,t){let n,i,a,s,{editor:o}=e,{parent:l}=e,{element:f}=e,{path:c}=e,{index:d}=e,{selection:h=null}=e,{decorate:_}=e,{decorations:p=[]}=e,{Element:k}=e,{Leaf:w}=e,{Placeholder:g}=e;return r.$$set=E=>{"editor"in E&&t(0,o=E.editor),"parent"in E&&t(7,l=E.parent),"element"in E&&t(1,f=E.element),"path"in E&&t(8,c=E.path),"index"in E&&t(9,d=E.index),"selection"in E&&t(10,h=E.selection),"decorate"in E&&t(11,_=E.decorate),"decorations"in E&&t(12,p=E.decorations),"Element"in E&&t(2,k=E.Element),"Leaf"in E&&t(3,w=E.Leaf),"Placeholder"in E&&t(4,g=E.Placeholder)},r.$$.update=()=>{if(r.$$.dirty&514&&ot.set(f,d),r.$$.dirty&130&&lt.set(f,l),r.$$.dirty&768&&t(14,n=c.concat(d)),r.$$.dirty&16385&&t(13,i=m.range(o,n)),r.$$.dirty&18434&&t(5,a=_([f,n])),r.$$.dirty&9216&&t(6,s=h&&I.intersection(i,h)),r.$$.dirty&12320){let E=!1;for(const F of p){const R=I.intersection(F,i);R&&(a.push(R),E=!0)}E&&(t(5,a),t(11,_),t(1,f),t(14,n),t(12,p),t(13,i),t(8,c),t(9,d),t(0,o))}},[o,f,k,w,g,a,s,l,c,d,h,_,p,i,n]}class Pr extends ${constructor(e){super();ee(this,e,Nr,Or,te,{editor:0,parent:7,element:1,path:8,index:9,selection:10,decorate:11,decorations:12,Element:2,Leaf:3,Placeholder:4})}}function Fr(r){let e,t,n;var i=Re;function a(s){return{props:{Placeholder:s[5],Leaf:s[4],editor:s[1],decorations:s[6],isLast:s[0],parent:s[2],text:s[3]}}}return i&&(e=new i(a(r))),{c(){e&&W(e.$$.fragment),t=B()},l(s){e&&Q(e.$$.fragment,s),t=B()},m(s,o){e&&z(e,s,o),O(s,t,o),n=!0},p(s,[o]){const l={};if(o&32&&(l.Placeholder=s[5]),o&16&&(l.Leaf=s[4]),o&2&&(l.editor=s[1]),o&64&&(l.decorations=s[6]),o&1&&(l.isLast=s[0]),o&4&&(l.parent=s[2]),o&8&&(l.text=s[3]),i!==(i=Re)){if(e){Z();const f=e;C(f.$$.fragment,1,0,()=>{H(f,1)}),j()}i?(e=new i(a(s)),W(e.$$.fragment),y(e.$$.fragment,1),z(e,t.parentNode,t)):e=null}else i&&e.$set(l)},i(s){n||(e&&y(e.$$.fragment,s),n=!0)},o(s){e&&C(e.$$.fragment,s),n=!1},d(s){s&&b(t),e&&H(e,s)}}}function Tr(r,e,t){let n,i,a,{editor:s}=e,{parent:o}=e,{text:l}=e,{path:f}=e,{index:c}=e,{isLeafBlock:d}=e,{decorate:h}=e,{decorations:_=[]}=e,{isLast:p=!1}=e,{Leaf:k}=e,{Placeholder:w}=e;return r.$$set=g=>{"editor"in g&&t(1,s=g.editor),"parent"in g&&t(2,o=g.parent),"text"in g&&t(3,l=g.text),"path"in g&&t(7,f=g.path),"index"in g&&t(8,c=g.index),"isLeafBlock"in g&&t(9,d=g.isLeafBlock),"decorate"in g&&t(10,h=g.decorate),"decorations"in g&&t(11,_=g.decorations),"isLast"in g&&t(0,p=g.isLast),"Leaf"in g&&t(4,k=g.Leaf),"Placeholder"in g&&t(5,w=g.Placeholder)},r.$$.update=()=>{if(r.$$.dirty&264&&ot.set(l,c),r.$$.dirty&12&&lt.set(l,o),r.$$.dirty&384&&t(13,n=f.concat(c)),r.$$.dirty&772&&t(0,p=d&&c===o.children.length-1),r.$$.dirty&8194&&t(12,i=m.range(s,n)),r.$$.dirty&9224&&t(6,a=h([l,n])),r.$$.dirty&6208){let g=!1;for(const E of _){const F=I.intersection(E,i);F&&(a.push(F),g=!0)}g&&(t(6,a),t(10,h),t(3,l),t(13,n),t(11,_),t(12,i),t(7,f),t(8,c),t(1,s))}},[p,s,o,l,k,w,a,f,c,d,h,_,i,n]}class Br extends ${constructor(e){super();ee(this,e,Tr,Fr,te,{editor:1,parent:2,text:3,path:7,index:8,isLeafBlock:9,decorate:10,decorations:11,isLast:0,Leaf:4,Placeholder:5})}}function dn(r,e,t){const n=r.slice();return n[20]=e[t],n[22]=t,n}function Ir(r){let e,t;return e=new Br({props:{Placeholder:r[3],Leaf:r[2],editor:r[4],decorations:r[5],parent:r[0],text:r[20],decorate:r[9],index:r[22],path:r[8],isLeafBlock:r[7]}}),{c(){W(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,i){z(e,n,i),t=!0},p(n,i){const a={};i&8&&(a.Placeholder=n[3]),i&4&&(a.Leaf=n[2]),i&16&&(a.editor=n[4]),i&32&&(a.decorations=n[5]),i&1&&(a.parent=n[0]),i&1&&(a.text=n[20]),i&512&&(a.decorate=n[9]),i&1&&(a.index=n[22]),i&256&&(a.path=n[8]),i&128&&(a.isLeafBlock=n[7]),e.$set(a)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function Ar(r){let e,t;return e=new Pr({props:{Element:r[1],Placeholder:r[3],Leaf:r[2],editor:r[4],decorations:r[5],selection:r[6],element:r[20],parent:r[0],decorate:r[9],index:r[22],path:r[8]}}),{c(){W(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,i){z(e,n,i),t=!0},p(n,i){const a={};i&2&&(a.Element=n[1]),i&8&&(a.Placeholder=n[3]),i&4&&(a.Leaf=n[2]),i&16&&(a.editor=n[4]),i&32&&(a.decorations=n[5]),i&64&&(a.selection=n[6]),i&1&&(a.element=n[20]),i&1&&(a.parent=n[0]),i&512&&(a.decorate=n[9]),i&1&&(a.index=n[22]),i&256&&(a.path=n[8]),e.$set(a)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function hn(r,e){let t,n,i,a,s,o;const l=[Ar,Ir],f=[];function c(d,h){return h&1&&(n=null),n==null&&(n=!!it.isElement(d[20])),n?0:1}return i=c(e,-1),a=f[i]=l[i](e),{key:r,first:null,c(){t=B(),a.c(),s=B(),this.h()},l(d){t=B(),a.l(d),s=B(),this.h()},h(){this.first=t},m(d,h){O(d,t,h),f[i].m(d,h),O(d,s,h),o=!0},p(d,h){e=d;let _=i;i=c(e,h),i===_?f[i].p(e,h):(Z(),C(f[_],1,1,()=>{f[_]=null}),j(),a=f[i],a?a.p(e,h):(a=f[i]=l[i](e),a.c()),y(a,1),a.m(s.parentNode,s))},i(d){o||(y(a),o=!0)},o(d){C(a),o=!1},d(d){d&&b(t),f[i].d(d),d&&b(s)}}}function Mr(r){let e=[],t=new Map,n,i,a=r[0].children;const s=o=>Le(o[20]);for(let o=0;o<a.length;o+=1){let l=dn(r,a,o),f=s(l);t.set(f,e[o]=hn(f,l))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=B()},l(o){for(let l=0;l<e.length;l+=1)e[l].l(o);n=B()},m(o,l){for(let f=0;f<e.length;f+=1)e[f].m(o,l);O(o,n,l),i=!0},p(o,[l]){l&1023&&(a=o[0].children,Z(),e=It(e,l,s,1,o,a,t,n.parentNode,At,hn,n,dn),j())},i(o){if(!i){for(let l=0;l<a.length;l+=1)y(e[l]);i=!0}},o(o){for(let l=0;l<e.length;l+=1)C(e[l]);i=!1},d(o){for(let l=0;l<e.length;l+=1)e[l].d(o);o&&b(n)}}}function Rr(r,e,t){let n,i,a,s,{editor:o}=e,{node:l}=e,{selection:f=null}=e,{decorations:c=[]}=e,{Element:d}=e,{Leaf:h}=e,{Placeholder:_}=e;const p=Kt();rt(r,p,K=>t(19,s=K));let k,w,g,E,F,R,_e,T;return r.$$set=K=>{"editor"in K&&t(11,o=K.editor),"node"in K&&t(0,l=K.node),"selection"in K&&t(12,f=K.selection),"decorations"in K&&t(13,c=K.decorations),"Element"in K&&t(1,d=K.Element),"Leaf"in K&&t(2,h=K.Leaf),"Placeholder"in K&&t(3,_=K.Placeholder)},r.$$.update=()=>{r.$$.dirty&524288&&t(9,n=s),r.$$.dirty&18432&&w!==o&&(t(4,k=o),t(14,w=o)),r.$$.dirty&65537&&E!==l&&(t(15,g=l),t(16,E=l)),r.$$.dirty&139264&&(Lt(R,c)||(t(5,F=c),t(17,R=c))),r.$$.dirty&266240&&(ht(T,f)||(t(6,_e=f),t(18,T=f))),r.$$.dirty&32768&&t(8,i=Ae(g)),r.$$.dirty&32784&&t(7,a=it.isElement(g)&&!k.isInline(g)&&m.hasInlines(k,g))},[l,d,h,_,k,F,_e,a,i,n,p,o,f,c,w,g,E,R,T,s]}class Ot extends ${constructor(e){super();ee(this,e,Rr,Mr,te,{editor:11,node:0,selection:12,decorations:13,Element:1,Leaf:2,Placeholder:3})}}function Wr(r){let e,t;const n=r[5].default,i=le(n,r,r[4],null);let a=[r[3]],s={};for(let o=0;o<a.length;o+=1)s=q(s,a[o]);return{c(){e=X("div"),i&&i.c(),this.h()},l(o){e=G(o,"DIV",{});var l=J(e);i&&i.l(l),l.forEach(b),this.h()},h(){V(e,s),M(e,"svelte-19k8gul",!0)},m(o,l){O(o,e,l),i&&i.m(e,null),r[7](e),t=!0},p(o,l){i&&i.p&&(!t||l&16)&&se(i,n,o,o[4],t?fe(n,o[4],l,null):ae(o[4]),null),V(e,s=ce(a,[l&8&&o[3]])),M(e,"svelte-19k8gul",!0)},i(o){t||(y(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&b(e),i&&i.d(o),r[7](null)}}}function zr(r){let e,t;const n=r[5].default,i=le(n,r,r[4],null);let a=[r[3]],s={};for(let o=0;o<a.length;o+=1)s=q(s,a[o]);return{c(){e=X("span"),i&&i.c(),this.h()},l(o){e=G(o,"SPAN",{});var l=J(e);i&&i.l(l),l.forEach(b),this.h()},h(){V(e,s),M(e,"svelte-19k8gul",!0)},m(o,l){O(o,e,l),i&&i.m(e,null),r[6](e),t=!0},p(o,l){i&&i.p&&(!t||l&16)&&se(i,n,o,o[4],t?fe(n,o[4],l,null):ae(o[4]),null),V(e,s=ce(a,[l&8&&o[3]])),M(e,"svelte-19k8gul",!0)},i(o){t||(y(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&b(e),i&&i.d(o),r[6](null)}}}function Hr(r){let e,t,n,i,a;const s=[zr,Wr],o=[];function l(f,c){return c&6&&(e=null),e==null&&(e=!!f[1].isInline(f[2])),e?0:1}return t=l(r,-1),n=o[t]=s[t](r),{c(){n.c(),i=B()},l(f){n.l(f),i=B()},m(f,c){o[t].m(f,c),O(f,i,c),a=!0},p(f,[c]){let d=t;t=l(f,c),t===d?o[t].p(f,c):(Z(),C(o[d],1,1,()=>{o[d]=null}),j(),n=o[t],n?n.p(f,c):(n=o[t]=s[t](f),n.c()),y(n,1),n.m(i.parentNode,i))},i(f){a||(y(n),a=!0)},o(f){C(n),a=!1},d(f){o[t].d(f),f&&b(i)}}}function Vr(r,e,t){const n=["editor","element","ref"];let i=de(e,n),{$$slots:a={},$$scope:s}=e,{editor:o}=e,{element:l}=e,{ref:f}=e;function c(h){ne[h?"unshift":"push"](()=>{f=h,t(0,f)})}function d(h){ne[h?"unshift":"push"](()=>{f=h,t(0,f)})}return r.$$set=h=>{e=q(q({},e),Pe(h)),t(3,i=de(e,n)),"editor"in h&&t(1,o=h.editor),"element"in h&&t(2,l=h.element),"ref"in h&&t(0,f=h.ref),"$$scope"in h&&t(4,s=h.$$scope)},[f,o,l,i,s,a,c,d]}class vr extends ${constructor(e){super();ee(this,e,Vr,Hr,te,{editor:1,element:2,ref:0})}}function qr(r){let e,t;const n=r[2].default,i=le(n,r,r[1],null);let a=[r[0]],s={};for(let o=0;o<a.length;o+=1)s=q(s,a[o]);return{c(){e=X("span"),i&&i.c(),this.h()},l(o){e=G(o,"SPAN",{});var l=J(e);i&&i.l(l),l.forEach(b),this.h()},h(){V(e,s)},m(o,l){O(o,e,l),i&&i.m(e,null),t=!0},p(o,[l]){i&&i.p&&(!t||l&2)&&se(i,n,o,o[1],t?fe(n,o[1],l,null):ae(o[1]),null),V(e,s=ce(a,[l&1&&o[0]]))},i(o){t||(y(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&b(e),i&&i.d(o)}}}function Ur(r,e,t){const n=[];let i=de(e,n),{$$slots:a={},$$scope:s}=e;return r.$$set=o=>{e=q(q({},e),Pe(o)),t(0,i=de(e,n)),"$$scope"in o&&t(1,s=o.$$scope)},[i,s,a]}class Kr extends ${constructor(e){super();ee(this,e,Ur,qr,te,{})}}function Yr(r){let e,t,n;const i=r[3].default,a=le(i,r,r[2],null);let s=[r[1]],o={};for(let l=0;l<s.length;l+=1)o=q(o,s[l]);return{c(){e=X("span"),a&&a.c(),this.h()},l(l){e=G(l,"SPAN",{});var f=J(e);a&&a.l(f),f.forEach(b),this.h()},h(){V(e,o),Cn(()=>r[4].call(e))},m(l,f){O(l,e,f),a&&a.m(e,null),t=Dn(e,r[4].bind(e)),n=!0},p(l,[f]){a&&a.p&&(!n||f&4)&&se(a,i,l,l[2],n?fe(i,l[2],f,null):ae(l[2]),null),V(e,o=ce(s,[f&2&&l[1]]))},i(l){n||(y(a,l),n=!0)},o(l){C(a,l),n=!1},d(l){l&&b(e),a&&a.d(l),t()}}}function Xr(r,e,t){const n=["clientHeight"];let i=de(e,n),{$$slots:a={},$$scope:s}=e,{clientHeight:o}=e;function l(){o=this.clientHeight,t(0,o)}return r.$$set=f=>{e=q(q({},e),Pe(f)),t(1,i=de(e,n)),"clientHeight"in f&&t(0,o=f.clientHeight),"$$scope"in f&&t(2,s=f.$$scope)},[o,i,s,a,l]}class Gr extends ${constructor(e){super();ee(this,e,Xr,Yr,te,{clientHeight:0})}}const Jr={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},Qr={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Zr={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},U=r=>{const e=Jr[r],t=Qr[r],n=Zr[r],i=e&&pt(e),a=t&&pt(t),s=n&&pt(n);return o=>!!(i&&i(o)||Zt&&a&&a(o)||!Zt&&s&&s(o))};var Y={isBold:U("bold"),isCompose:U("compose"),isMoveBackward:U("moveBackward"),isMoveForward:U("moveForward"),isDeleteBackward:U("deleteBackward"),isDeleteForward:U("deleteForward"),isDeleteLineBackward:U("deleteLineBackward"),isDeleteLineForward:U("deleteLineForward"),isDeleteWordBackward:U("deleteWordBackward"),isDeleteWordForward:U("deleteWordForward"),isExtendBackward:U("extendBackward"),isExtendForward:U("extendForward"),isExtendLineBackward:U("extendLineBackward"),isExtendLineForward:U("extendLineForward"),isItalic:U("italic"),isMoveLineBackward:U("moveLineBackward"),isMoveLineForward:U("moveLineForward"),isMoveWordBackward:U("moveWordBackward"),isMoveWordForward:U("moveWordForward"),isRedo:U("redo"),isSplitBlock:U("splitBlock"),isTransposeCharacter:U("transposeCharacter"),isUndo:U("undo")};function jr(r){let e,t,n,i,a,s,o,l,f,c,d;t=new Ot({props:{editor:r[5],node:r[5],selection:r[6],decorations:r[7],Element:r[0],Leaf:r[1],Placeholder:r[2]}});let h=[r[26],{role:n=r[3]?void 0:"textbox"},{spellcheck:i=r[26].spellcheck||"true"},{autocorrect:a=r[26].autocorrect||"true"},{autocapitalize:s=r[26].autocapitalize||"true"},{"data-svelte-editor":""},{"data-slate-node":"value"},{contenteditable:o=!r[3]},{"z-index":l=-1}],_={};for(let p=0;p<h.length;p+=1)_=q(_,h[p]);return{c(){e=X("div"),W(t.$$.fragment),this.h()},l(p){e=G(p,"DIV",{role:!0,spellcheck:!0,autocorrect:!0,autocapitalize:!0,"data-svelte-editor":!0,"data-slate-node":!0,contenteditable:!0,"z-index":!0});var k=J(e);Q(t.$$.fragment,k),k.forEach(b),this.h()},h(){V(e,_),M(e,"svelte-m59z04",!0)},m(p,k){O(p,e,k),z(t,e,null),r[37](e),f=!0,c||(d=[re(e,"beforeinput",function(){ie(r[23])&&r[23].apply(this,arguments)}),re(e,"keydown",function(){ie(r[21])&&r[21].apply(this,arguments)}),re(e,"input",function(){ie(r[22])&&r[22].apply(this,arguments)}),re(e,"focus",function(){ie(r[20])&&r[20].apply(this,arguments)}),re(e,"blur",function(){ie(r[19])&&r[19].apply(this,arguments)}),re(e,"click",function(){ie(r[18])&&r[18].apply(this,arguments)}),re(e,"compositionend",function(){ie(r[17])&&r[17].apply(this,arguments)}),re(e,"compositionupdate",function(){ie(r[16])&&r[16].apply(this,arguments)}),re(e,"compositionstart",function(){ie(r[15])&&r[15].apply(this,arguments)}),re(e,"paste",function(){ie(r[14])&&r[14].apply(this,arguments)}),re(e,"copy",function(){ie(r[13])&&r[13].apply(this,arguments)}),re(e,"cut",function(){ie(r[12])&&r[12].apply(this,arguments)}),re(e,"dragover",function(){ie(r[11])&&r[11].apply(this,arguments)}),re(e,"dragstart",function(){ie(r[10])&&r[10].apply(this,arguments)}),re(e,"drop",function(){ie(r[9])&&r[9].apply(this,arguments)}),re(e,"dragend",function(){ie(r[8])&&r[8].apply(this,arguments)})],c=!0)},p(p,k){r=p;const w={};k[0]&32&&(w.editor=r[5]),k[0]&32&&(w.node=r[5]),k[0]&64&&(w.selection=r[6]),k[0]&128&&(w.decorations=r[7]),k[0]&1&&(w.Element=r[0]),k[0]&2&&(w.Leaf=r[1]),k[0]&4&&(w.Placeholder=r[2]),t.$set(w),V(e,_=ce(h,[k[0]&67108864&&r[26],(!f||k[0]&8&&n!==(n=r[3]?void 0:"textbox"))&&{role:n},(!f||k[0]&67108864&&i!==(i=r[26].spellcheck||"true"))&&{spellcheck:i},(!f||k[0]&67108864&&a!==(a=r[26].autocorrect||"true"))&&{autocorrect:a},(!f||k[0]&67108864&&s!==(s=r[26].autocapitalize||"true"))&&{autocapitalize:s},{"data-svelte-editor":""},{"data-slate-node":"value"},(!f||k[0]&8&&o!==(o=!r[3]))&&{contenteditable:o},{"z-index":l}])),M(e,"svelte-m59z04",!0)},i(p){f||(y(t.$$.fragment,p),f=!0)},o(p){C(t.$$.fragment,p),f=!1},d(p){p&&b(e),H(t),r[37](null),c=!1,Ln(d)}}}function We(r,e){return De(e)&&Dt(r,e)}function he(r,e){return De(e)&&Dt(r,e,{editable:!0})}function gn(r,e){if(Rt.get(r))return!1;{const t=We(r,e)&&Se(e);return m.isVoid(r,t)}}function xr(r,e){const t=e.startContainer.parentElement,n=t.getBoundingClientRect;t.getBoundingClientRect=e.getBoundingClientRect.bind(e),On(t,{scrollMode:"if-needed"}),t.getBoundingClientRect=n}function $r(r,e,t){let n,i,a,s,o,l,f,c,d,h,_,p,k,w,g,E,F,R,_e,T;const K=["Element","Leaf","Placeholder","placeholder","readOnly","autoFocus","decorate","scrollSelectionIntoView"];let Oe=de(e,K),we,be,{Element:ze=vr}=e,{Leaf:He=Kr}=e,{Placeholder:oe=Gr}=e,{placeholder:ye}=e,{readOnly:S=!1}=e,{autoFocus:ue=!1}=e,{decorate:Ve=Yt}=e,{scrollSelectionIntoView:Ze=xr}=e;const Nt=In();rt(r,Nt,u=>t(36,be=u));const pn=Ut(),je=An(),wn=Kt(),ft=Mn();rt(r,ft,u=>t(35,we=u));const N={isComposing:!1,hasInsertPrefixInCompositon:!0,isUpdatingSelection:!1,isDraggingInternally:!1,latestElement:null};let xe,ke,ve=[],ct;_t(()=>{const u=Et(ke);return u&&(wt.set(n,u),u.document.addEventListener("selectionchange",s)),st.set(n,ke),Te.set(n,ke),Fe.set(ke,n),()=>{st.delete(n),Te.delete(n),u&&(wt.delete(n),u.document.removeEventListener("selectionchange",s))}}),Sn(()=>{const u=Me(n),L=u?u.getSelection():null;if(N.isComposing||!L||!en(n))return;const D=L.type!=="None";if(!D)return;const P=st.get(n);let A=!1;if(P.contains(L.anchorNode)&&P.contains(L.focusNode)&&(A=!0),D&&A&&i){const x=Qe(n,L,{exactMatch:!0,suppressThrow:!0});if(x&&I.equals(x,i))return}if(i&&!er(n,i)){t(5,n.selection=Qe(n,L,{exactMatch:!1,suppressThrow:!1}),n),t(6,i=n.selection),ft.set(i);return}t(31,N.isUpdatingSelection=!0,N)});function kn(u){ne[u?"unshift":"push"](()=>{ke=u,t(4,ke)})}return r.$$set=u=>{e=q(q({},e),Pe(u)),t(26,Oe=de(e,K)),"Element"in u&&t(0,ze=u.Element),"Leaf"in u&&t(1,He=u.Leaf),"Placeholder"in u&&t(2,oe=u.Placeholder),"placeholder"in u&&t(27,ye=u.placeholder),"readOnly"in u&&t(3,S=u.readOnly),"autoFocus"in u&&t(28,ue=u.autoFocus),"decorate"in u&&t(29,Ve=u.decorate),"scrollSelectionIntoView"in u&&t(30,Ze=u.scrollSelectionIntoView)},r.$$.update=()=>{if(r.$$.dirty[1]&32&&t(5,n=be),r.$$.dirty[1]&16&&t(6,i=we),r.$$.dirty[0]&536870944&&t(7,a=Ve([n,[]])),r.$$.dirty[0]&40&&Rt.set(n,S),r.$$.dirty[0]&8&&pn.set(S),r.$$.dirty[0]&536870912&&wn.set(Ve),r.$$.dirty[0]&1073741920|r.$$.dirty[1]&1&&N.isUpdatingSelection){const L=Me(n).getSelection(),D=i&&at(n,i);D?(I.isBackward(i)?L.setBaseAndExtent(D.endContainer,D.endOffset,D.startContainer,D.startOffset):L.setBaseAndExtent(D.startContainer,D.startOffset,D.endContainer,D.endOffset),Ze(n,D)):L.removeAllRanges(),D&&bt&&Ee(n,n).focus(),t(31,N.isUpdatingSelection=!1,N)}if(r.$$.dirty[0]&32|r.$$.dirty[1]&1&&(s=()=>{if(!N.isComposing&&!N.isUpdatingSelection&&!N.isDraggingInternally){const u=Me(n),{activeElement:L}=u,D=Ee(n,n),P=u.getSelection();if(L===D?(t(31,N.latestElement=L,N),Ie.set(n,!0),je.set(!0)):(Ie.delete(n),je.set(!1)),!P){v.deselect(n);return}const A=P.anchorNode,x=P.focusNode,$e=he(n,A)||gn(n,A),et=he(n,x)||gn(n,x);if($e&&et){const ut=Qe(n,P,{exactMatch:!1,suppressThrow:!1});v.select(n,ut)}}}),r.$$.dirty[0]&40|r.$$.dirty[1]&1&&t(20,c=u=>{if(!S&&!N.isUpdatingSelection&&he(n,u.target)){const L=Ee(n,n),D=Me(n);if(t(31,N.latestElement=D.activeElement,N),bt&&u.target!==L){L.focus();return}Ie.set(n,!0),je.set(!0)}}),r.$$.dirty[0]&96|r.$$.dirty[1]&1&&t(17,_=u=>{if(he(n,u.target)){rn(N,"isComposing",!1);const L=u.data;if(!yt&&!Zn&&!Gn&&!jn&&L&&m.insertText(n,L),i&&I.isCollapsed(i)){const D=i.anchor.path,P=ge.leaf(n,D);N.hasInsertPrefixInCompositon&&(t(31,N.hasInsertPrefixInCompositon=!1,N),m.withoutNormalizing(n,()=>{const A=P.text.replace(/^\uFEFF/,"");v.delete(n,{distance:P.text.length,reverse:!0}),v.insertText(n,A)}))}}}),r.$$.dirty[0]&32&&t(16,p=u=>{he(n,u.target)&&t(31,N.isComposing=!0,N)}),r.$$.dirty[0]&32&&t(15,k=u=>{if(he(n,u.target)){const{selection:L,marks:D}=n;if(L){if(I.isExpanded(L)){m.deleteFragment(n);return}const P=m.above(n,{match:A=>m.isInline(n,A),mode:"highest"});if(P){const[,A]=P;if(m.isEnd(n,L.anchor,A)){const x=m.after(n,A);v.setSelection(n,{anchor:x,focus:x})}}D&&(t(31,N.hasInsertPrefixInCompositon=!0,N),v.insertNodes(n,Bt({text:"\uFEFF"},D),{select:!0}))}}}),r.$$.dirty[0]&40&&t(10,R=u=>{if(!S&&We(n,u.target)){const L=Se(u.target),D=Ae(L);if(m.isVoid(n,L)||m.void(n,{at:D,voids:!0})){const A=m.range(n,D);v.select(n,A)}t(31,N.isDraggingInternally=!0,N),n.setFragmentData(u.dataTransfer)}}),r.$$.dirty[0]&104|r.$$.dirty[1]&1&&t(9,_e=u=>{if(!S&&We(n,u.target)){u.preventDefault();const L=i,D=$n(n,u),P=u.dataTransfer;v.select(n,D),N.isDraggingInternally&&(L&&!I.equals(L,D)&&!m.void(n,{at:D,voids:!0})&&v.delete(n,{at:L}),t(31,N.isDraggingInternally=!1,N)),n.insertData(P),en(n)||xn(n)}}),r.$$.dirty[0]&40|r.$$.dirty[1]&1&&t(8,T=u=>{!S&&N.isDraggingInternally&&We(n,u.target)&&t(31,N.isDraggingInternally=!1,N)}),r.$$.dirty[0]&134217888|r.$$.dirty[1]&3&&ye!==xe&&n.children.length===1&&Array.from(ge.texts(n)).length===1&&ge.string(n)===""&&!N.isComposing){const u=m.start(n,[]);a.push({[Je]:!0,placeholder:ye,anchor:u,focus:u}),t(32,xe=ye),t(7,a),t(29,Ve),t(5,n),t(27,ye),t(32,xe),t(31,N),t(36,be),t(6,i),t(30,Ze),t(3,S),t(35,we)}r.$$.dirty[0]&268435472|r.$$.dirty[1]&8&&ct!==ue&&ke&&(ue&&ke.focus(),t(34,ct=ue)),r.$$.dirty[1]&4&&t(22,l=u=>{for(const L of ve)L();t(33,ve.length=0,ve)}),r.$$.dirty[0]&104|r.$$.dirty[1]&5&&t(23,o=u=>{if(!S&&he(n,u.target)){const L=u.inputType,D=u.dataTransfer||u.data||void 0;if(L==="insertCompositionText"||L==="deleteCompositionText")return;let P=!1;if(L==="insertText"&&i&&I.isCollapsed(i)&&u.data&&u.data.length===1&&/[a-z ]/i.test(u.data)&&i.anchor.offset!==0){P=!0,n.marks&&(P=!1);const A=m.above(n,{at:i.anchor,match:x=>m.isInline(n,x),mode:"highest"});if(A){const[,x]=A;m.isEnd(n,i.anchor,x)&&(P=!1)}}if(P||u.preventDefault(),!L.startsWith("delete")||L.startsWith("deleteBy")){const[A]=u.getTargetRanges();if(A){const x=Qe(n,A,{exactMatch:!1,suppressThrow:!1});(!i||!I.equals(i,x))&&v.select(n,x)}}if(i&&I.isExpanded(i)&&L.startsWith("delete")){const A=L.endsWith("Backward")?"backward":"forward";m.deleteFragment(n,{direction:A});return}switch(L){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{m.deleteFragment(n);break}case"deleteContent":case"deleteContentForward":{m.deleteForward(n);break}case"deleteContentBackward":{m.deleteBackward(n);break}case"deleteEntireSoftLine":{m.deleteBackward(n,{unit:"line"}),m.deleteForward(n,{unit:"line"});break}case"deleteHardLineBackward":{m.deleteBackward(n,{unit:"block"});break}case"deleteSoftLineBackward":{m.deleteBackward(n,{unit:"line"});break}case"deleteHardLineForward":{m.deleteForward(n,{unit:"block"});break}case"deleteSoftLineForward":{m.deleteForward(n,{unit:"line"});break}case"deleteWordBackward":{m.deleteBackward(n,{unit:"word"});break}case"deleteWordForward":{m.deleteForward(n,{unit:"word"});break}case"insertLineBreak":case"insertParagraph":{m.insertBreak(n);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{L==="insertFromComposition"&&N.isComposing&&rn(N,"isComposing",!1),(D==null?void 0:D.constructor.name)==="DataTransfer"?n.insertData(D):typeof D=="string"&&(P?ve.push(()=>m.insertText(n,D)):m.insertText(n,D));break}}}}),r.$$.dirty[0]&104|r.$$.dirty[1]&1&&t(21,f=u=>{if(!S&&!N.isComposing&&he(n,u.target)){const L=n.children[i!==null?i.focus.path[0]:0],D=Mt(ge.string(L))==="rtl";if(Y.isRedo(u)){u.preventDefault();const P=n;typeof P.redo=="function"&&P.redo()}else if(Y.isUndo(u)){u.preventDefault();const P=n;typeof P.undo=="function"&&P.undo()}else if(Y.isMoveLineBackward(u))u.preventDefault(),v.move(n,{unit:"line",reverse:!0});else if(Y.isMoveLineForward(u))u.preventDefault(),v.move(n,{unit:"line"});else if(Y.isExtendLineBackward(u))u.preventDefault(),v.move(n,{unit:"line",edge:"focus",reverse:!0});else if(Y.isExtendLineForward(u))u.preventDefault(),v.move(n,{unit:"line",edge:"focus"});else if(Y.isMoveBackward(u))u.preventDefault(),i&&I.isCollapsed(i)?v.move(n,{reverse:!D}):v.collapse(n,{edge:"start"});else if(Y.isMoveForward(u))u.preventDefault(),i&&I.isCollapsed(i)?v.move(n,{reverse:D}):v.collapse(n,{edge:"end"});else if(Y.isMoveWordBackward(u))u.preventDefault(),i&&I.isExpanded(i)&&v.collapse(n,{edge:"focus"}),v.move(n,{unit:"word",reverse:!D});else if(Y.isMoveWordForward(u))u.preventDefault(),i&&I.isExpanded(i)&&v.collapse(n,{edge:"focus"}),v.move(n,{unit:"word",reverse:D});else if(!$t)Y.isBold(u)||Y.isItalic(u)||Y.isTransposeCharacter(u)?u.preventDefault():Y.isSplitBlock(u)?(u.preventDefault(),m.insertBreak(n)):Y.isDeleteBackward(u)?(u.preventDefault(),i&&I.isExpanded(i)?m.deleteFragment(n,{direction:"backward"}):m.deleteBackward(n)):Y.isDeleteForward(u)?(u.preventDefault(),i&&I.isExpanded(i)?m.deleteFragment(n,{direction:"forward"}):m.deleteForward(n)):Y.isDeleteLineBackward(u)?(u.preventDefault(),i&&I.isExpanded(i)?m.deleteFragment(n,{direction:"backward"}):m.deleteBackward(n,{unit:"line"})):Y.isDeleteLineForward(u)?(u.preventDefault(),i&&I.isExpanded(i)?m.deleteFragment(n,{direction:"forward"}):m.deleteForward(n,{unit:"line"})):Y.isDeleteWordBackward(u)?(u.preventDefault(),i&&I.isExpanded(i)?m.deleteFragment(n,{direction:"backward"}):m.deleteBackward(n,{unit:"word"})):Y.isDeleteWordForward(u)&&(u.preventDefault(),i&&I.isExpanded(i)?m.deleteFragment(n,{direction:"forward"}):m.deleteForward(n,{unit:"word"}));else if((jt||yt)&&i&&(Y.isDeleteBackward(u)||Y.isDeleteForward(u))&&I.isCollapsed(i)){const P=ge.parent(n,i.anchor.path);it.isElement(P)&&m.isVoid(n,P)&&m.isInline(n,P)&&(u.preventDefault(),m.deleteBackward(n,{unit:"block"}))}}}),r.$$.dirty[0]&40|r.$$.dirty[1]&1&&t(19,d=u=>{if(S||N.isUpdatingSelection||!he(n,u.target))return;const L=Me(n);if(N.latestElement===L.activeElement)return;const D=u.relatedTarget,P=Ee(n,n);if(D!==P&&!(me(D)&&D.hasAttribute("data-slate-spacer"))){if(D!=null&&De(D)&&Dt(n,D)){const A=Se(D);if(it.isElement(A)&&!n.isVoid(A))return}if(yt){const A=L.getSelection();A==null||A.removeAllRanges()}Ie.delete(n),je.set(!1)}}),r.$$.dirty[0]&40&&t(18,h=u=>{if(!S&&We(n,u.target)&&De(u.target)){const L=Se(u.target),D=Ae(L);if(m.hasPath(n,D)&&ge.get(n,D)===L){const A=m.start(n,D),x=m.end(n,D),$e=m.void(n,{at:A}),et=m.void(n,{at:x});if($e&&et&&Ne.equals($e[1],et[1])){const ut=m.range(n,A);v.select(n,ut)}}}}),r.$$.dirty[0]&40&&t(14,w=u=>{!S&&he(n,u.target)&&(!$t||vn(u))&&(u.preventDefault(),n.insertData(u.clipboardData))}),r.$$.dirty[0]&32&&t(13,g=u=>{he(n,u.target)&&(u.preventDefault(),n.setFragmentData(u.clipboardData))}),r.$$.dirty[0]&104&&t(12,E=u=>{if(!S&&he(n,u.target)&&(u.preventDefault(),n.setFragmentData(u.clipboardData),i))if(I.isExpanded(i))m.deleteFragment(n);else{const L=ge.parent(n,i.anchor.path);m.isVoid(n,L)&&v.delete(n)}}),r.$$.dirty[0]&32&&t(11,F=u=>{if(We(n,u.target)){const L=Se(u.target);m.isVoid(n,L)&&u.preventDefault()}})},[ze,He,oe,S,ke,n,i,a,T,_e,R,F,E,g,w,k,p,_,h,d,c,f,l,o,Nt,ft,Oe,ye,ue,Ve,Ze,N,xe,ve,ct,we,be,kn]}class ei extends ${constructor(e){super();ee(this,e,$r,jr,te,{Element:0,Leaf:1,Placeholder:2,placeholder:27,readOnly:3,autoFocus:28,decorate:29,scrollSelectionIntoView:30},null,[-1,-1])}}function mn(r,e){const t=(e.top+e.bottom)/2;return r.top<=t&&r.bottom>=t}function _n(r,e,t){const n=at(r,e).getBoundingClientRect(),i=at(r,t).getBoundingClientRect();return mn(n,i)&&mn(i,n)}function ti(r,e){const t=m.range(r,I.end(e)),n=Array.from(m.positions(r,{at:e}));let i=0,a=n.length,s=Math.floor(a/2);if(_n(r,m.range(r,n[i]),t))return m.range(r,n[i],t);if(n.length<2)return m.range(r,n[n.length-1],t);for(;s!==n.length&&s!==i;)_n(r,m.range(r,n[s]),t)?a=s:i=s,s=Math.floor((i+a)/2);return m.range(r,n[a],t)}const ni=r=>{const e=r,{apply:t,onChange:n,deleteBackward:i}=e;return Be.set(e,new WeakMap),e.deleteBackward=a=>{if(a!=="line")return i(a);if(r.selection&&I.isCollapsed(r.selection)){const s=m.above(r,{match:o=>m.isBlock(r,o),at:r.selection});if(s){const[,o]=s,l=m.range(r,o,r.selection.anchor),f=ti(e,l);I.isCollapsed(f)||v.delete(r,{at:f})}}},e.apply=a=>{const s=[];switch(a.type){case"insert_text":case"remove_text":case"set_node":{for(const[o,l]of m.levels(e,{at:a.path})){const f=Le(o);s.push([l,f])}break}case"insert_node":case"remove_node":case"merge_node":case"split_node":{for(const[o,l]of m.levels(e,{at:Ne.parent(a.path)})){const f=Le(o);s.push([l,f])}break}case"move_node":{for(const[o,l]of m.levels(e,{at:Ne.common(Ne.parent(a.path),Ne.parent(a.newPath))})){const f=Le(o);s.push([l,f])}break}}t(a);for(const[o,l]of s){const[f]=m.node(e,o);kt.set(f,l)}},e.setFragmentData=a=>{const{selection:s}=e;if(!s)return;const[o,l]=I.edges(s),f=m.void(e,{at:o.path}),c=m.void(e,{at:l.path});if(I.isCollapsed(s)&&!f)return;const d=at(e,s);let h=d.cloneContents(),_=h.childNodes[0];if(h.childNodes.forEach(E=>{E.textContent&&E.textContent.trim()!==""&&(_=E)}),c){const[E]=c,F=d.cloneRange(),R=Ee(e,E);F.setEndAfter(R),h=F.cloneContents()}if(f&&(_=h.querySelector("[data-slate-spacer]")),Array.from(h.querySelectorAll("[data-slate-zero-width]")).forEach(E=>{const F=E.getAttribute("data-slate-zero-width")==="n";E.textContent=F?`
`:""}),Gt(_)){const E=document.createElement("span");E.style.whiteSpace="pre",E.appendChild(_),h.appendChild(E),_=E}const p=e.getFragment(),k=JSON.stringify(p),w=window.btoa(encodeURIComponent(k));_.setAttribute("data-slate-fragment",w),a.setData("application/x-slate-fragment",w);const g=document.createElement("div");return g.appendChild(h),g.setAttribute("hidden","true"),document.body.appendChild(g),a.setData("text/html",g.innerHTML),a.setData("text/plain",Qt(g)),document.body.removeChild(g),a},e.insertData=a=>{e.insertFragmentData(a)||e.insertTextData(a)},e.insertFragmentData=a=>{const s=a.getData("application/x-slate-fragment")||Xn(a);if(s){const o=decodeURIComponent(window.atob(s)),l=JSON.parse(o);return e.insertFragment(l),!0}return!1},e.insertTextData=a=>{const s=a.getData("text/plain");if(s){const o=s.split(/\r\n|\r|\n/);let l=!1;for(const f of o)l&&v.splitNodes(e,{always:!0}),e.insertText(f),l=!0;return!0}return!1},e.onChange=()=>{const a=Wt.get(e);a&&a(),n()},e};function ri(r){let e,t;const n=r[4].default,i=le(n,r,r[3],null);let a=[r[2]],s={};for(let o=0;o<a.length;o+=1)s=q(s,a[o]);return{c(){e=X("p"),i&&i.c(),this.h()},l(o){e=G(o,"P",{});var l=J(e);i&&i.l(l),l.forEach(b),this.h()},h(){V(e,s),M(e,"svelte-xu68xn",!0)},m(o,l){O(o,e,l),i&&i.m(e,null),r[11](e),t=!0},p(o,l){i&&i.p&&(!t||l&8)&&se(i,n,o,o[3],t?fe(n,o[3],l,null):ae(o[3]),null),V(e,s=ce(a,[l&4&&o[2]])),M(e,"svelte-xu68xn",!0)},i(o){t||(y(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&b(e),i&&i.d(o),r[11](null)}}}function ii(r){let e,t;const n=r[4].default,i=le(n,r,r[3],null);let a=[r[2]],s={};for(let o=0;o<a.length;o+=1)s=q(s,a[o]);return{c(){e=X("ol"),i&&i.c(),this.h()},l(o){e=G(o,"OL",{});var l=J(e);i&&i.l(l),l.forEach(b),this.h()},h(){V(e,s),M(e,"svelte-xu68xn",!0)},m(o,l){O(o,e,l),i&&i.m(e,null),r[10](e),t=!0},p(o,l){i&&i.p&&(!t||l&8)&&se(i,n,o,o[3],t?fe(n,o[3],l,null):ae(o[3]),null),V(e,s=ce(a,[l&4&&o[2]])),M(e,"svelte-xu68xn",!0)},i(o){t||(y(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&b(e),i&&i.d(o),r[10](null)}}}function oi(r){let e,t;const n=r[4].default,i=le(n,r,r[3],null);let a=[r[2]],s={};for(let o=0;o<a.length;o+=1)s=q(s,a[o]);return{c(){e=X("li"),i&&i.c(),this.h()},l(o){e=G(o,"LI",{});var l=J(e);i&&i.l(l),l.forEach(b),this.h()},h(){V(e,s),M(e,"svelte-xu68xn",!0)},m(o,l){O(o,e,l),i&&i.m(e,null),r[9](e),t=!0},p(o,l){i&&i.p&&(!t||l&8)&&se(i,n,o,o[3],t?fe(n,o[3],l,null):ae(o[3]),null),V(e,s=ce(a,[l&4&&o[2]])),M(e,"svelte-xu68xn",!0)},i(o){t||(y(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&b(e),i&&i.d(o),r[9](null)}}}function li(r){let e,t;const n=r[4].default,i=le(n,r,r[3],null);let a=[r[2]],s={};for(let o=0;o<a.length;o+=1)s=q(s,a[o]);return{c(){e=X("h2"),i&&i.c(),this.h()},l(o){e=G(o,"H2",{});var l=J(e);i&&i.l(l),l.forEach(b),this.h()},h(){V(e,s),M(e,"svelte-xu68xn",!0)},m(o,l){O(o,e,l),i&&i.m(e,null),r[8](e),t=!0},p(o,l){i&&i.p&&(!t||l&8)&&se(i,n,o,o[3],t?fe(n,o[3],l,null):ae(o[3]),null),V(e,s=ce(a,[l&4&&o[2]])),M(e,"svelte-xu68xn",!0)},i(o){t||(y(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&b(e),i&&i.d(o),r[8](null)}}}function si(r){let e,t;const n=r[4].default,i=le(n,r,r[3],null);let a=[r[2]],s={};for(let o=0;o<a.length;o+=1)s=q(s,a[o]);return{c(){e=X("h1"),i&&i.c(),this.h()},l(o){e=G(o,"H1",{});var l=J(e);i&&i.l(l),l.forEach(b),this.h()},h(){V(e,s),M(e,"svelte-xu68xn",!0)},m(o,l){O(o,e,l),i&&i.m(e,null),r[7](e),t=!0},p(o,l){i&&i.p&&(!t||l&8)&&se(i,n,o,o[3],t?fe(n,o[3],l,null):ae(o[3]),null),V(e,s=ce(a,[l&4&&o[2]])),M(e,"svelte-xu68xn",!0)},i(o){t||(y(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&b(e),i&&i.d(o),r[7](null)}}}function ai(r){let e,t;const n=r[4].default,i=le(n,r,r[3],null);let a=[r[2]],s={};for(let o=0;o<a.length;o+=1)s=q(s,a[o]);return{c(){e=X("ul"),i&&i.c(),this.h()},l(o){e=G(o,"UL",{});var l=J(e);i&&i.l(l),l.forEach(b),this.h()},h(){V(e,s),M(e,"svelte-xu68xn",!0)},m(o,l){O(o,e,l),i&&i.m(e,null),r[6](e),t=!0},p(o,l){i&&i.p&&(!t||l&8)&&se(i,n,o,o[3],t?fe(n,o[3],l,null):ae(o[3]),null),V(e,s=ce(a,[l&4&&o[2]])),M(e,"svelte-xu68xn",!0)},i(o){t||(y(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&b(e),i&&i.d(o),r[6](null)}}}function fi(r){let e,t;const n=r[4].default,i=le(n,r,r[3],null);let a=[r[2]],s={};for(let o=0;o<a.length;o+=1)s=q(s,a[o]);return{c(){e=X("blockquote"),i&&i.c(),this.h()},l(o){e=G(o,"BLOCKQUOTE",{});var l=J(e);i&&i.l(l),l.forEach(b),this.h()},h(){V(e,s),M(e,"svelte-xu68xn",!0)},m(o,l){O(o,e,l),i&&i.m(e,null),r[5](e),t=!0},p(o,l){i&&i.p&&(!t||l&8)&&se(i,n,o,o[3],t?fe(n,o[3],l,null):ae(o[3]),null),V(e,s=ce(a,[l&4&&o[2]])),M(e,"svelte-xu68xn",!0)},i(o){t||(y(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&b(e),i&&i.d(o),r[5](null)}}}function ci(r){let e,t,n,i;const a=[fi,ai,si,li,oi,ii,ri],s=[];function o(l,f){var c,d,h,_,p,k;return((c=l[1])==null?void 0:c.type)==="block-quote"?0:((d=l[1])==null?void 0:d.type)==="bulleted-list"?1:((h=l[1])==null?void 0:h.type)==="heading-one"?2:((_=l[1])==null?void 0:_.type)==="heading-two"?3:((p=l[1])==null?void 0:p.type)==="list-item"?4:((k=l[1])==null?void 0:k.type)==="numbered-list"?5:6}return e=o(r),t=s[e]=a[e](r),{c(){t.c(),n=B()},l(l){t.l(l),n=B()},m(l,f){s[e].m(l,f),O(l,n,f),i=!0},p(l,[f]){let c=e;e=o(l),e===c?s[e].p(l,f):(Z(),C(s[c],1,1,()=>{s[c]=null}),j(),t=s[e],t?t.p(l,f):(t=s[e]=a[e](l),t.c()),y(t,1),t.m(n.parentNode,n))},i(l){i||(y(t),i=!0)},o(l){C(t),i=!1},d(l){s[e].d(l),l&&b(n)}}}function ui(r,e,t){const n=["element","ref"];let i=de(e,n),{$$slots:a={},$$scope:s}=e,{element:o}=e,{ref:l=void 0}=e;function f(w){ne[w?"unshift":"push"](()=>{l=w,t(0,l)})}function c(w){ne[w?"unshift":"push"](()=>{l=w,t(0,l)})}function d(w){ne[w?"unshift":"push"](()=>{l=w,t(0,l)})}function h(w){ne[w?"unshift":"push"](()=>{l=w,t(0,l)})}function _(w){ne[w?"unshift":"push"](()=>{l=w,t(0,l)})}function p(w){ne[w?"unshift":"push"](()=>{l=w,t(0,l)})}function k(w){ne[w?"unshift":"push"](()=>{l=w,t(0,l)})}return r.$$set=w=>{e=q(q({},e),Pe(w)),t(2,i=de(e,n)),"element"in w&&t(1,o=w.element),"ref"in w&&t(0,l=w.ref),"$$scope"in w&&t(3,s=w.$$scope)},[l,o,i,s,a,f,c,d,h,_,p,k]}class di extends ${constructor(e){super();ee(this,e,ui,ci,te,{element:1,ref:0})}}function hi(r){let e,t;const n=r[3].default,i=le(n,r,r[2],null);let a=[r[1]],s={};for(let o=0;o<a.length;o+=1)s=q(s,a[o]);return{c(){e=X("span"),i&&i.c(),this.h()},l(o){e=G(o,"SPAN",{});var l=J(e);i&&i.l(l),l.forEach(b),this.h()},h(){V(e,s),M(e,"bold",r[0].bold),M(e,"italic",r[0].italic),M(e,"code",r[0].code),M(e,"underline",r[0].underline),M(e,"svelte-nzyvs2",!0)},m(o,l){O(o,e,l),i&&i.m(e,null),t=!0},p(o,[l]){i&&i.p&&(!t||l&4)&&se(i,n,o,o[2],t?fe(n,o[2],l,null):ae(o[2]),null),V(e,s=ce(a,[l&2&&o[1]])),M(e,"bold",o[0].bold),M(e,"italic",o[0].italic),M(e,"code",o[0].code),M(e,"underline",o[0].underline),M(e,"svelte-nzyvs2",!0)},i(o){t||(y(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&b(e),i&&i.d(o)}}}function gi(r,e,t){const n=["leaf"];let i=de(e,n),{$$slots:a={},$$scope:s}=e,{leaf:o}=e;return r.$$set=l=>{e=q(q({},e),Pe(l)),t(1,i=de(e,n)),"leaf"in l&&t(0,o=l.leaf),"$$scope"in l&&t(2,s=l.$$scope)},[o,i,s,a]}class mi extends ${constructor(e){super();ee(this,e,gi,hi,te,{leaf:0})}}function _i(r){let e,t;return e=new ei({props:{Element:di,Leaf:mi,placeholder:"Enter some plain text..."}}),{c(){W(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,i){z(e,n,i),t=!0},p:Ce,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function pi(r){let e,t,n,i,a,s=JSON.stringify(r[0],null,2)+"",o,l;function f(d){r[2](d)}let c={editor:r[1],$$slots:{default:[_i]},$$scope:{ctx:r}};return r[0]!==void 0&&(c.value=r[0]),e=new Wn({props:c}),ne.push(()=>Ge(e,"value",f)),{c(){W(e.$$.fragment),n=Nn(),i=X("code"),a=X("pre"),o=Ye(s)},l(d){Q(e.$$.fragment,d),n=Pn(d),i=G(d,"CODE",{});var h=J(i);a=G(h,"PRE",{});var _=J(a);o=Xe(_,s),_.forEach(b),h.forEach(b)},m(d,h){z(e,d,h),O(d,n,h),O(d,i,h),nt(i,a),nt(a,o),l=!0},p(d,[h]){const _={};h&8&&(_.$$scope={dirty:h,ctx:d}),!t&&h&1&&(t=!0,_.value=d[0],mt(()=>t=!1)),e.$set(_),(!l||h&1)&&s!==(s=JSON.stringify(d[0],null,2)+"")&&gt(o,s)},i(d){l||(y(e.$$.fragment,d),l=!0)},o(d){C(e.$$.fragment,d),l=!1},d(d){H(e,d),d&&b(n),d&&b(i)}}}function wi(r,e,t){const n=Fn(ni(Tn()));let i=[{type:"paragraph",children:[{bold:!0,text:"Edit me"},{text:" I'm a text "},{italic:!0,text:"child"}]}];function a(s){i=s,t(0,i)}return[i,n,a]}class bi extends ${constructor(e){super();ee(this,e,wi,pi,te,{})}}export{bi as default};
