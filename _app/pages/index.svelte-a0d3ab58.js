var _n=Object.defineProperty;var Lt=Object.getOwnPropertySymbols;var wn=Object.prototype.hasOwnProperty,pn=Object.prototype.propertyIsEnumerable;var yt=(l,e,t)=>e in l?_n(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,St=(l,e)=>{for(var t in e||(e={}))wn.call(e,t)&&yt(l,t,e[t]);if(Lt)for(var t of Lt(e))pn.call(e,t)&&yt(l,t,e[t]);return l};import{S as G,i as J,s as Q,D as le,G as ie,H as re,I as oe,p as E,n as D,q as Re,C as We,K as kn,L as ze,M as m,R as B,t as ve,g as He,f as S,d as k,e as q,c as U,a as K,b as ge,F as je,h as st,J as pe,k as F,m as Z,o as j,P as De,v as A,w as Y,x as M,A as R,N as ue,O as bn,Q as at,T as x,U as Ve,V as Nt,W as Pt,u as ft,X as En,Y as xe,Z as Ot,_ as $e,$ as ae,B as v,a0 as Le,a1 as W,a2 as T,y as se,a3 as Cn,a4 as Dn,a5 as ct,a6 as $,a7 as ee,a8 as Ln,r as yn,a9 as z,aa as Sn,j as Nn,l as Pn,ab as On,ac as Fn}from"../chunks/vendor-4dd1056e.js";const et=new WeakMap,tt=new WeakMap,ut=new WeakMap,nt=new WeakMap,ye=new WeakMap,Se=new WeakMap,dt=new WeakMap,Ne=new WeakMap,Ft=new WeakMap,Pe=new WeakMap,Bt=new WeakMap,ht=Symbol("placeholder");function Bn(l){let e;const t=l[7].default,n=le(t,l,l[6],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,a){n&&n.m(i,a),e=!0},p(i,[a]){n&&n.p&&(!e||a&64)&&ie(n,t,i,i[6],e?oe(t,i[6],a,null):re(i[6]),null)},i(i){e||(E(n,i),e=!0)},o(i){D(n,i),e=!1},d(i){n&&n.d(i)}}}const Tt={},It={},At={},Mt={},Rt={};function Tn(){const l=ze(Tt);if(!l)throw new Error("The `getEditorContext` must be used inside the Slate component's context.");return l}function Wt(){const l=ze(It);if(!l)throw new Error("The `getReadOnlyContext` must be used inside the Slate component's context.");return l}function In(){const l=ze(At);if(!l)throw new Error("The `getFocusedContext` must be used inside the Slate component's context.");return l}function zt(){const l=ze(Mt);if(!l)throw new Error("The `getDecorateContext` must be used inside the Slate component's context.");return l}function An(){const l=ze(Rt);if(!l)throw new Error("The `getSelectionContext` must be used inside the Slate component's context.");return l}function vt(l){return[]}function Mn(l,e,t){let{$$slots:n={},$$scope:i}=e,{editor:a}=e,{value:s=a.children}=e,{selection:r=a.selection}=e;const o=We(a);Re(Tt,o);const f=We(!0);Re(It,f);const c=We(!1);Re(At,c);const d=We(vt);Re(Mt,d);const h=We(a.selection);Re(Rt,h);function g(){t(0,s=a.children),t(1,r=a.selection)}Bt.set(a,g);let p=a,w,b;return l.$$set=_=>{"editor"in _&&t(2,a=_.editor),"value"in _&&t(0,s=_.value),"selection"in _&&t(1,r=_.selection),"$$scope"in _&&t(6,i=_.$$scope)},l.$$.update=()=>{l.$$.dirty&12&&a!==p&&(t(3,p=a),o.set(a)),l.$$.dirty&17&&w!==s&&(o.update(_=>(_.children=s,_)),t(4,w=s)),l.$$.dirty&34&&(kn(b,r)||(h.set(r),t(5,b=r)))},[s,r,a,p,w,b,i,n]}class Rn extends G{constructor(e){super();J(this,e,Mn,Bn,Q,{editor:2,value:0,selection:1})}}let Wn=0;class zn{constructor(){this.id=`${Wn++}`}toString(){return this.id}}const gt=l=>l&&l.ownerDocument&&l.ownerDocument.defaultView||null,vn=l=>ke(l)&&l.nodeType===8,de=l=>ke(l)&&l.nodeType===1,ke=l=>{const e=gt(l);return!!e&&l instanceof e.Node},Ht=l=>{const e=l&&l.anchorNode&&gt(l.anchorNode);return!!e&&l instanceof e.Selection},Vt=l=>ke(l)&&l.nodeType===3,Hn=l=>l.clipboardData&&l.clipboardData.getData("text/plain")!==""&&l.clipboardData.types.length===1,Vn=l=>{let[e,t]=l;if(de(e)&&e.childNodes.length){let n=t===e.childNodes.length,i=n?t-1:t;for([e,i]=qt(e,i,n?"backward":"forward"),n=i<t;de(e)&&e.childNodes.length;){const a=n?e.childNodes.length-1:0;e=Un(e,a,n?"backward":"forward")}t=n&&e.textContent!=null?e.textContent.length:0}return[e,t]},qn=()=>!!(window.document.activeElement&&window.document.activeElement.shadowRoot),qt=(l,e,t)=>{const{childNodes:n}=l;let i=n[e],a=e,s=!1,r=!1;for(;(vn(i)||de(i)&&i.childNodes.length===0||de(i)&&i.getAttribute("contenteditable")==="false")&&!(s&&r);){if(a>=n.length){s=!0,a=e-1,t="backward";continue}if(a<0){r=!0,a=e+1,t="forward";continue}i=n[a],e=a,a+=t==="forward"?1:-1}return[i,e]},Un=(l,e,t)=>{const[n]=qt(l,e,t);return n},Ut=l=>{let e="";if(Vt(l)&&l.nodeValue)return l.nodeValue;if(de(l)){for(const n of Array.from(l.childNodes))e+=Ut(n);const t=getComputedStyle(l).getPropertyValue("display");(t==="block"||t==="list"||l.tagName==="BR")&&(e+=`
`)}return e},Kn=/data-slate-fragment="(.+?)"/m,Yn=l=>{const e=l.getData("text/html"),[,t]=e.match(Kn)||[];return t},Xn=typeof navigator!="undefined"&&typeof window!="undefined"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Kt=typeof navigator!="undefined"&&/Mac OS X/.test(navigator.userAgent);typeof navigator!="undefined"&&/Android/.test(navigator.userAgent);const mt=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),_t=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),Gn=typeof navigator!="undefined"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),Yt=typeof navigator!="undefined"&&/Chrome/i.test(navigator.userAgent),Jn=typeof navigator!="undefined"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),Qn=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),Zn=typeof navigator!="undefined"&&/.*QQBrowser/.test(navigator.userAgent),Xt=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Gt=!Jn&&!Gn&&typeof globalThis!="undefined"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function";function wt(l){const e=ut.get(l);if(!e)throw new Error("Unable to find a host window element for this editor");return e}function be(l){let e=dt.get(l);return e||(e=new zn,dt.set(l,e)),e}function Oe(l){const e=[];let t=l;for(;;){const n=tt.get(t);if(n==null){if(m.isEditor(t))return e;break}const i=et.get(t);if(i==null)break;e.unshift(i),t=n}throw new Error(`Unable to find the path for Slate node: ${JSON.stringify(l)}`)}function Fe(l){const e=we(l,l),t=e.getRootNode();return(t instanceof Document||t instanceof ShadowRoot)&&t.getSelection!=null?t:e.ownerDocument}function Jt(l){return!!Pe.get(l)}function jn(l){const e=we(l,l),t=Fe(l);Pe.set(l,!0),t.activeElement!==e&&e.focus({preventScroll:!0})}function pt(l,e,t={}){const{editable:n=!1}=t,i=we(l,l);let a;try{a=de(e)?e:e.parentElement}catch(s){if(!s.message.includes('Permission denied to access property "nodeType"'))throw s}return a?a.closest("[data-svelte-editor]")===i&&(!n||a.isContentEditable?!0:typeof a.isContentEditable=="boolean"&&a.closest('[contenteditable="false"]')===i||!!a.getAttribute("data-slate-zero-width")):!1}function we(l,e,t=!0){const n=Ne.get(l),i=m.isEditor(e)?nt.get(l):n==null?void 0:n.get(be(e));if(!i&&t)throw new Error(`Cannot resolve a DOM node from Slate node: ${JSON.stringify(e)}`);return i}function Qt(l,e,t=!0){const[n]=m.node(l,e.path),i=we(l,n,t);let a;m.void(l,{at:e})&&(e={path:e.path,offset:0});const s="[data-slate-string], [data-slate-zero-width]",r=i?Array.from(i.querySelectorAll(s)):[];let o=0;for(const f of r){const c=f.childNodes[0];if(c==null||c.textContent==null)continue;const{length:d}=c.textContent,h=f.getAttribute("data-slate-length"),g=h==null?d:parseInt(h,10),p=o+g;if(e.offset<=p){const w=Math.min(d,Math.max(0,e.offset-o));a=[c,w];break}o=p}if(!a&&t)throw new Error(`Cannot resolve a DOM point from Slate point: ${JSON.stringify(e)}`);return a}function lt(l,e,t=!0){const{anchor:n,focus:i}=e,a=B.isBackward(e),s=Qt(l,n,t);if(!s)return;const r=B.isCollapsed(e)?s:Qt(l,i),f=wt(l).document.createRange(),[c,d]=a?r:s,[h,g]=a?s:r,w=!!(de(c)?c:c.parentElement).getAttribute("data-slate-zero-width"),_=!!(de(h)?h:h.parentElement).getAttribute("data-slate-zero-width");return f.setStart(c,w?1:d),f.setEnd(h,_?1:g),f}function Ee(l){let e=de(l)?l:l.parentElement;e&&!e.hasAttribute("data-slate-node")&&(e=e.closest("[data-slate-node]"));const t=e?ye.get(e):null;if(!t)throw new Error(`Cannot resolve a Slate node from DOM node: ${e}`);return t}function xn(l,e){"nativeEvent"in e&&(e=e.nativeEvent);const{clientX:t,clientY:n,target:i}=e;if(t==null||n==null)throw new Error(`Cannot resolve a Slate range from a DOM event: ${e}`);const a=Ee(e.target),s=Oe(a);if(m.isVoid(l,a)){const c=i.getBoundingClientRect(),d=l.isInline(a)?t-c.left<c.left+c.width-t:n-c.top<c.top+c.height-n,h=m.point(l,s,{edge:d?"start":"end"}),g=d?m.before(l,h):m.after(l,h);if(g)return m.range(l,g)}let r;const{document:o}=wt(l);if(o.caretRangeFromPoint)r=o.caretRangeFromPoint(t,n);else{const c=o.caretPositionFromPoint(t,n);c&&(r=o.createRange(),r.setStart(c.offsetNode,c.offset),r.setEnd(c.offsetNode,c.offset))}if(!r)throw new Error(`Cannot resolve a Slate range from a DOM event: ${e}`);return qe(l,r,{exactMatch:!1,suppressThrow:!1})}function Zt(l,e,t){var h;const{exactMatch:n,suppressThrow:i}=t,[a,s]=n?e:Vn(e),r=a.parentNode;let o=null,f=0;if(r){const g=r.closest('[data-slate-void="true"]');let p=r.closest("[data-slate-leaf]"),w=null;if(p){o=p.closest('[data-slate-node="text"]');const _=wt(l).document.createRange();_.setStart(o,0),_.setEnd(a,s);const y=_.cloneContents();[...Array.prototype.slice.call(y.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(y.querySelectorAll("[contenteditable=false]"))].forEach(he=>{he.parentNode.removeChild(he)}),f=y.textContent.length,w=o}else g&&(p=g.querySelector("[data-slate-leaf]"),p?(o=p.closest('[data-slate-node="text"]'),w=p,f=w.textContent.length,w.querySelectorAll("[data-slate-zero-width]").forEach(b=>{f-=b.textContent.length})):f=1);w&&f===w.textContent.length&&(r.hasAttribute("data-slate-zero-width")||mt&&((h=w.textContent)==null?void 0:h.endsWith(`

`)))&&f--}if(!o){if(i)return null;throw new Error(`Cannot resolve a Slate point from DOM point: ${e}`)}const c=Ee(o);return{path:Oe(c),offset:f}}function qe(l,e,t){const{exactMatch:n,suppressThrow:i}=t,a=Ht(e)?e.anchorNode:e.startContainer;let s,r,o,f,c;if(a&&(Ht(e)?(s=e.anchorNode,r=e.anchorOffset,o=e.focusNode,f=e.focusOffset,Yt&&qn()?c=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:c=e.isCollapsed):(s=e.startContainer,r=e.startOffset,o=e.endContainer,f=e.endOffset,c=e.collapsed)),s==null||o==null||r==null||f==null)throw new Error(`Cannot resolve a Slate range from DOM range: ${e}`);const d=Zt(l,[s,r],{exactMatch:n,suppressThrow:i});if(!d)return null;const h=c?d:Zt(l,[o,f],{exactMatch:n,suppressThrow:i});if(!h)return null;let g={anchor:d,focus:h};return B.isExpanded(g)&&B.isForward(g)&&de(o)&&m.void(l,{at:g.focus,mode:"highest"})&&(g=m.unhangRange(l,g,{voids:!0})),g}function $n(l,e){const{anchor:t,focus:n}=e;return m.hasPath(l,t.path)&&m.hasPath(l,n.path)}function jt(l,e,t){return l[e]=t,l}function xt(l){let e=`
`,t;return{c(){t=ve(e)},l(n){t=He(n,e)},m(n,i){S(n,t,i)},d(n){n&&k(t)}}}function el(l){let e,t,n=l[1]&&xt();return{c(){e=q("span"),t=ve(l[0]),n&&n.c(),this.h()},l(i){e=U(i,"SPAN",{"data-slate-string":!0});var a=K(e);t=He(a,l[0]),n&&n.l(a),a.forEach(k),this.h()},h(){ge(e,"data-slate-string","true")},m(i,a){S(i,e,a),je(e,t),n&&n.m(e,null)},p(i,[a]){a&1&&st(t,i[0]),i[1]?n||(n=xt(),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:pe,o:pe,d(i){i&&k(e),n&&n.d()}}}function tl(l,e,t){let{text:n}=e,{isTrailing:i=!1}=e;return l.$$set=a=>{"text"in a&&t(0,n=a.text),"isTrailing"in a&&t(1,i=a.isTrailing)},[n,i]}class nl extends G{constructor(e){super();J(this,e,tl,el,Q,{text:0,isTrailing:1})}}function $t(l){let e;return{c(){e=q("br")},l(t){e=U(t,"BR",{})},m(t,n){S(t,e,n)},d(t){t&&k(e)}}}function ll(l){let e,t="\uFEFF",n,i,a=l[1]&&$t();return{c(){e=q("span"),n=ve(t),a&&a.c(),this.h()},l(s){e=U(s,"SPAN",{"data-slate-zero-width":!0,"data-slate-length":!0});var r=K(e);n=He(r,t),a&&a.l(r),r.forEach(k),this.h()},h(){ge(e,"data-slate-zero-width",i=l[1]?"n":"z"),ge(e,"data-slate-length",l[0])},m(s,r){S(s,e,r),je(e,n),a&&a.m(e,null)},p(s,[r]){s[1]?a||(a=$t(),a.c(),a.m(e,null)):a&&(a.d(1),a=null),r&2&&i!==(i=s[1]?"n":"z")&&ge(e,"data-slate-zero-width",i),r&1&&ge(e,"data-slate-length",s[0])},i:pe,o:pe,d(s){s&&k(e),a&&a.d()}}}function il(l,e,t){let{length:n=0}=e,{isLineBreak:i=!1}=e;return l.$$set=a=>{"length"in a&&t(0,n=a.length),"isLineBreak"in a&&t(1,i=a.isLineBreak)},[n,i]}class kt extends G{constructor(e){super();J(this,e,il,ll,Q,{length:0,isLineBreak:1})}}function rl(l){let e,t;return e=new nl({props:{isTrailing:l[5],text:l[1].text}}),{c(){A(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){M(e,n,i),t=!0},p(n,i){const a={};i&32&&(a.isTrailing=n[5]),i&2&&(a.text=n[1].text),e.$set(a)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function ol(l){let e,t;return e=new kt({}),{c(){A(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){M(e,n,i),t=!0},p:pe,i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function sl(l){let e,t;return e=new kt({props:{isLineBreak:!0}}),{c(){A(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){M(e,n,i),t=!0},p:pe,i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function al(l){let e,t;return e=new kt({props:{length:ue.string(l[2]).length}}),{c(){A(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){M(e,n,i),t=!0},p(n,i){const a={};i&4&&(a.length=ue.string(n[2]).length),e.$set(a)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function fl(l){let e,t,n,i,a,s;const r=[al,sl,ol,rl],o=[];function f(c,d){return d&5&&(e=null),d&31&&(t=null),e==null&&(e=!!c[0].isVoid(c[2])),e?0:(t==null&&(t=c[1].text===""&&c[2].children[c[2].children.length-1]===c[3]&&!c[0].isInline(c[2])&&m.string(c[0],c[4])===""),t?1:c[1].text===""?2:3)}return n=f(l,-1),i=o[n]=r[n](l),{c(){i.c(),a=F()},l(c){i.l(c),a=F()},m(c,d){o[n].m(c,d),S(c,a,d),s=!0},p(c,[d]){let h=n;n=f(c,d),n===h?o[n].p(c,d):(Z(),D(o[h],1,1,()=>{o[h]=null}),j(),i=o[n],i?i.p(c,d):(i=o[n]=r[n](c),i.c()),E(i,1),i.m(a.parentNode,a))},i(c){s||(E(i),s=!0)},o(c){D(i),s=!1},d(c){o[n].d(c),c&&k(a)}}}function cl(l,e,t){let n,i,a,{editor:s}=e,{isLast:r}=e,{leaf:o}=e,{parent:f}=e,{text:c}=e;return l.$$set=d=>{"editor"in d&&t(0,s=d.editor),"isLast"in d&&t(6,r=d.isLast),"leaf"in d&&t(1,o=d.leaf),"parent"in d&&t(2,f=d.parent),"text"in d&&t(3,c=d.text)},l.$$.update=()=>{l.$$.dirty&66&&t(5,n=r&&o.text.slice(-1)===`
`),l.$$.dirty&8&&t(7,i=Oe(c)),l.$$.dirty&128&&t(4,a=De.parent(i))},[s,o,f,c,a,n,r,i]}class ul extends G{constructor(e){super();J(this,e,cl,fl,Q,{editor:0,isLast:6,leaf:1,parent:2,text:3})}}function en(l){let e,t,n,i;function a(o){l[8](o)}var s=l[5];function r(o){let f={"data-slate-placeholder":!0,style:"position: absolute; pointer-events: none; width: 100%; max-width: 100%; display: block; opacity: 0.333; user-select: none; text-decoration: none;",contenteditable:"false",$$slots:{default:[dl]},$$scope:{ctx:o}};return o[7]!==void 0&&(f.clientHeight=o[7]),{props:f}}return s&&(e=new s(r(l)),x.push(()=>Ve(e,"clientHeight",a))),{c(){e&&A(e.$$.fragment),n=F()},l(o){e&&Y(e.$$.fragment,o),n=F()},m(o,f){e&&M(e,o,f),S(o,n,f),i=!0},p(o,f){const c={};if(f&1028&&(c.$$scope={dirty:f,ctx:o}),!t&&f&128&&(t=!0,c.clientHeight=o[7],at(()=>t=!1)),s!==(s=o[5])){if(e){Z();const d=e;D(d.$$.fragment,1,0,()=>{R(d,1)}),j()}s?(e=new s(r(o)),x.push(()=>Ve(e,"clientHeight",a)),A(e.$$.fragment),E(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else s&&e.$set(c)},i(o){i||(e&&E(e.$$.fragment,o),i=!0)},o(o){e&&D(e.$$.fragment,o),i=!1},d(o){o&&k(n),e&&R(e,o)}}}function dl(l){let e=l[2].placeholder+"",t;return{c(){t=ve(e)},l(n){t=He(n,e)},m(n,i){S(n,t,i)},p(n,i){i&4&&e!==(e=n[2].placeholder+"")&&st(t,e)},d(n){n&&k(t)}}}function hl(l){let e,t,n,i=ht in l[2]&&en(l);return t=new ul({props:{editor:l[0],isLast:l[1],leaf:l[2],parent:l[3],text:l[4]}}),{c(){i&&i.c(),e=F(),A(t.$$.fragment)},l(a){i&&i.l(a),e=F(),Y(t.$$.fragment,a)},m(a,s){i&&i.m(a,s),S(a,e,s),M(t,a,s),n=!0},p(a,s){ht in a[2]?i?(i.p(a,s),s&4&&E(i,1)):(i=en(a),i.c(),E(i,1),i.m(e.parentNode,e)):i&&(Z(),D(i,1,1,()=>{i=null}),j());const r={};s&1&&(r.editor=a[0]),s&2&&(r.isLast=a[1]),s&4&&(r.leaf=a[2]),s&8&&(r.parent=a[3]),s&16&&(r.text=a[4]),t.$set(r)},i(a){n||(E(i),E(t.$$.fragment,a),n=!0)},o(a){D(i),D(t.$$.fragment,a),n=!1},d(a){i&&i.d(a),a&&k(e),R(t,a)}}}function gl(l){let e,t,n;var i=l[6];function a(s){return{props:{editor:s[0],leaf:s[2],"data-slate-leaf":"true",$$slots:{default:[hl]},$$scope:{ctx:s}}}}return i&&(e=new i(a(l))),{c(){e&&A(e.$$.fragment),t=F()},l(s){e&&Y(e.$$.fragment,s),t=F()},m(s,r){e&&M(e,s,r),S(s,t,r),n=!0},p(s,[r]){const o={};if(r&1&&(o.editor=s[0]),r&4&&(o.leaf=s[2]),r&1215&&(o.$$scope={dirty:r,ctx:s}),i!==(i=s[6])){if(e){Z();const f=e;D(f.$$.fragment,1,0,()=>{R(f,1)}),j()}i?(e=new i(a(s)),A(e.$$.fragment),E(e.$$.fragment,1),M(e,t.parentNode,t)):e=null}else i&&e.$set(o)},i(s){n||(e&&E(e.$$.fragment,s),n=!0)},o(s){e&&D(e.$$.fragment,s),n=!1},d(s){s&&k(t),e&&R(e,s)}}}function ml(l,e,t){let{editor:n}=e,{isLast:i}=e,{leaf:a}=e,{parent:s}=e,{text:r}=e,{Placeholder:o}=e,{Leaf:f}=e,c,d;bn(()=>{if(Xt){const g=document.querySelector('[data-svelte-editor="true"]');g&&(g.style.minHeight="")}});function h(g){c=g,t(7,c)}return l.$$set=g=>{"editor"in g&&t(0,n=g.editor),"isLast"in g&&t(1,i=g.isLast),"leaf"in g&&t(2,a=g.leaf),"parent"in g&&t(3,s=g.parent),"text"in g&&t(4,r=g.text),"Placeholder"in g&&t(5,o=g.Placeholder),"Leaf"in g&&t(6,f=g.Leaf)},l.$$.update=()=>{if(l.$$.dirty&132&&c!==d&&a&&Xt){const g=document.querySelector('[data-svelte-editor="true"]');g&&(g.style.minHeight=`${c}px`)}},[n,i,a,s,r,o,f,c,h]}class tn extends G{constructor(e){super();J(this,e,ml,gl,Q,{editor:0,isLast:1,leaf:2,parent:3,text:4,Placeholder:5,Leaf:6})}}function nn(l,e,t){const n=l.slice();return n[13]=e[t],n[15]=t,n}function ln(l,e){let t,n,i,a;var s=tn;function r(o){return{props:{Placeholder:o[4],Leaf:o[5],editor:o[0],isLast:o[1]&&o[15]===o[8].length-1,parent:o[2],leaf:o[13],text:o[3]}}}return s&&(n=new s(r(e))),{key:l,first:null,c(){t=F(),n&&A(n.$$.fragment),i=F(),this.h()},l(o){t=F(),n&&Y(n.$$.fragment,o),i=F(),this.h()},h(){this.first=t},m(o,f){S(o,t,f),n&&M(n,o,f),S(o,i,f),a=!0},p(o,f){e=o;const c={};if(f&16&&(c.Placeholder=e[4]),f&32&&(c.Leaf=e[5]),f&1&&(c.editor=e[0]),f&258&&(c.isLast=e[1]&&e[15]===e[8].length-1),f&4&&(c.parent=e[2]),f&256&&(c.leaf=e[13]),f&8&&(c.text=e[3]),s!==(s=tn)){if(n){Z();const d=n;D(d.$$.fragment,1,0,()=>{R(d,1)}),j()}s?(n=new s(r(e)),A(n.$$.fragment),E(n.$$.fragment,1),M(n,i.parentNode,i)):n=null}else s&&n.$set(c)},i(o){a||(n&&E(n.$$.fragment,o),a=!0)},o(o){n&&D(n.$$.fragment,o),a=!1},d(o){o&&k(t),o&&k(i),n&&R(n,o)}}}function _l(l){let e,t=[],n=new Map,i,a=l[8];const s=r=>`${r[6]}-${r[15]}`;for(let r=0;r<a.length;r+=1){let o=nn(l,a,r),f=s(o);n.set(f,t[r]=ln(f,o))}return{c(){e=q("span");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=U(r,"SPAN",{"data-slate-node":!0});var o=K(e);for(let f=0;f<t.length;f+=1)t[f].l(o);o.forEach(k),this.h()},h(){ge(e,"data-slate-node","text")},m(r,o){S(r,e,o);for(let f=0;f<t.length;f+=1)t[f].m(e,null);l[12](e),i=!0},p(r,[o]){o&383&&(a=r[8],Z(),t=Nt(t,o,s,1,r,a,n,e,Pt,ln,null,nn),j())},i(r){if(!i){for(let o=0;o<a.length;o+=1)E(t[o]);i=!0}},o(r){for(let o=0;o<t.length;o+=1)D(t[o]);i=!1},d(r){r&&k(e);for(let o=0;o<t.length;o+=1)t[o].d();l[12](null)}}}function wl(l,e,t){let n,i,{editor:a}=e,{decorations:s=[]}=e,{isLast:r}=e,{parent:o}=e,{text:f}=e,{Placeholder:c}=e,{Leaf:d}=e,h,g,p;ft(()=>{var b;(b=Ne.get(a))==null||b.set(h,p),Se.set(f,p),ye.set(p,f)});function w(b){x[b?"unshift":"push"](()=>{p=b,t(7,p)})}return l.$$set=b=>{"editor"in b&&t(0,a=b.editor),"decorations"in b&&t(9,s=b.decorations),"isLast"in b&&t(1,r=b.isLast),"parent"in b&&t(2,o=b.parent),"text"in b&&t(3,f=b.text),"Placeholder"in b&&t(4,c=b.Placeholder),"Leaf"in b&&t(5,d=b.Leaf)},l.$$.update=()=>{var b;l.$$.dirty&520&&t(8,n=En.decorations(f,s)),l.$$.dirty&8&&t(11,i=be(f)),l.$$.dirty&3072&&g!==i&&(t(6,h=i),t(10,g=i)),l.$$.dirty&201&&p&&((b=Ne.get(a))==null||b.set(h,p),Se.set(f,p),ye.set(p,f))},[a,r,o,f,c,d,h,p,n,s,g,i,w]}class Be extends G{constructor(e){super();J(this,e,wl,_l,Q,{editor:0,decorations:9,isLast:1,parent:2,text:3,Placeholder:4,Leaf:5})}}function pl(l){let e,t;return e=new fn({props:{node:l[1],editor:l[0],selection:l[3],Element:l[4],Placeholder:l[6],Leaf:l[5]}}),{c(){A(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){M(e,n,i),t=!0},p(n,i){const a={};i&2&&(a.node=n[1]),i&1&&(a.editor=n[0]),i&8&&(a.selection=n[3]),i&16&&(a.Element=n[4]),i&64&&(a.Placeholder=n[6]),i&32&&(a.Leaf=n[5]),e.$set(a)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function kl(l){let e,t,n,i;const a=[El,bl],s=[];function r(o,f){return o[8]?0:1}return e=r(l),t=s[e]=a[e](l),{c(){t.c(),n=F()},l(o){t.l(o),n=F()},m(o,f){s[e].m(o,f),S(o,n,f),i=!0},p(o,f){let c=e;e=r(o),e===c?s[e].p(o,f):(Z(),D(s[c],1,1,()=>{s[c]=null}),j(),t=s[e],t?t.p(o,f):(t=s[e]=a[e](o),t.c()),E(t,1),t.m(n.parentNode,n))},i(o){i||(E(t),i=!0)},o(o){D(t),i=!1},d(o){s[e].d(o),o&&k(n)}}}function bl(l){let e,t,n;var i=Be;function a(s){return{props:{Placeholder:s[6],Leaf:s[5],editor:s[0],decorations:s[2],isLast:!1,parent:s[1],text:s[11]}}}return i&&(t=new i(a(l))),{c(){e=q("div"),t&&A(t.$$.fragment),this.h()},l(s){e=U(s,"DIV",{"data-slate-spacer":!0,class:!0});var r=K(e);t&&Y(t.$$.fragment,r),r.forEach(k),this.h()},h(){ge(e,"data-slate-spacer",""),ge(e,"class","svelte-yux06v")},m(s,r){S(s,e,r),t&&M(t,e,null),n=!0},p(s,r){const o={};if(r&64&&(o.Placeholder=s[6]),r&32&&(o.Leaf=s[5]),r&1&&(o.editor=s[0]),r&4&&(o.decorations=s[2]),r&2&&(o.parent=s[1]),r&2048&&(o.text=s[11]),i!==(i=Be)){if(t){Z();const f=t;D(f.$$.fragment,1,0,()=>{R(f,1)}),j()}i?(t=new i(a(s)),A(t.$$.fragment),E(t.$$.fragment,1),M(t,e,null)):t=null}else i&&t.$set(o)},i(s){n||(t&&E(t.$$.fragment,s),n=!0)},o(s){t&&D(t.$$.fragment,s),n=!1},d(s){s&&k(e),t&&R(t)}}}function El(l){let e,t,n;var i=Be;function a(s){return{props:{Placeholder:s[6],Leaf:s[5],editor:s[0],decorations:s[2],isLast:!1,parent:s[1],text:s[11]}}}return i&&(t=new i(a(l))),{c(){e=q("span"),t&&A(t.$$.fragment),this.h()},l(s){e=U(s,"SPAN",{"data-slate-spacer":!0,class:!0});var r=K(e);t&&Y(t.$$.fragment,r),r.forEach(k),this.h()},h(){ge(e,"data-slate-spacer",""),ge(e,"class","svelte-yux06v")},m(s,r){S(s,e,r),t&&M(t,e,null),n=!0},p(s,r){const o={};if(r&64&&(o.Placeholder=s[6]),r&32&&(o.Leaf=s[5]),r&1&&(o.editor=s[0]),r&4&&(o.decorations=s[2]),r&2&&(o.parent=s[1]),r&2048&&(o.text=s[11]),i!==(i=Be)){if(t){Z();const f=t;D(f.$$.fragment,1,0,()=>{R(f,1)}),j()}i?(t=new i(a(s)),A(t.$$.fragment),E(t.$$.fragment,1),M(t,e,null)):t=null}else i&&t.$set(o)},i(s){n||(t&&E(t.$$.fragment,s),n=!0)},o(s){t&&D(t.$$.fragment,s),n=!1},d(s){s&&k(e),t&&R(t)}}}function Cl(l){let e,t,n,i;const a=[kl,pl],s=[];function r(o,f){return o[9]?0:1}return e=r(l),t=s[e]=a[e](l),{c(){t.c(),n=F()},l(o){t.l(o),n=F()},m(o,f){s[e].m(o,f),S(o,n,f),i=!0},p(o,f){let c=e;e=r(o),e===c?s[e].p(o,f):(Z(),D(s[c],1,1,()=>{s[c]=null}),j(),t=s[e],t?t.p(o,f):(t=s[e]=a[e](o),t.c()),E(t,1),t.m(n.parentNode,n))},i(o){i||(E(t),i=!0)},o(o){D(t),i=!1},d(o){s[e].d(o),o&&k(n)}}}function Dl(l){let e,t,n,i;function a(o){l[19](o)}var s=l[4];function r(o){let f={"data-slate-node":"element","data-slate-void":o[9],"data-slate-inline":o[8],contenteditable:o[12],editor:o[0],element:o[1],dir:o[10],$$slots:{default:[Cl]},$$scope:{ctx:o}};return o[7]!==void 0&&(f.ref=o[7]),{props:f}}return s&&(e=new s(r(l)),x.push(()=>Ve(e,"ref",a))),{c(){e&&A(e.$$.fragment),n=F()},l(o){e&&Y(e.$$.fragment,o),n=F()},m(o,f){e&&M(e,o,f),S(o,n,f),i=!0},p(o,[f]){const c={};if(f&512&&(c["data-slate-void"]=o[9]),f&256&&(c["data-slate-inline"]=o[8]),f&4096&&(c.contenteditable=o[12]),f&1&&(c.editor=o[0]),f&2&&(c.element=o[1]),f&1024&&(c.dir=o[10]),f&1051519&&(c.$$scope={dirty:f,ctx:o}),!t&&f&128&&(t=!0,c.ref=o[7],at(()=>t=!1)),s!==(s=o[4])){if(e){Z();const d=e;D(d.$$.fragment,1,0,()=>{R(d,1)}),j()}s?(e=new s(r(o)),x.push(()=>Ve(e,"ref",a)),A(e.$$.fragment),E(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else s&&e.$set(c)},i(o){i||(e&&E(e.$$.fragment,o),i=!0)},o(o){e&&D(e.$$.fragment,o),i=!1},d(o){o&&k(n),e&&R(e,o)}}}function Ll(l,e,t){let n,i,a,s,r,o,{editor:f}=e,{element:c}=e,{decorations:d=[]}=e,{selection:h=null}=e,{Element:g}=e,{Leaf:p}=e,{Placeholder:w}=e;const b=Wt();xe(l,b,I=>t(18,o=I));let _,y,ce,he,ne;ft(()=>{var I;(I=Ne.get(f))==null||I.set(_,ne),Se.set(c,ne),ye.set(ne,c)});function Ue(I){ne=I,t(7,ne)}return l.$$set=I=>{"editor"in I&&t(0,f=I.editor),"element"in I&&t(1,c=I.element),"decorations"in I&&t(2,d=I.decorations),"selection"in I&&t(3,h=I.selection),"Element"in I&&t(4,g=I.Element),"Leaf"in I&&t(5,p=I.Leaf),"Placeholder"in I&&t(6,w=I.Placeholder)},l.$$.update=()=>{var I;if(l.$$.dirty&262144&&t(16,n=o),l.$$.dirty&3&&t(8,i=f.isInline(c)),l.$$.dirty&2&&t(17,a=be(c)),l.$$.dirty&163840&&y!==a&&(t(14,_=a),t(15,y=a)),l.$$.dirty&259&&!i&&m.hasInlines(f,c)){const me=Ot(ue.string(c));me==="rtl"&&t(10,ce=me)}if(l.$$.dirty&3&&t(9,s=m.isVoid(f,c)),l.$$.dirty&65536&&t(12,r=!n),l.$$.dirty&66306&&s){!n&&i&&t(12,r=!1);const[[me]]=ue.texts(c);t(11,he=me),et.set(me,0),tt.set(me,c)}l.$$.dirty&16515&&ne&&((I=Ne.get(f))==null||I.set(_,ne),Se.set(c,ne),ye.set(ne,c))},[f,c,d,h,g,p,w,ne,i,s,ce,he,r,b,_,y,n,a,o,Ue]}class rn extends G{constructor(e){super();J(this,e,Ll,Dl,Q,{editor:0,element:1,decorations:2,selection:3,Element:4,Leaf:5,Placeholder:6})}}function yl(l){let e,t,n;var i=rn;function a(s){return{props:{Element:s[2],Placeholder:s[4],Leaf:s[3],editor:s[0],decorations:s[5],element:s[1],selection:s[6]}}}return i&&(e=new i(a(l))),{c(){e&&A(e.$$.fragment),t=F()},l(s){e&&Y(e.$$.fragment,s),t=F()},m(s,r){e&&M(e,s,r),S(s,t,r),n=!0},p(s,[r]){const o={};if(r&4&&(o.Element=s[2]),r&16&&(o.Placeholder=s[4]),r&8&&(o.Leaf=s[3]),r&1&&(o.editor=s[0]),r&32&&(o.decorations=s[5]),r&2&&(o.element=s[1]),r&64&&(o.selection=s[6]),i!==(i=rn)){if(e){Z();const f=e;D(f.$$.fragment,1,0,()=>{R(f,1)}),j()}i?(e=new i(a(s)),A(e.$$.fragment),E(e.$$.fragment,1),M(e,t.parentNode,t)):e=null}else i&&e.$set(o)},i(s){n||(e&&E(e.$$.fragment,s),n=!0)},o(s){e&&D(e.$$.fragment,s),n=!1},d(s){s&&k(t),e&&R(e,s)}}}function Sl(l,e,t){let n,i,a,s,{editor:r}=e,{parent:o}=e,{element:f}=e,{path:c}=e,{index:d}=e,{selection:h=null}=e,{decorate:g}=e,{decorations:p=[]}=e,{Element:w}=e,{Leaf:b}=e,{Placeholder:_}=e;return l.$$set=y=>{"editor"in y&&t(0,r=y.editor),"parent"in y&&t(7,o=y.parent),"element"in y&&t(1,f=y.element),"path"in y&&t(8,c=y.path),"index"in y&&t(9,d=y.index),"selection"in y&&t(10,h=y.selection),"decorate"in y&&t(11,g=y.decorate),"decorations"in y&&t(12,p=y.decorations),"Element"in y&&t(2,w=y.Element),"Leaf"in y&&t(3,b=y.Leaf),"Placeholder"in y&&t(4,_=y.Placeholder)},l.$$.update=()=>{l.$$.dirty&514&&et.set(f,d),l.$$.dirty&130&&tt.set(f,o),l.$$.dirty&768&&t(14,n=c.concat(d)),l.$$.dirty&16385&&t(13,i=m.range(r,n)),l.$$.dirty&18434&&t(5,a=g([f,n])),l.$$.dirty&9216&&t(6,s=h&&B.intersection(i,h)),l.$$.dirty&12320&&an(a,i,p)&&(t(5,a),t(11,g),t(1,f),t(14,n),t(13,i),t(12,p),t(8,c),t(9,d),t(0,r))},[r,f,w,b,_,a,s,o,c,d,h,g,p,i,n]}class Nl extends G{constructor(e){super();J(this,e,Sl,yl,Q,{editor:0,parent:7,element:1,path:8,index:9,selection:10,decorate:11,decorations:12,Element:2,Leaf:3,Placeholder:4})}}function Pl(l){let e,t,n;var i=Be;function a(s){return{props:{Placeholder:s[5],Leaf:s[4],editor:s[1],decorations:s[6],isLast:s[0],parent:s[2],text:s[3]}}}return i&&(e=new i(a(l))),{c(){e&&A(e.$$.fragment),t=F()},l(s){e&&Y(e.$$.fragment,s),t=F()},m(s,r){e&&M(e,s,r),S(s,t,r),n=!0},p(s,[r]){const o={};if(r&32&&(o.Placeholder=s[5]),r&16&&(o.Leaf=s[4]),r&2&&(o.editor=s[1]),r&64&&(o.decorations=s[6]),r&1&&(o.isLast=s[0]),r&4&&(o.parent=s[2]),r&8&&(o.text=s[3]),i!==(i=Be)){if(e){Z();const f=e;D(f.$$.fragment,1,0,()=>{R(f,1)}),j()}i?(e=new i(a(s)),A(e.$$.fragment),E(e.$$.fragment,1),M(e,t.parentNode,t)):e=null}else i&&e.$set(o)},i(s){n||(e&&E(e.$$.fragment,s),n=!0)},o(s){e&&D(e.$$.fragment,s),n=!1},d(s){s&&k(t),e&&R(e,s)}}}function Ol(l,e,t){let n,i,a,{editor:s}=e,{parent:r}=e,{text:o}=e,{path:f}=e,{index:c}=e,{isLeafBlock:d}=e,{decorate:h}=e,{decorations:g=[]}=e,{isLast:p=!1}=e,{Leaf:w}=e,{Placeholder:b}=e;return l.$$set=_=>{"editor"in _&&t(1,s=_.editor),"parent"in _&&t(2,r=_.parent),"text"in _&&t(3,o=_.text),"path"in _&&t(7,f=_.path),"index"in _&&t(8,c=_.index),"isLeafBlock"in _&&t(9,d=_.isLeafBlock),"decorate"in _&&t(10,h=_.decorate),"decorations"in _&&t(11,g=_.decorations),"isLast"in _&&t(0,p=_.isLast),"Leaf"in _&&t(4,w=_.Leaf),"Placeholder"in _&&t(5,b=_.Placeholder)},l.$$.update=()=>{l.$$.dirty&264&&et.set(o,c),l.$$.dirty&12&&tt.set(o,r),l.$$.dirty&384&&t(13,n=f.concat(c)),l.$$.dirty&772&&t(0,p=d&&c===r.children.length-1),l.$$.dirty&8194&&t(12,i=m.range(s,n)),l.$$.dirty&9224&&t(6,a=h([o,n])),l.$$.dirty&6208&&an(a,i,g)&&(t(6,a),t(10,h),t(3,o),t(13,n),t(12,i),t(11,g),t(7,f),t(8,c),t(1,s))},[p,s,r,o,w,b,a,f,c,d,h,g,i,n]}class Fl extends G{constructor(e){super();J(this,e,Ol,Pl,Q,{editor:1,parent:2,text:3,path:7,index:8,isLeafBlock:9,decorate:10,decorations:11,isLast:0,Leaf:4,Placeholder:5})}}function on(l,e,t){const n=l.slice();return n[12]=e[t],n[14]=t,n}function Bl(l){let e,t;return e=new Fl({props:{Placeholder:l[6],Leaf:l[5],editor:l[0],decorations:l[3],parent:l[1],text:l[12],decorate:l[9],index:l[14],path:l[8],isLeafBlock:l[7]}}),{c(){A(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){M(e,n,i),t=!0},p(n,i){const a={};i&64&&(a.Placeholder=n[6]),i&32&&(a.Leaf=n[5]),i&1&&(a.editor=n[0]),i&8&&(a.decorations=n[3]),i&2&&(a.parent=n[1]),i&2&&(a.text=n[12]),i&512&&(a.decorate=n[9]),i&2&&(a.index=n[14]),i&256&&(a.path=n[8]),i&128&&(a.isLeafBlock=n[7]),e.$set(a)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function Tl(l){let e,t;return e=new Nl({props:{Element:l[4],Placeholder:l[6],Leaf:l[5],editor:l[0],decorations:l[3],selection:l[2],element:l[12],parent:l[1],decorate:l[9],index:l[14],path:l[8]}}),{c(){A(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){M(e,n,i),t=!0},p(n,i){const a={};i&16&&(a.Element=n[4]),i&64&&(a.Placeholder=n[6]),i&32&&(a.Leaf=n[5]),i&1&&(a.editor=n[0]),i&8&&(a.decorations=n[3]),i&4&&(a.selection=n[2]),i&2&&(a.element=n[12]),i&2&&(a.parent=n[1]),i&512&&(a.decorate=n[9]),i&2&&(a.index=n[14]),i&256&&(a.path=n[8]),e.$set(a)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function sn(l,e){let t,n,i,a,s,r;const o=[Tl,Bl],f=[];function c(d,h){return h&2&&(n=null),n==null&&(n=!!$e.isElement(d[12])),n?0:1}return i=c(e,-1),a=f[i]=o[i](e),{key:l,first:null,c(){t=F(),a.c(),s=F(),this.h()},l(d){t=F(),a.l(d),s=F(),this.h()},h(){this.first=t},m(d,h){S(d,t,h),f[i].m(d,h),S(d,s,h),r=!0},p(d,h){e=d;let g=i;i=c(e,h),i===g?f[i].p(e,h):(Z(),D(f[g],1,1,()=>{f[g]=null}),j(),a=f[i],a?a.p(e,h):(a=f[i]=o[i](e),a.c()),E(a,1),a.m(s.parentNode,s))},i(d){r||(E(a),r=!0)},o(d){D(a),r=!1},d(d){d&&k(t),f[i].d(d),d&&k(s)}}}function Il(l){let e=[],t=new Map,n,i,a=l[1].children;const s=r=>be(r[12]);for(let r=0;r<a.length;r+=1){let o=on(l,a,r),f=s(o);t.set(f,e[r]=sn(f,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();n=F()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);n=F()},m(r,o){for(let f=0;f<e.length;f+=1)e[f].m(r,o);S(r,n,o),i=!0},p(r,[o]){o&1023&&(a=r[1].children,Z(),e=Nt(e,o,s,1,r,a,t,n.parentNode,Pt,sn,n,on),j())},i(r){if(!i){for(let o=0;o<a.length;o+=1)E(e[o]);i=!0}},o(r){for(let o=0;o<e.length;o+=1)D(e[o]);i=!1},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&k(n)}}}function an(l,e,t){let n=!1;for(const i of t){const a=B.intersection(i,e);a&&(l.push(a),n=!0)}return n}function Al(l,e,t){let n,i,a,s,{editor:r}=e,{node:o}=e,{selection:f=null}=e,{decorations:c=[]}=e,{Element:d}=e,{Leaf:h}=e,{Placeholder:g}=e;const p=zt();return xe(l,p,w=>t(11,s=w)),l.$$set=w=>{"editor"in w&&t(0,r=w.editor),"node"in w&&t(1,o=w.node),"selection"in w&&t(2,f=w.selection),"decorations"in w&&t(3,c=w.decorations),"Element"in w&&t(4,d=w.Element),"Leaf"in w&&t(5,h=w.Leaf),"Placeholder"in w&&t(6,g=w.Placeholder)},l.$$.update=()=>{l.$$.dirty&2048&&t(9,n=s),l.$$.dirty&2&&t(8,i=Oe(o)),l.$$.dirty&3&&t(7,a=$e.isElement(o)&&!r.isInline(o)&&m.hasInlines(r,o))},[r,o,f,c,d,h,g,a,i,n,p,s]}class fn extends G{constructor(e){super();J(this,e,Al,Il,Q,{editor:0,node:1,selection:2,decorations:3,Element:4,Leaf:5,Placeholder:6})}}function Ml(l){let e,t;const n=l[5].default,i=le(n,l,l[4],null);let a=[l[3]],s={};for(let r=0;r<a.length;r+=1)s=v(s,a[r]);return{c(){e=q("div"),i&&i.c(),this.h()},l(r){e=U(r,"DIV",{});var o=K(e);i&&i.l(o),o.forEach(k),this.h()},h(){W(e,s),T(e,"svelte-19k8gul",!0)},m(r,o){S(r,e,o),i&&i.m(e,null),l[7](e),t=!0},p(r,o){i&&i.p&&(!t||o&16)&&ie(i,n,r,r[4],t?oe(n,r[4],o,null):re(r[4]),null),W(e,s=se(a,[o&8&&r[3]])),T(e,"svelte-19k8gul",!0)},i(r){t||(E(i,r),t=!0)},o(r){D(i,r),t=!1},d(r){r&&k(e),i&&i.d(r),l[7](null)}}}function Rl(l){let e,t;const n=l[5].default,i=le(n,l,l[4],null);let a=[l[3]],s={};for(let r=0;r<a.length;r+=1)s=v(s,a[r]);return{c(){e=q("span"),i&&i.c(),this.h()},l(r){e=U(r,"SPAN",{});var o=K(e);i&&i.l(o),o.forEach(k),this.h()},h(){W(e,s),T(e,"svelte-19k8gul",!0)},m(r,o){S(r,e,o),i&&i.m(e,null),l[6](e),t=!0},p(r,o){i&&i.p&&(!t||o&16)&&ie(i,n,r,r[4],t?oe(n,r[4],o,null):re(r[4]),null),W(e,s=se(a,[o&8&&r[3]])),T(e,"svelte-19k8gul",!0)},i(r){t||(E(i,r),t=!0)},o(r){D(i,r),t=!1},d(r){r&&k(e),i&&i.d(r),l[6](null)}}}function Wl(l){let e,t,n,i,a;const s=[Rl,Ml],r=[];function o(f,c){return c&6&&(e=null),e==null&&(e=!!f[1].isInline(f[2])),e?0:1}return t=o(l,-1),n=r[t]=s[t](l),{c(){n.c(),i=F()},l(f){n.l(f),i=F()},m(f,c){r[t].m(f,c),S(f,i,c),a=!0},p(f,[c]){let d=t;t=o(f,c),t===d?r[t].p(f,c):(Z(),D(r[d],1,1,()=>{r[d]=null}),j(),n=r[t],n?n.p(f,c):(n=r[t]=s[t](f),n.c()),E(n,1),n.m(i.parentNode,i))},i(f){a||(E(n),a=!0)},o(f){D(n),a=!1},d(f){r[t].d(f),f&&k(i)}}}function zl(l,e,t){const n=["editor","element","ref"];let i=ae(e,n),{$$slots:a={},$$scope:s}=e,{editor:r}=e,{element:o}=e,{ref:f}=e;function c(h){x[h?"unshift":"push"](()=>{f=h,t(0,f)})}function d(h){x[h?"unshift":"push"](()=>{f=h,t(0,f)})}return l.$$set=h=>{e=v(v({},e),Le(h)),t(3,i=ae(e,n)),"editor"in h&&t(1,r=h.editor),"element"in h&&t(2,o=h.element),"ref"in h&&t(0,f=h.ref),"$$scope"in h&&t(4,s=h.$$scope)},[f,r,o,i,s,a,c,d]}class vl extends G{constructor(e){super();J(this,e,zl,Wl,Q,{editor:1,element:2,ref:0})}}function Hl(l){let e,t;const n=l[4].default,i=le(n,l,l[3],null);let a=[l[0]],s={};for(let r=0;r<a.length;r+=1)s=v(s,a[r]);return{c(){e=q("span"),i&&i.c(),this.h()},l(r){e=U(r,"SPAN",{});var o=K(e);i&&i.l(o),o.forEach(k),this.h()},h(){W(e,s)},m(r,o){S(r,e,o),i&&i.m(e,null),t=!0},p(r,[o]){i&&i.p&&(!t||o&8)&&ie(i,n,r,r[3],t?oe(n,r[3],o,null):re(r[3]),null),W(e,s=se(a,[o&1&&r[0]]))},i(r){t||(E(i,r),t=!0)},o(r){D(i,r),t=!1},d(r){r&&k(e),i&&i.d(r)}}}function Vl(l,e,t){const n=["editor","leaf"];let i=ae(e,n),{$$slots:a={},$$scope:s}=e,{editor:r}=e,{leaf:o}=e;return l.$$set=f=>{e=v(v({},e),Le(f)),t(0,i=ae(e,n)),"editor"in f&&t(1,r=f.editor),"leaf"in f&&t(2,o=f.leaf),"$$scope"in f&&t(3,s=f.$$scope)},[i,r,o,s,a]}class ql extends G{constructor(e){super();J(this,e,Vl,Hl,Q,{editor:1,leaf:2})}}function Ul(l){let e,t,n;const i=l[3].default,a=le(i,l,l[2],null);let s=[l[1]],r={};for(let o=0;o<s.length;o+=1)r=v(r,s[o]);return{c(){e=q("span"),a&&a.c(),this.h()},l(o){e=U(o,"SPAN",{});var f=K(e);a&&a.l(f),f.forEach(k),this.h()},h(){W(e,r),Cn(()=>l[4].call(e))},m(o,f){S(o,e,f),a&&a.m(e,null),t=Dn(e,l[4].bind(e)),n=!0},p(o,[f]){a&&a.p&&(!n||f&4)&&ie(a,i,o,o[2],n?oe(i,o[2],f,null):re(o[2]),null),W(e,r=se(s,[f&2&&o[1]]))},i(o){n||(E(a,o),n=!0)},o(o){D(a,o),n=!1},d(o){o&&k(e),a&&a.d(o),t()}}}function Kl(l,e,t){const n=["clientHeight"];let i=ae(e,n),{$$slots:a={},$$scope:s}=e,{clientHeight:r}=e;function o(){r=this.clientHeight,t(0,r)}return l.$$set=f=>{e=v(v({},e),Le(f)),t(1,i=ae(e,n)),"clientHeight"in f&&t(0,r=f.clientHeight),"$$scope"in f&&t(2,s=f.$$scope)},[r,i,s,a,o]}class Yl extends G{constructor(e){super();J(this,e,Kl,Ul,Q,{clientHeight:0})}}const Xl={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},Gl={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Jl={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},H=l=>{const e=Xl[l],t=Gl[l],n=Jl[l],i=e&&ct(e),a=t&&ct(t),s=n&&ct(n);return r=>!!(i&&i(r)||Kt&&a&&a(r)||!Kt&&s&&s(r))};var V={isBold:H("bold"),isCompose:H("compose"),isMoveBackward:H("moveBackward"),isMoveForward:H("moveForward"),isDeleteBackward:H("deleteBackward"),isDeleteForward:H("deleteForward"),isDeleteLineBackward:H("deleteLineBackward"),isDeleteLineForward:H("deleteLineForward"),isDeleteWordBackward:H("deleteWordBackward"),isDeleteWordForward:H("deleteWordForward"),isExtendBackward:H("extendBackward"),isExtendForward:H("extendForward"),isExtendLineBackward:H("extendLineBackward"),isExtendLineForward:H("extendLineForward"),isItalic:H("italic"),isMoveLineBackward:H("moveLineBackward"),isMoveLineForward:H("moveLineForward"),isMoveWordBackward:H("moveWordBackward"),isMoveWordForward:H("moveWordForward"),isRedo:H("redo"),isSplitBlock:H("splitBlock"),isTransposeCharacter:H("transposeCharacter"),isUndo:H("undo")};function Ql(l){let e,t,n,i,a,s,r,o,f,c,d;t=new fn({props:{editor:l[5],node:l[5],selection:l[6],decorations:l[7],Element:l[0],Leaf:l[1],Placeholder:l[2]}});let h=[l[26],{role:n=l[3]?void 0:"textbox"},{spellcheck:i=l[26].spellcheck||"true"},{autocorrect:a=l[26].autocorrect||"true"},{autocapitalize:s=l[26].autocapitalize||"true"},{"data-svelte-editor":""},{"data-slate-node":"value"},{contenteditable:r=!l[3]},{"z-index":o=-1}],g={};for(let p=0;p<h.length;p+=1)g=v(g,h[p]);return{c(){e=q("div"),A(t.$$.fragment),this.h()},l(p){e=U(p,"DIV",{role:!0,spellcheck:!0,autocorrect:!0,autocapitalize:!0,"data-svelte-editor":!0,"data-slate-node":!0,contenteditable:!0,"z-index":!0});var w=K(e);Y(t.$$.fragment,w),w.forEach(k),this.h()},h(){W(e,g),T(e,"svelte-m59z04",!0)},m(p,w){S(p,e,w),M(t,e,null),l[37](e),f=!0,c||(d=[$(e,"beforeinput",function(){ee(l[23])&&l[23].apply(this,arguments)}),$(e,"keydown",function(){ee(l[21])&&l[21].apply(this,arguments)}),$(e,"input",function(){ee(l[22])&&l[22].apply(this,arguments)}),$(e,"focus",function(){ee(l[20])&&l[20].apply(this,arguments)}),$(e,"blur",function(){ee(l[19])&&l[19].apply(this,arguments)}),$(e,"click",function(){ee(l[18])&&l[18].apply(this,arguments)}),$(e,"compositionend",function(){ee(l[17])&&l[17].apply(this,arguments)}),$(e,"compositionupdate",function(){ee(l[16])&&l[16].apply(this,arguments)}),$(e,"compositionstart",function(){ee(l[15])&&l[15].apply(this,arguments)}),$(e,"paste",function(){ee(l[14])&&l[14].apply(this,arguments)}),$(e,"copy",function(){ee(l[13])&&l[13].apply(this,arguments)}),$(e,"cut",function(){ee(l[12])&&l[12].apply(this,arguments)}),$(e,"dragover",function(){ee(l[11])&&l[11].apply(this,arguments)}),$(e,"dragstart",function(){ee(l[10])&&l[10].apply(this,arguments)}),$(e,"drop",function(){ee(l[9])&&l[9].apply(this,arguments)}),$(e,"dragend",function(){ee(l[8])&&l[8].apply(this,arguments)})],c=!0)},p(p,w){l=p;const b={};w[0]&32&&(b.editor=l[5]),w[0]&32&&(b.node=l[5]),w[0]&64&&(b.selection=l[6]),w[0]&128&&(b.decorations=l[7]),w[0]&1&&(b.Element=l[0]),w[0]&2&&(b.Leaf=l[1]),w[0]&4&&(b.Placeholder=l[2]),t.$set(b),W(e,g=se(h,[w[0]&67108864&&l[26],(!f||w[0]&8&&n!==(n=l[3]?void 0:"textbox"))&&{role:n},(!f||w[0]&67108864&&i!==(i=l[26].spellcheck||"true"))&&{spellcheck:i},(!f||w[0]&67108864&&a!==(a=l[26].autocorrect||"true"))&&{autocorrect:a},(!f||w[0]&67108864&&s!==(s=l[26].autocapitalize||"true"))&&{autocapitalize:s},{"data-svelte-editor":""},{"data-slate-node":"value"},(!f||w[0]&8&&r!==(r=!l[3]))&&{contenteditable:r},{"z-index":o}])),T(e,"svelte-m59z04",!0)},i(p){f||(E(t.$$.fragment,p),f=!0)},o(p){D(t.$$.fragment,p),f=!1},d(p){p&&k(e),R(t),l[37](null),c=!1,Ln(d)}}}function Te(l,e){return ke(e)&&pt(l,e)}function fe(l,e){return ke(e)&&pt(l,e,{editable:!0})}function cn(l,e){if(Ft.get(l))return!1;{const t=Te(l,e)&&Ee(e);return m.isVoid(l,t)}}function Zl(l,e){const t=e.startContainer.parentElement,n=t.getBoundingClientRect;t.getBoundingClientRect=e.getBoundingClientRect.bind(e),Sn(t,{scrollMode:"if-needed"}),t.getBoundingClientRect=n}function jl(l,e,t){let n,i,a,s,r,o,f,c,d,h,g,p,w,b,_,y,ce,he,ne,Ue;const I=["Element","Leaf","Placeholder","placeholder","readOnly","autoFocus","decorate","scrollSelectionIntoView"];let me=ae(e,I),Ke,Ye,{Element:bt=vl}=e,{Leaf:Et=ql}=e,{Placeholder:Ct=Yl}=e,{placeholder:Ce}=e,{readOnly:te=!1}=e,{autoFocus:Ie=!1}=e,{decorate:Ae=vt}=e,{scrollSelectionIntoView:Xe=Zl}=e;const Dt=Tn();xe(l,Dt,u=>t(36,Ye=u));const hn=Wt(),Ge=In(),gn=zt(),it=An();xe(l,it,u=>t(35,Ke=u));const N={isComposing:!1,hasInsertPrefixInCompositon:!0,isUpdatingSelection:!1,isDraggingInternally:!1,latestElement:null};let Je,_e,Me=[],rt;ft(()=>{const u=gt(_e);return u&&(ut.set(n,u),u.document.addEventListener("selectionchange",s)),nt.set(n,_e),Se.set(n,_e),ye.set(_e,n),()=>{nt.delete(n),Se.delete(n),u&&(ut.delete(n),u.document.removeEventListener("selectionchange",s))}}),yn(()=>{const u=Fe(n),L=u?u.getSelection():null;if(N.isComposing||!L||!Jt(n))return;const C=L.type!=="None";if(!C)return;const P=nt.get(n);let O=!1;if(P.contains(L.anchorNode)&&P.contains(L.focusNode)&&(O=!0),C&&O&&i){const X=qe(n,L,{exactMatch:!0,suppressThrow:!0});if(X&&B.equals(X,i))return}if(i&&!$n(n,i)){t(5,n.selection=qe(n,L,{exactMatch:!1,suppressThrow:!1}),n),t(6,i=n.selection),it.set(i);return}t(31,N.isUpdatingSelection=!0,N)});function mn(u){x[u?"unshift":"push"](()=>{_e=u,t(4,_e)})}return l.$$set=u=>{e=v(v({},e),Le(u)),t(26,me=ae(e,I)),"Element"in u&&t(0,bt=u.Element),"Leaf"in u&&t(1,Et=u.Leaf),"Placeholder"in u&&t(2,Ct=u.Placeholder),"placeholder"in u&&t(27,Ce=u.placeholder),"readOnly"in u&&t(3,te=u.readOnly),"autoFocus"in u&&t(28,Ie=u.autoFocus),"decorate"in u&&t(29,Ae=u.decorate),"scrollSelectionIntoView"in u&&t(30,Xe=u.scrollSelectionIntoView)},l.$$.update=()=>{if(l.$$.dirty[1]&32&&t(5,n=Ye),l.$$.dirty[1]&16&&t(6,i=Ke),l.$$.dirty[0]&536870944&&t(7,a=Ae([n,[]])),l.$$.dirty[0]&40&&Ft.set(n,te),l.$$.dirty[0]&8&&hn.set(te),l.$$.dirty[0]&536870912&&gn.set(Ae),l.$$.dirty[0]&1073741920|l.$$.dirty[1]&1&&N.isUpdatingSelection){const L=Fe(n).getSelection(),C=i&&lt(n,i);C?(B.isBackward(i)?L.setBaseAndExtent(C.endContainer,C.endOffset,C.startContainer,C.startOffset):L.setBaseAndExtent(C.startContainer,C.startOffset,C.endContainer,C.endOffset),Xe(n,C)):L.removeAllRanges(),C&&mt&&we(n,n).focus(),t(31,N.isUpdatingSelection=!1,N)}if(l.$$.dirty[0]&32|l.$$.dirty[1]&1&&(s=()=>{if(!N.isComposing&&!N.isUpdatingSelection&&!N.isDraggingInternally){const u=Fe(n),{activeElement:L}=u,C=we(n,n),P=u.getSelection();if(L===C?(t(31,N.latestElement=L,N),Pe.set(n,!0),Ge.set(!0)):(Pe.delete(n),Ge.set(!1)),!P){z.deselect(n);return}const O=P.anchorNode,X=P.focusNode,Qe=fe(n,O)||cn(n,O),Ze=fe(n,X)||cn(n,X);if(Qe&&Ze){const ot=qe(n,P,{exactMatch:!1,suppressThrow:!1});z.select(n,ot)}}}),l.$$.dirty[0]&40|l.$$.dirty[1]&1&&t(20,c=u=>{if(!te&&!N.isUpdatingSelection&&fe(n,u.target)){const L=we(n,n),C=Fe(n);if(t(31,N.latestElement=C.activeElement,N),mt&&u.target!==L){L.focus();return}Pe.set(n,!0),Ge.set(!0)}}),l.$$.dirty[0]&96|l.$$.dirty[1]&1&&t(17,g=u=>{if(fe(n,u.target)){jt(N,"isComposing",!1);const L=u.data;if(!_t&&!Qn&&!Xn&&!Zn&&L&&m.insertText(n,L),i&&B.isCollapsed(i)){const C=i.anchor.path,P=ue.leaf(n,C);N.hasInsertPrefixInCompositon&&(t(31,N.hasInsertPrefixInCompositon=!1,N),m.withoutNormalizing(n,()=>{const O=P.text.replace(/^\uFEFF/,"");z.delete(n,{distance:P.text.length,reverse:!0}),z.insertText(n,O)}))}}}),l.$$.dirty[0]&32&&t(16,p=u=>{fe(n,u.target)&&t(31,N.isComposing=!0,N)}),l.$$.dirty[0]&32&&t(15,w=u=>{if(fe(n,u.target)){const{selection:L,marks:C}=n;if(L){if(B.isExpanded(L)){m.deleteFragment(n);return}const P=m.above(n,{match:O=>m.isInline(n,O),mode:"highest"});if(P){const[,O]=P;if(m.isEnd(n,L.anchor,O)){const X=m.after(n,O);z.setSelection(n,{anchor:X,focus:X})}}C&&(t(31,N.hasInsertPrefixInCompositon=!0,N),z.insertNodes(n,St({text:"\uFEFF"},C),{select:!0}))}}}),l.$$.dirty[0]&40&&t(10,he=u=>{if(!te&&Te(n,u.target)){const L=Ee(u.target),C=Oe(L);if(m.isVoid(n,L)||m.void(n,{at:C,voids:!0})){const O=m.range(n,C);z.select(n,O)}t(31,N.isDraggingInternally=!0,N),n.setFragmentData(u.dataTransfer)}}),l.$$.dirty[0]&104|l.$$.dirty[1]&1&&t(9,ne=u=>{if(!te&&Te(n,u.target)){u.preventDefault();const L=i,C=xn(n,u),P=u.dataTransfer;z.select(n,C),N.isDraggingInternally&&(L&&!B.equals(L,C)&&!m.void(n,{at:C,voids:!0})&&z.delete(n,{at:L}),t(31,N.isDraggingInternally=!1,N)),n.insertData(P),Jt(n)||jn(n)}}),l.$$.dirty[0]&40|l.$$.dirty[1]&1&&t(8,Ue=u=>{!te&&N.isDraggingInternally&&Te(n,u.target)&&t(31,N.isDraggingInternally=!1,N)}),l.$$.dirty[0]&134217888|l.$$.dirty[1]&3&&Ce!==Je&&n.children.length===1&&Array.from(ue.texts(n)).length===1&&ue.string(n)===""&&!N.isComposing){const u=m.start(n,[]);a.push({[ht]:!0,placeholder:Ce,anchor:u,focus:u}),t(32,Je=Ce),t(7,a),t(29,Ae),t(5,n),t(27,Ce),t(32,Je),t(31,N),t(36,Ye),t(6,i),t(30,Xe),t(3,te),t(35,Ke)}l.$$.dirty[0]&268435472|l.$$.dirty[1]&8&&rt!==Ie&&_e&&(Ie&&_e.focus(),t(34,rt=Ie)),l.$$.dirty[1]&4&&t(22,o=u=>{for(const L of Me)L();t(33,Me.length=0,Me)}),l.$$.dirty[0]&104|l.$$.dirty[1]&5&&t(23,r=u=>{if(!te&&fe(n,u.target)){const L=u.inputType,C=u.dataTransfer||u.data||void 0;if(L==="insertCompositionText"||L==="deleteCompositionText")return;let P=!1;if(L==="insertText"&&i&&B.isCollapsed(i)&&u.data&&u.data.length===1&&/[a-z ]/i.test(u.data)&&i.anchor.offset!==0){P=!0,n.marks&&(P=!1);const O=m.above(n,{at:i.anchor,match:X=>m.isInline(n,X),mode:"highest"});if(O){const[,X]=O;m.isEnd(n,i.anchor,X)&&(P=!1)}}if(P||u.preventDefault(),!L.startsWith("delete")||L.startsWith("deleteBy")){const[O]=u.getTargetRanges();if(O){const X=qe(n,O,{exactMatch:!1,suppressThrow:!1});(!i||!B.equals(i,X))&&z.select(n,X)}}if(i&&B.isExpanded(i)&&L.startsWith("delete")){const O=L.endsWith("Backward")?"backward":"forward";m.deleteFragment(n,{direction:O});return}switch(L){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{m.deleteFragment(n);break}case"deleteContent":case"deleteContentForward":{m.deleteForward(n);break}case"deleteContentBackward":{m.deleteBackward(n);break}case"deleteEntireSoftLine":{m.deleteBackward(n,{unit:"line"}),m.deleteForward(n,{unit:"line"});break}case"deleteHardLineBackward":{m.deleteBackward(n,{unit:"block"});break}case"deleteSoftLineBackward":{m.deleteBackward(n,{unit:"line"});break}case"deleteHardLineForward":{m.deleteForward(n,{unit:"block"});break}case"deleteSoftLineForward":{m.deleteForward(n,{unit:"line"});break}case"deleteWordBackward":{m.deleteBackward(n,{unit:"word"});break}case"deleteWordForward":{m.deleteForward(n,{unit:"word"});break}case"insertLineBreak":case"insertParagraph":{m.insertBreak(n);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{L==="insertFromComposition"&&N.isComposing&&jt(N,"isComposing",!1),(C==null?void 0:C.constructor.name)==="DataTransfer"?n.insertData(C):typeof C=="string"&&(P?Me.push(()=>m.insertText(n,C)):m.insertText(n,C));break}}}}),l.$$.dirty[0]&104|l.$$.dirty[1]&1&&t(21,f=u=>{if(!te&&!N.isComposing&&fe(n,u.target)){const L=n.children[i!==null?i.focus.path[0]:0],C=Ot(ue.string(L))==="rtl";if(V.isRedo(u)){u.preventDefault();const P=n;typeof P.redo=="function"&&P.redo()}else if(V.isUndo(u)){u.preventDefault();const P=n;typeof P.undo=="function"&&P.undo()}else if(V.isMoveLineBackward(u))u.preventDefault(),z.move(n,{unit:"line",reverse:!0});else if(V.isMoveLineForward(u))u.preventDefault(),z.move(n,{unit:"line"});else if(V.isExtendLineBackward(u))u.preventDefault(),z.move(n,{unit:"line",edge:"focus",reverse:!0});else if(V.isExtendLineForward(u))u.preventDefault(),z.move(n,{unit:"line",edge:"focus"});else if(V.isMoveBackward(u))u.preventDefault(),i&&B.isCollapsed(i)?z.move(n,{reverse:!C}):z.collapse(n,{edge:"start"});else if(V.isMoveForward(u))u.preventDefault(),i&&B.isCollapsed(i)?z.move(n,{reverse:C}):z.collapse(n,{edge:"end"});else if(V.isMoveWordBackward(u))u.preventDefault(),i&&B.isExpanded(i)&&z.collapse(n,{edge:"focus"}),z.move(n,{unit:"word",reverse:!C});else if(V.isMoveWordForward(u))u.preventDefault(),i&&B.isExpanded(i)&&z.collapse(n,{edge:"focus"}),z.move(n,{unit:"word",reverse:C});else if(!Gt)V.isBold(u)||V.isItalic(u)||V.isTransposeCharacter(u)?u.preventDefault():V.isSplitBlock(u)?(u.preventDefault(),m.insertBreak(n)):V.isDeleteBackward(u)?(u.preventDefault(),i&&B.isExpanded(i)?m.deleteFragment(n,{direction:"backward"}):m.deleteBackward(n)):V.isDeleteForward(u)?(u.preventDefault(),i&&B.isExpanded(i)?m.deleteFragment(n,{direction:"forward"}):m.deleteForward(n)):V.isDeleteLineBackward(u)?(u.preventDefault(),i&&B.isExpanded(i)?m.deleteFragment(n,{direction:"backward"}):m.deleteBackward(n,{unit:"line"})):V.isDeleteLineForward(u)?(u.preventDefault(),i&&B.isExpanded(i)?m.deleteFragment(n,{direction:"forward"}):m.deleteForward(n,{unit:"line"})):V.isDeleteWordBackward(u)?(u.preventDefault(),i&&B.isExpanded(i)?m.deleteFragment(n,{direction:"backward"}):m.deleteBackward(n,{unit:"word"})):V.isDeleteWordForward(u)&&(u.preventDefault(),i&&B.isExpanded(i)?m.deleteFragment(n,{direction:"forward"}):m.deleteForward(n,{unit:"word"}));else if((Yt||_t)&&i&&(V.isDeleteBackward(u)||V.isDeleteForward(u))&&B.isCollapsed(i)){const P=ue.parent(n,i.anchor.path);$e.isElement(P)&&m.isVoid(n,P)&&m.isInline(n,P)&&(u.preventDefault(),m.deleteBackward(n,{unit:"block"}))}}}),l.$$.dirty[0]&40|l.$$.dirty[1]&1&&t(19,d=u=>{if(te||N.isUpdatingSelection||!fe(n,u.target))return;const L=Fe(n);if(N.latestElement===L.activeElement)return;const C=u.relatedTarget,P=we(n,n);if(C!==P&&!(de(C)&&C.hasAttribute("data-slate-spacer"))){if(C!=null&&ke(C)&&pt(n,C)){const O=Ee(C);if($e.isElement(O)&&!n.isVoid(O))return}if(_t){const O=L.getSelection();O==null||O.removeAllRanges()}Pe.delete(n),Ge.set(!1)}}),l.$$.dirty[0]&40&&t(18,h=u=>{if(!te&&Te(n,u.target)&&ke(u.target)){const L=Ee(u.target),C=Oe(L);if(m.hasPath(n,C)&&ue.get(n,C)===L){const O=m.start(n,C),X=m.end(n,C),Qe=m.void(n,{at:O}),Ze=m.void(n,{at:X});if(Qe&&Ze&&De.equals(Qe[1],Ze[1])){const ot=m.range(n,O);z.select(n,ot)}}}}),l.$$.dirty[0]&40&&t(14,b=u=>{!te&&fe(n,u.target)&&(!Gt||Hn(u))&&(u.preventDefault(),n.insertData(u.clipboardData))}),l.$$.dirty[0]&32&&t(13,_=u=>{fe(n,u.target)&&(u.preventDefault(),n.setFragmentData(u.clipboardData))}),l.$$.dirty[0]&104&&t(12,y=u=>{if(!te&&fe(n,u.target)&&(u.preventDefault(),n.setFragmentData(u.clipboardData),i))if(B.isExpanded(i))m.deleteFragment(n);else{const L=ue.parent(n,i.anchor.path);m.isVoid(n,L)&&z.delete(n)}}),l.$$.dirty[0]&32&&t(11,ce=u=>{if(Te(n,u.target)){const L=Ee(u.target);m.isVoid(n,L)&&u.preventDefault()}})},[bt,Et,Ct,te,_e,n,i,a,Ue,ne,he,ce,y,_,b,w,p,g,h,d,c,f,o,r,Dt,it,me,Ce,Ie,Ae,Xe,N,Je,Me,rt,Ke,Ye,mn]}class xl extends G{constructor(e){super();J(this,e,jl,Ql,Q,{Element:0,Leaf:1,Placeholder:2,placeholder:27,readOnly:3,autoFocus:28,decorate:29,scrollSelectionIntoView:30},null,[-1,-1])}}function un(l,e){const t=(e.top+e.bottom)/2;return l.top<=t&&l.bottom>=t}function dn(l,e,t){const n=lt(l,e).getBoundingClientRect(),i=lt(l,t).getBoundingClientRect();return un(n,i)&&un(i,n)}function $l(l,e){const t=m.range(l,B.end(e)),n=Array.from(m.positions(l,{at:e}));let i=0,a=n.length,s=Math.floor(a/2);if(dn(l,m.range(l,n[i]),t))return m.range(l,n[i],t);if(n.length<2)return m.range(l,n[n.length-1],t);for(;s!==n.length&&s!==i;)dn(l,m.range(l,n[s]),t)?a=s:i=s,s=Math.floor((i+a)/2);return m.range(l,n[a],t)}const ei=l=>{const e=l,{apply:t,onChange:n,deleteBackward:i}=e;return Ne.set(e,new WeakMap),e.deleteBackward=a=>{if(a!=="line")return i(a);if(l.selection&&B.isCollapsed(l.selection)){const s=m.above(l,{match:r=>m.isBlock(l,r),at:l.selection});if(s){const[,r]=s,o=m.range(l,r,l.selection.anchor),f=$l(e,o);B.isCollapsed(f)||z.delete(l,{at:f})}}},e.apply=a=>{const s=[];switch(a.type){case"insert_text":case"remove_text":case"set_node":{for(const[r,o]of m.levels(e,{at:a.path})){const f=be(r);s.push([o,f])}break}case"insert_node":case"remove_node":case"merge_node":case"split_node":{for(const[r,o]of m.levels(e,{at:De.parent(a.path)})){const f=be(r);s.push([o,f])}break}case"move_node":{for(const[r,o]of m.levels(e,{at:De.common(De.parent(a.path),De.parent(a.newPath))})){const f=be(r);s.push([o,f])}break}}t(a);for(const[r,o]of s){const[f]=m.node(e,r);dt.set(f,o)}},e.setFragmentData=a=>{const{selection:s}=e;if(!s)return;const[r,o]=B.edges(s),f=m.void(e,{at:r.path}),c=m.void(e,{at:o.path});if(B.isCollapsed(s)&&!f)return;const d=lt(e,s);let h=d.cloneContents(),g=h.childNodes[0];if(h.childNodes.forEach(y=>{y.textContent&&y.textContent.trim()!==""&&(g=y)}),c){const[y]=c,ce=d.cloneRange(),he=we(e,y);ce.setEndAfter(he),h=ce.cloneContents()}if(f&&(g=h.querySelector("[data-slate-spacer]")),Array.from(h.querySelectorAll("[data-slate-zero-width]")).forEach(y=>{const ce=y.getAttribute("data-slate-zero-width")==="n";y.textContent=ce?`
`:""}),Vt(g)){const y=document.createElement("span");y.style.whiteSpace="pre",y.appendChild(g),h.appendChild(y),g=y}const p=e.getFragment(),w=JSON.stringify(p),b=window.btoa(encodeURIComponent(w));g.setAttribute("data-slate-fragment",b),a.setData("application/x-slate-fragment",b);const _=document.createElement("div");return _.appendChild(h),_.setAttribute("hidden","true"),document.body.appendChild(_),a.setData("text/html",_.innerHTML),a.setData("text/plain",Ut(_)),document.body.removeChild(_),a},e.insertData=a=>{e.insertFragmentData(a)||e.insertTextData(a)},e.insertFragmentData=a=>{const s=a.getData("application/x-slate-fragment")||Yn(a);if(s){const r=decodeURIComponent(window.atob(s)),o=JSON.parse(r);return e.insertFragment(o),!0}return!1},e.insertTextData=a=>{const s=a.getData("text/plain");if(s){const r=s.split(/\r\n|\r|\n/);let o=!1;for(const f of r)o&&z.splitNodes(e,{always:!0}),e.insertText(f),o=!0;return!0}return!1},e.onChange=()=>{const a=Bt.get(e);a&&a(),n()},e};function ti(l){let e,t;const n=l[5].default,i=le(n,l,l[4],null);let a=[l[2]],s={};for(let r=0;r<a.length;r+=1)s=v(s,a[r]);return{c(){e=q("p"),i&&i.c(),this.h()},l(r){e=U(r,"P",{});var o=K(e);i&&i.l(o),o.forEach(k),this.h()},h(){W(e,s),T(e,"svelte-xu68xn",!0)},m(r,o){S(r,e,o),i&&i.m(e,null),l[12](e),t=!0},p(r,o){i&&i.p&&(!t||o&16)&&ie(i,n,r,r[4],t?oe(n,r[4],o,null):re(r[4]),null),W(e,s=se(a,[o&4&&r[2]])),T(e,"svelte-xu68xn",!0)},i(r){t||(E(i,r),t=!0)},o(r){D(i,r),t=!1},d(r){r&&k(e),i&&i.d(r),l[12](null)}}}function ni(l){let e,t;const n=l[5].default,i=le(n,l,l[4],null);let a=[l[2]],s={};for(let r=0;r<a.length;r+=1)s=v(s,a[r]);return{c(){e=q("ol"),i&&i.c(),this.h()},l(r){e=U(r,"OL",{});var o=K(e);i&&i.l(o),o.forEach(k),this.h()},h(){W(e,s),T(e,"svelte-xu68xn",!0)},m(r,o){S(r,e,o),i&&i.m(e,null),l[11](e),t=!0},p(r,o){i&&i.p&&(!t||o&16)&&ie(i,n,r,r[4],t?oe(n,r[4],o,null):re(r[4]),null),W(e,s=se(a,[o&4&&r[2]])),T(e,"svelte-xu68xn",!0)},i(r){t||(E(i,r),t=!0)},o(r){D(i,r),t=!1},d(r){r&&k(e),i&&i.d(r),l[11](null)}}}function li(l){let e,t;const n=l[5].default,i=le(n,l,l[4],null);let a=[l[2]],s={};for(let r=0;r<a.length;r+=1)s=v(s,a[r]);return{c(){e=q("li"),i&&i.c(),this.h()},l(r){e=U(r,"LI",{});var o=K(e);i&&i.l(o),o.forEach(k),this.h()},h(){W(e,s),T(e,"svelte-xu68xn",!0)},m(r,o){S(r,e,o),i&&i.m(e,null),l[10](e),t=!0},p(r,o){i&&i.p&&(!t||o&16)&&ie(i,n,r,r[4],t?oe(n,r[4],o,null):re(r[4]),null),W(e,s=se(a,[o&4&&r[2]])),T(e,"svelte-xu68xn",!0)},i(r){t||(E(i,r),t=!0)},o(r){D(i,r),t=!1},d(r){r&&k(e),i&&i.d(r),l[10](null)}}}function ii(l){let e,t;const n=l[5].default,i=le(n,l,l[4],null);let a=[l[2]],s={};for(let r=0;r<a.length;r+=1)s=v(s,a[r]);return{c(){e=q("h2"),i&&i.c(),this.h()},l(r){e=U(r,"H2",{});var o=K(e);i&&i.l(o),o.forEach(k),this.h()},h(){W(e,s),T(e,"svelte-xu68xn",!0)},m(r,o){S(r,e,o),i&&i.m(e,null),l[9](e),t=!0},p(r,o){i&&i.p&&(!t||o&16)&&ie(i,n,r,r[4],t?oe(n,r[4],o,null):re(r[4]),null),W(e,s=se(a,[o&4&&r[2]])),T(e,"svelte-xu68xn",!0)},i(r){t||(E(i,r),t=!0)},o(r){D(i,r),t=!1},d(r){r&&k(e),i&&i.d(r),l[9](null)}}}function ri(l){let e,t;const n=l[5].default,i=le(n,l,l[4],null);let a=[l[2]],s={};for(let r=0;r<a.length;r+=1)s=v(s,a[r]);return{c(){e=q("h1"),i&&i.c(),this.h()},l(r){e=U(r,"H1",{});var o=K(e);i&&i.l(o),o.forEach(k),this.h()},h(){W(e,s),T(e,"svelte-xu68xn",!0)},m(r,o){S(r,e,o),i&&i.m(e,null),l[8](e),t=!0},p(r,o){i&&i.p&&(!t||o&16)&&ie(i,n,r,r[4],t?oe(n,r[4],o,null):re(r[4]),null),W(e,s=se(a,[o&4&&r[2]])),T(e,"svelte-xu68xn",!0)},i(r){t||(E(i,r),t=!0)},o(r){D(i,r),t=!1},d(r){r&&k(e),i&&i.d(r),l[8](null)}}}function oi(l){let e,t;const n=l[5].default,i=le(n,l,l[4],null);let a=[l[2]],s={};for(let r=0;r<a.length;r+=1)s=v(s,a[r]);return{c(){e=q("ul"),i&&i.c(),this.h()},l(r){e=U(r,"UL",{});var o=K(e);i&&i.l(o),o.forEach(k),this.h()},h(){W(e,s),T(e,"svelte-xu68xn",!0)},m(r,o){S(r,e,o),i&&i.m(e,null),l[7](e),t=!0},p(r,o){i&&i.p&&(!t||o&16)&&ie(i,n,r,r[4],t?oe(n,r[4],o,null):re(r[4]),null),W(e,s=se(a,[o&4&&r[2]])),T(e,"svelte-xu68xn",!0)},i(r){t||(E(i,r),t=!0)},o(r){D(i,r),t=!1},d(r){r&&k(e),i&&i.d(r),l[7](null)}}}function si(l){let e,t;const n=l[5].default,i=le(n,l,l[4],null);let a=[l[2]],s={};for(let r=0;r<a.length;r+=1)s=v(s,a[r]);return{c(){e=q("blockquote"),i&&i.c(),this.h()},l(r){e=U(r,"BLOCKQUOTE",{});var o=K(e);i&&i.l(o),o.forEach(k),this.h()},h(){W(e,s),T(e,"svelte-xu68xn",!0)},m(r,o){S(r,e,o),i&&i.m(e,null),l[6](e),t=!0},p(r,o){i&&i.p&&(!t||o&16)&&ie(i,n,r,r[4],t?oe(n,r[4],o,null):re(r[4]),null),W(e,s=se(a,[o&4&&r[2]])),T(e,"svelte-xu68xn",!0)},i(r){t||(E(i,r),t=!0)},o(r){D(i,r),t=!1},d(r){r&&k(e),i&&i.d(r),l[6](null)}}}function ai(l){let e,t,n,i;const a=[si,oi,ri,ii,li,ni,ti],s=[];function r(o,f){var c,d,h,g,p,w;return((c=o[1])==null?void 0:c.type)==="block-quote"?0:((d=o[1])==null?void 0:d.type)==="bulleted-list"?1:((h=o[1])==null?void 0:h.type)==="heading-one"?2:((g=o[1])==null?void 0:g.type)==="heading-two"?3:((p=o[1])==null?void 0:p.type)==="list-item"?4:((w=o[1])==null?void 0:w.type)==="numbered-list"?5:6}return e=r(l),t=s[e]=a[e](l),{c(){t.c(),n=F()},l(o){t.l(o),n=F()},m(o,f){s[e].m(o,f),S(o,n,f),i=!0},p(o,[f]){let c=e;e=r(o),e===c?s[e].p(o,f):(Z(),D(s[c],1,1,()=>{s[c]=null}),j(),t=s[e],t?t.p(o,f):(t=s[e]=a[e](o),t.c()),E(t,1),t.m(n.parentNode,n))},i(o){i||(E(t),i=!0)},o(o){D(t),i=!1},d(o){s[e].d(o),o&&k(n)}}}function fi(l,e,t){const n=["editor","element","ref"];let i=ae(e,n),{$$slots:a={},$$scope:s}=e,{editor:r}=e,{element:o}=e,{ref:f=void 0}=e;function c(_){x[_?"unshift":"push"](()=>{f=_,t(0,f)})}function d(_){x[_?"unshift":"push"](()=>{f=_,t(0,f)})}function h(_){x[_?"unshift":"push"](()=>{f=_,t(0,f)})}function g(_){x[_?"unshift":"push"](()=>{f=_,t(0,f)})}function p(_){x[_?"unshift":"push"](()=>{f=_,t(0,f)})}function w(_){x[_?"unshift":"push"](()=>{f=_,t(0,f)})}function b(_){x[_?"unshift":"push"](()=>{f=_,t(0,f)})}return l.$$set=_=>{e=v(v({},e),Le(_)),t(2,i=ae(e,n)),"editor"in _&&t(3,r=_.editor),"element"in _&&t(1,o=_.element),"ref"in _&&t(0,f=_.ref),"$$scope"in _&&t(4,s=_.$$scope)},[f,o,i,r,s,a,c,d,h,g,p,w,b]}class ci extends G{constructor(e){super();J(this,e,fi,ai,Q,{editor:3,element:1,ref:0})}}function ui(l){let e,t;const n=l[4].default,i=le(n,l,l[3],null);let a=[l[1]],s={};for(let r=0;r<a.length;r+=1)s=v(s,a[r]);return{c(){e=q("span"),i&&i.c(),this.h()},l(r){e=U(r,"SPAN",{});var o=K(e);i&&i.l(o),o.forEach(k),this.h()},h(){W(e,s),T(e,"bold",l[0].bold),T(e,"italic",l[0].italic),T(e,"code",l[0].code),T(e,"underline",l[0].underline),T(e,"svelte-nzyvs2",!0)},m(r,o){S(r,e,o),i&&i.m(e,null),t=!0},p(r,[o]){i&&i.p&&(!t||o&8)&&ie(i,n,r,r[3],t?oe(n,r[3],o,null):re(r[3]),null),W(e,s=se(a,[o&2&&r[1]])),T(e,"bold",r[0].bold),T(e,"italic",r[0].italic),T(e,"code",r[0].code),T(e,"underline",r[0].underline),T(e,"svelte-nzyvs2",!0)},i(r){t||(E(i,r),t=!0)},o(r){D(i,r),t=!1},d(r){r&&k(e),i&&i.d(r)}}}function di(l,e,t){const n=["editor","leaf"];let i=ae(e,n),{$$slots:a={},$$scope:s}=e,{editor:r}=e,{leaf:o}=e;return l.$$set=f=>{e=v(v({},e),Le(f)),t(1,i=ae(e,n)),"editor"in f&&t(2,r=f.editor),"leaf"in f&&t(0,o=f.leaf),"$$scope"in f&&t(3,s=f.$$scope)},[o,i,r,s,a]}class hi extends G{constructor(e){super();J(this,e,di,ui,Q,{editor:2,leaf:0})}}function gi(l){let e,t;return e=new xl({props:{Element:ci,Leaf:hi,placeholder:"Enter some plain text..."}}),{c(){A(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){M(e,n,i),t=!0},p:pe,i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function mi(l){let e,t,n,i,a,s=JSON.stringify(l[0],null,2)+"",r,o;function f(d){l[2](d)}let c={editor:l[1],$$slots:{default:[gi]},$$scope:{ctx:l}};return l[0]!==void 0&&(c.value=l[0]),e=new Rn({props:c}),x.push(()=>Ve(e,"value",f)),{c(){A(e.$$.fragment),n=Nn(),i=q("code"),a=q("pre"),r=ve(s)},l(d){Y(e.$$.fragment,d),n=Pn(d),i=U(d,"CODE",{});var h=K(i);a=U(h,"PRE",{});var g=K(a);r=He(g,s),g.forEach(k),h.forEach(k)},m(d,h){M(e,d,h),S(d,n,h),S(d,i,h),je(i,a),je(a,r),o=!0},p(d,[h]){const g={};h&8&&(g.$$scope={dirty:h,ctx:d}),!t&&h&1&&(t=!0,g.value=d[0],at(()=>t=!1)),e.$set(g),(!o||h&1)&&s!==(s=JSON.stringify(d[0],null,2)+"")&&st(r,s)},i(d){o||(E(e.$$.fragment,d),o=!0)},o(d){D(e.$$.fragment,d),o=!1},d(d){R(e,d),d&&k(n),d&&k(i)}}}function _i(l,e,t){const n=On(ei(Fn()));let i=[{type:"paragraph",children:[{bold:!0,text:"Edit me"},{text:" I'm a text "},{italic:!0,text:"child"}]}];function a(s){i=s,t(0,i)}return[i,n,a]}class ki extends G{constructor(e){super();J(this,e,_i,mi,Q,{})}}export{ki as default};
