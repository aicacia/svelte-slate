import{K as yu,S as Ou,T as zi,w as re,x as ce,A as de,B as De,C as he,o as _u,U as Pu,V as Nu,b as te,c as ne,f as fe,d as S,g as C,W as Wi,i as W,X as Hi,e as ee,m as X,j as ln,k as on,z as Vt,l as Su,v as Ot,Y as Ki,n as je,D as it,Z as Yi,F as $e,s as fn,p as _t,_ as sr,H as xe,G as ye,$ as Qt,a as Ui,t as lr,q as Tu}from"./scheduler.vOps6Zji.js";import{t as R,a as I,S as J,i as Z,g as Se,c as Te,b as ae,d as Ae,m as se,e as le,f as Re}from"./index.nYzQeYb_.js";import{g as Iu,a as Gi}from"./spread.rEx3vLA9.js";import{w as Xi}from"./index.F5r6TDVT.js";function xt(t){return t?.length!==void 0?t:Array.from(t)}function Ru(t,e){R(t,1,1,()=>{e.delete(t.key)})}function ju(t,e,n,u,r,i,a,l,s,c,o,d){let f=t.length,h=i.length,m=f;const A={};for(;m--;)A[t[m].key]=m;const E=[],F=new Map,b=new Map,y=[];for(m=h;m--;){const O=d(r,i,m),g=n(O);let q=a.get(g);q?u&&y.push(()=>q.p(O,e)):(q=c(g,O),q.c()),F.set(g,E[m]=q),g in A&&b.set(g,Math.abs(m-A[g]))}const P=new Set,_=new Set;function j(O){I(O,1),O.m(l,o),a.set(O.key,O),o=O.first,h--}for(;f&&h;){const O=E[h-1],g=t[f-1],q=O.key,Y=g.key;O===g?(o=O.first,f--,h--):F.has(Y)?!a.has(q)||P.has(q)?j(O):_.has(Y)?f--:b.get(q)>b.get(Y)?(_.add(q),j(O)):(P.add(Y),f--):(s(g,a),f--)}for(;f--;){const O=t[f];F.has(O.key)||s(O,a)}for(;h;)j(E[h-1]);return yu(y),E}const cn=new WeakMap,dn=new WeakMap,Sn=new WeakMap,Zt=new WeakMap,Dn=new WeakMap,$t=new WeakMap,Tn=new WeakMap,hn=new WeakMap,ku=new WeakMap,wt=new WeakMap,In=new WeakMap,qt=Symbol("placeholder");/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function or(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ne(t){var e,n;return or(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(or(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}var Lu=Symbol.for("immer-nothing"),fr=Symbol.for("immer-draftable"),Ke=Symbol.for("immer-state");function tt(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Pt=Object.getPrototypeOf;function Ct(t){return!!t&&!!t[Ke]}function vt(t){return t?Vu(t)||Array.isArray(t)||!!t[fr]||!!t.constructor?.[fr]||mn(t)||Cn(t):!1}var Ji=Object.prototype.constructor.toString();function Vu(t){if(!t||typeof t!="object")return!1;const e=Pt(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Ji}function zt(t,e){gn(t)===0?Object.entries(t).forEach(([n,u])=>{e(n,u,t)}):t.forEach((n,u)=>e(u,n,t))}function gn(t){const e=t[Ke];return e?e.type_:Array.isArray(t)?1:mn(t)?2:Cn(t)?3:0}function Rn(t,e){return gn(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Mu(t,e,n){const u=gn(t);u===2?t.set(e,n):u===3?t.add(n):t[e]=n}function Zi(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function mn(t){return t instanceof Map}function Cn(t){return t instanceof Set}function ht(t){return t.copy_||t.base_}function jn(t,e){if(mn(t))return new Map(t);if(Cn(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&Vu(t))return Pt(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Ke];let u=Reflect.ownKeys(n);for(let r=0;r<u.length;r++){const i=u[r],a=n[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[i]})}return Object.create(Pt(t),n)}function zn(t,e=!1){return vn(t)||Ct(t)||!vt(t)||(gn(t)>1&&(t.set=t.add=t.clear=t.delete=Qi),Object.freeze(t),e&&zt(t,(n,u)=>zn(u,!0))),t}function Qi(){tt(2)}function vn(t){return Object.isFrozen(t)}var xi={};function Bt(t){const e=xi[t];return e||tt(0,t),e}var Wt;function qu(){return Wt}function $i(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cr(t,e){e&&(Bt("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function kn(t){Ln(t),t.drafts_.forEach(ea),t.drafts_=null}function Ln(t){t===Wt&&(Wt=t.parent_)}function dr(t){return Wt=$i(Wt,t)}function ea(t){const e=t[Ke];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Dr(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ke].modified_&&(kn(e),tt(4)),vt(t)&&(t=en(e,t),e.parent_||tn(e,t)),e.patches_&&Bt("Patches").generateReplacementPatches_(n[Ke].base_,t,e.patches_,e.inversePatches_)):t=en(e,n,[]),kn(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Lu?t:void 0}function en(t,e,n){if(vn(e))return e;const u=e[Ke];if(!u)return zt(e,(r,i)=>hr(t,u,e,r,i,n)),e;if(u.scope_!==t)return e;if(!u.modified_)return tn(t,u.base_,!0),u.base_;if(!u.finalized_){u.finalized_=!0,u.scope_.unfinalizedDrafts_--;const r=u.copy_;let i=r,a=!1;u.type_===3&&(i=new Set(r),r.clear(),a=!0),zt(i,(l,s)=>hr(t,u,r,l,s,n,a)),tn(t,r,!1),n&&t.patches_&&Bt("Patches").generatePatches_(u,n,t.patches_,t.inversePatches_)}return u.copy_}function hr(t,e,n,u,r,i,a){if(Ct(r)){const l=i&&e&&e.type_!==3&&!Rn(e.assigned_,u)?i.concat(u):void 0,s=en(t,r,l);if(Mu(n,u,s),Ct(s))t.canAutoFreeze_=!1;else return}else a&&n.add(r);if(vt(r)&&!vn(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;en(t,r),(!e||!e.scope_.parent_)&&tn(t,r)}}function tn(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&zn(e,n)}function ta(t,e){const n=Array.isArray(t),u={type_:n?1:0,scope_:e?e.scope_:qu(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=u,i=Wn;n&&(r=[u],i=Ht);const{revoke:a,proxy:l}=Proxy.revocable(r,i);return u.draft_=l,u.revoke_=a,l}var Wn={get(t,e){if(e===Ke)return t;const n=ht(t);if(!Rn(n,e))return na(t,n,e);const u=n[e];return t.finalized_||!vt(u)?u:u===bn(t.base_,e)?(wn(t),t.copy_[e]=Mn(u,t)):u},has(t,e){return e in ht(t)},ownKeys(t){return Reflect.ownKeys(ht(t))},set(t,e,n){const u=zu(ht(t),e);if(u?.set)return u.set.call(t.draft_,n),!0;if(!t.modified_){const r=bn(ht(t),e),i=r?.[Ke];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Zi(n,r)&&(n!==void 0||Rn(t.base_,e)))return!0;wn(t),Vn(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return bn(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,wn(t),Vn(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ht(t),u=Reflect.getOwnPropertyDescriptor(n,e);return u&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:u.enumerable,value:n[e]}},defineProperty(){tt(11)},getPrototypeOf(t){return Pt(t.base_)},setPrototypeOf(){tt(12)}},Ht={};zt(Wn,(t,e)=>{Ht[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ht.deleteProperty=function(t,e){return Ht.set.call(this,t,e,void 0)};Ht.set=function(t,e,n){return Wn.set.call(this,t[0],e,n,t[0])};function bn(t,e){const n=t[Ke];return(n?ht(n):t)[e]}function na(t,e,n){const u=zu(e,n);return u?"value"in u?u.value:u.get?.call(t.draft_):void 0}function zu(t,e){if(!(e in t))return;let n=Pt(t);for(;n;){const u=Object.getOwnPropertyDescriptor(n,e);if(u)return u;n=Pt(n)}}function Vn(t){t.modified_||(t.modified_=!0,t.parent_&&Vn(t.parent_))}function wn(t){t.copy_||(t.copy_=jn(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ra=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,u)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const a=this;return function(s=i,...c){return a.produce(s,o=>n.call(this,o,...c))}}typeof n!="function"&&tt(6),u!==void 0&&typeof u!="function"&&tt(7);let r;if(vt(e)){const i=dr(this),a=Mn(e,void 0);let l=!0;try{r=n(a),l=!1}finally{l?kn(i):Ln(i)}return cr(i,u),Dr(r,i)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===Lu&&(r=void 0),this.autoFreeze_&&zn(r,!0),u){const i=[],a=[];Bt("Patches").generateReplacementPatches_(e,r,i,a),u(i,a)}return r}else tt(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,s=>e(s,...l));let u,r;return[this.produce(e,n,(a,l)=>{u=a,r=l}),u,r]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){vt(t)||tt(8),Ct(t)&&(t=ua(t));const e=dr(this),n=Mn(t,void 0);return n[Ke].isManual_=!0,Ln(e),n}finishDraft(t,e){const n=t&&t[Ke];(!n||!n.isManual_)&&tt(9);const{scope_:u}=n;return cr(u,e),Dr(void 0,u)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const u=Bt("Patches").applyPatches_;return Ct(t)?u(t,e):this.produce(t,r=>u(r,e))}};function Mn(t,e){const n=mn(t)?Bt("MapSet").proxyMap_(t,e):Cn(t)?Bt("MapSet").proxySet_(t,e):ta(t,e);return(e?e.scope_:qu()).drafts_.push(n),n}function ua(t){return Ct(t)||tt(10,t),Wu(t)}function Wu(t){if(!vt(t)||vn(t))return t;const e=t[Ke];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=jn(t,e.scope_.immer_.useStrictShallowCopy_)}else n=jn(t,!0);return zt(n,(u,r)=>{Mu(n,u,Wu(r))}),e&&(e.finalized_=!1),n}var Ye=new ra,Hn=Ye.produce;Ye.produceWithPatches.bind(Ye);Ye.setAutoFreeze.bind(Ye);Ye.setUseStrictShallowCopy.bind(Ye);Ye.applyPatches.bind(Ye);var gr=Ye.createDraft.bind(Ye),mr=Ye.finishDraft.bind(Ye),ia={transform(t,e){var{current:n,affinity:u}=t;if(n!=null){var r=v.transform(n,e,{affinity:u});t.current=r,r==null&&t.unref()}}},aa={transform(t,e){var{current:n,affinity:u}=t;if(n!=null){var r=x.transform(n,e,{affinity:u});t.current=r,r==null&&t.unref()}}},sa={transform(t,e){var{current:n,affinity:u}=t;if(n!=null){var r=w.transform(n,e,{affinity:u});t.current=r,r==null&&t.unref()}}},nn=new WeakMap,rn=new WeakMap,Mt=new WeakMap,Hu=new WeakMap,Cr=new WeakMap,vr=new WeakMap,Br=new WeakMap,v={ancestors(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,u=v.levels(t,e);return n?u=u.slice(1):u=u.slice(0,-1),u},common(t,e){for(var n=[],u=0;u<t.length&&u<e.length;u++){var r=t[u],i=e[u];if(r!==i)break;n.push(r)}return n},compare(t,e){for(var n=Math.min(t.length,e.length),u=0;u<n;u++){if(t[u]<e[u])return-1;if(t[u]>e[u])return 1}return 0},endsAfter(t,e){var n=t.length-1,u=t.slice(0,n),r=e.slice(0,n),i=t[n],a=e[n];return v.equals(u,r)&&i>a},endsAt(t,e){var n=t.length,u=t.slice(0,n),r=e.slice(0,n);return v.equals(u,r)},endsBefore(t,e){var n=t.length-1,u=t.slice(0,n),r=e.slice(0,n),i=t[n],a=e[n];return v.equals(u,r)&&i<a},equals(t,e){return t.length===e.length&&t.every((n,u)=>n===e[u])},hasPrevious(t){return t[t.length-1]>0},isAfter(t,e){return v.compare(t,e)===1},isAncestor(t,e){return t.length<e.length&&v.compare(t,e)===0},isBefore(t,e){return v.compare(t,e)===-1},isChild(t,e){return t.length===e.length+1&&v.compare(t,e)===0},isCommon(t,e){return t.length<=e.length&&v.compare(t,e)===0},isDescendant(t,e){return t.length>e.length&&v.compare(t,e)===0},isParent(t,e){return t.length+1===e.length&&v.compare(t,e)===0},isPath(t){return Array.isArray(t)&&(t.length===0||typeof t[0]=="number")},isSibling(t,e){if(t.length!==e.length)return!1;var n=t.slice(0,-1),u=e.slice(0,-1),r=t[t.length-1],i=e[e.length-1];return r!==i&&v.equals(n,u)},levels(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,u=[],r=0;r<=t.length;r++)u.push(t.slice(0,r));return n&&u.reverse(),u},next(t){if(t.length===0)throw new Error("Cannot get the next path of a root path [".concat(t,"], because it has no next index."));var e=t[t.length-1];return t.slice(0,-1).concat(e+1)},operationCanTransformPath(t){switch(t.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(t){if(t.length===0)throw new Error("Cannot get the parent path of the root path [".concat(t,"]."));return t.slice(0,-1)},previous(t){if(t.length===0)throw new Error("Cannot get the previous path of a root path [".concat(t,"], because it has no previous index."));var e=t[t.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(t,"] because it would result in a negative index."));return t.slice(0,-1).concat(e-1)},relative(t,e){if(!v.isAncestor(e,t)&&!v.equals(t,e))throw new Error("Cannot get the relative path of [".concat(t,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return t.slice(e.length)},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return null;var u=[...t],{affinity:r="forward"}=n;if(t.length===0)return u;switch(e.type){case"insert_node":{var{path:i}=e;(v.equals(i,u)||v.endsBefore(i,u)||v.isAncestor(i,u))&&(u[i.length-1]+=1);break}case"remove_node":{var{path:a}=e;if(v.equals(a,u)||v.isAncestor(a,u))return null;v.endsBefore(a,u)&&(u[a.length-1]-=1);break}case"merge_node":{var{path:l,position:s}=e;v.equals(l,u)||v.endsBefore(l,u)?u[l.length-1]-=1:v.isAncestor(l,u)&&(u[l.length-1]-=1,u[l.length]+=s);break}case"split_node":{var{path:c,position:o}=e;if(v.equals(c,u)){if(r==="forward")u[u.length-1]+=1;else if(r!=="backward")return null}else v.endsBefore(c,u)?u[c.length-1]+=1:v.isAncestor(c,u)&&t[c.length]>=o&&(u[c.length-1]+=1,u[c.length]-=o);break}case"move_node":{var{path:d,newPath:f}=e;if(v.equals(d,f))return u;if(v.isAncestor(d,u)||v.equals(d,u)){var h=f.slice();return v.endsBefore(d,f)&&d.length<f.length&&(h[d.length-1]-=1),h.concat(u.slice(d.length))}else v.isSibling(d,f)&&(v.isAncestor(f,u)||v.equals(f,u))?v.endsBefore(d,u)?u[d.length-1]-=1:u[d.length-1]+=1:v.endsBefore(f,u)||v.equals(f,u)||v.isAncestor(f,u)?(v.endsBefore(d,u)&&(u[d.length-1]-=1),u[f.length-1]+=1):v.endsBefore(d,u)&&(v.equals(f,u)&&(u[f.length-1]+=1),u[d.length-1]-=1);break}}return u}};function Kt(t){"@babel/helpers - typeof";return Kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kt(t)}function la(t,e){if(Kt(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var u=n.call(t,e||"default");if(Kt(u)!=="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oa(t){var e=la(t,"string");return Kt(e)==="symbol"?e:String(e)}function Ve(t,e,n){return e=oa(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Er(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Er(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var fa=(t,e,n)=>{switch(n.type){case"insert_node":{var{path:u,node:r}=n,i=N.parent(t,u),a=u[u.length-1];if(a>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(u,"] because the destination is past the end of the node."));if(i.children.splice(a,0,r),e)for(var[l,s]of w.points(e))e[s]=x.transform(l,n);break}case"insert_text":{var{path:c,offset:o,text:d}=n;if(d.length===0)break;var f=N.leaf(t,c),h=f.text.slice(0,o),m=f.text.slice(o);if(f.text=h+d+m,e)for(var[A,E]of w.points(e))e[E]=x.transform(A,n);break}case"merge_node":{var{path:F}=n,b=N.get(t,F),y=v.previous(F),P=N.get(t,y),_=N.parent(t,F),j=F[F.length-1];if(V.isText(b)&&V.isText(P))P.text+=b.text;else if(!V.isText(b)&&!V.isText(P))P.children.push(...b.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(F,"] to nodes of different interfaces: ").concat(He.stringify(b)," ").concat(He.stringify(P)));if(_.children.splice(j,1),e)for(var[O,g]of w.points(e))e[g]=x.transform(O,n);break}case"move_node":{var{path:q,newPath:Y}=n;if(v.isAncestor(q,Y))throw new Error("Cannot move a path [".concat(q,"] to new path [").concat(Y,"] because the destination is inside itself."));var ue=N.get(t,q),Ce=N.parent(t,q),z=q[q.length-1];Ce.children.splice(z,1);var $=v.transform(q,n),_e=N.get(t,v.parent($)),T=$[$.length-1];if(_e.children.splice(T,0,ue),e)for(var[U,Fe]of w.points(e))e[Fe]=x.transform(U,n);break}case"remove_node":{var{path:oe}=n,Be=oe[oe.length-1],ke=N.parent(t,oe);if(ke.children.splice(Be,1),e)for(var[pe,Ue]of w.points(e)){var G=x.transform(pe,n);if(e!=null&&G!=null)e[Ue]=G;else{var ge=void 0,be=void 0;for(var[ze,Ge]of N.texts(t))if(v.compare(Ge,oe)===-1)ge=[ze,Ge];else{be=[ze,Ge];break}var Pe=!1;ge&&be&&(v.equals(be[1],oe)?Pe=!v.hasPrevious(be[1]):Pe=v.common(ge[1],oe).length<v.common(be[1],oe).length),ge&&!Pe?(pe.path=ge[1],pe.offset=ge[0].text.length):be?(pe.path=be[1],pe.offset=0):e=null}}break}case"remove_text":{var{path:Ie,offset:Xe,text:Je}=n;if(Je.length===0)break;var Ze=N.leaf(t,Ie),we=Ze.text.slice(0,Xe),st=Ze.text.slice(Xe+Je.length);if(Ze.text=we+st,e)for(var[At,En]of w.points(e))e[En]=x.transform(At,n);break}case"set_node":{var{path:Ut,properties:An,newProperties:It}=n;if(Ut.length===0)throw new Error("Cannot set properties on the root node!");var B=N.get(t,Ut);for(var k in It){if(k==="children"||k==="text")throw new Error('Cannot set the "'.concat(k,'" property of nodes!'));var M=It[k];M==null?delete B[k]:B[k]=M}for(var ie in An)It.hasOwnProperty(ie)||delete B[ie];break}case"set_selection":{var{newProperties:K}=n;if(K==null)e=K;else{if(e==null){if(!w.isRange(K))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(He.stringify(K)," when there is no current selection."));e=Rt({},K)}for(var Q in K){var dt=K[Q];if(dt==null){if(Q==="anchor"||Q==="focus")throw new Error('Cannot remove the "'.concat(Q,'" selection property'));delete e[Q]}else e[Q]=dt}}break}case"split_node":{var{path:We,position:Ft,properties:ar}=n;if(We.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(We,"] because the root node cannot be split."));var Dt=N.get(t,We),Ii=N.parent(t,We),Ri=We[We.length-1],Fn;if(V.isText(Dt)){var ji=Dt.text.slice(0,Ft),ki=Dt.text.slice(Ft);Dt.text=ji,Fn=Rt(Rt({},ar),{},{text:ki})}else{var Li=Dt.children.slice(0,Ft),Vi=Dt.children.slice(Ft);Dt.children=Li,Fn=Rt(Rt({},ar),{},{children:Vi})}if(Ii.children.splice(Ri+1,0,Fn),e)for(var[Mi,qi]of w.points(e))e[qi]=x.transform(Mi,n);break}}return e},ca={transform(t,e){t.children=gr(t.children);var n=t.selection&&gr(t.selection);try{n=fa(t,n,e)}finally{t.children=mr(t.children),n?t.selection=Ct(n)?mr(n):n:t.selection=null}}},da={insertNodes(t,e,n){t.insertNodes(e,n)},liftNodes(t,e){t.liftNodes(e)},mergeNodes(t,e){t.mergeNodes(e)},moveNodes(t,e){t.moveNodes(e)},removeNodes(t,e){t.removeNodes(e)},setNodes(t,e,n){t.setNodes(e,n)},splitNodes(t,e){t.splitNodes(e)},unsetNodes(t,e,n){t.unsetNodes(e,n)},unwrapNodes(t,e){t.unwrapNodes(e)},wrapNodes(t,e,n){t.wrapNodes(e,n)}},Da={collapse(t,e){t.collapse(e)},deselect(t){t.deselect()},move(t,e){t.move(e)},select(t,e){t.select(e)},setPoint(t,e,n){t.setPoint(e,n)},setSelection(t,e){t.setSelection(e)}},Ku=(t,e)=>{for(var n in t){var u=t[n],r=e[n];if(Ne(u)&&Ne(r)){if(!Ku(u,r))return!1}else if(Array.isArray(u)&&Array.isArray(r)){if(u.length!==r.length)return!1;for(var i=0;i<u.length;i++)if(u[i]!==r[i])return!1}else if(u!==r)return!1}for(var a in e)if(t[a]===void 0&&e[a]!==void 0)return!1;return!0};function ha(t,e){if(t==null)return{};var n={},u=Object.keys(t),r,i;for(i=0;i<u.length;i++)r=u[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function at(t,e){if(t==null)return{};var n=ha(t,e),u,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)u=i[r],!(e.indexOf(u)>=0)&&Object.prototype.propertyIsEnumerable.call(t,u)&&(n[u]=t[u])}return n}var ga=["anchor","focus"];function Ar(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ar(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ar(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var w={edges(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,{anchor:u,focus:r}=t;return w.isBackward(t)===n?[u,r]:[r,u]},end(t){var[,e]=w.edges(t);return e},equals(t,e){return x.equals(t.anchor,e.anchor)&&x.equals(t.focus,e.focus)},includes(t,e){if(w.isRange(e)){if(w.includes(t,e.anchor)||w.includes(t,e.focus))return!0;var[n,u]=w.edges(t),[r,i]=w.edges(e);return x.isBefore(n,r)&&x.isAfter(u,i)}var[a,l]=w.edges(t),s=!1,c=!1;return x.isPoint(e)?(s=x.compare(e,a)>=0,c=x.compare(e,l)<=0):(s=v.compare(e,a.path)>=0,c=v.compare(e,l.path)<=0),s&&c},intersection(t,e){var n=at(t,ga),[u,r]=w.edges(t),[i,a]=w.edges(e),l=x.isBefore(u,i)?i:u,s=x.isBefore(r,a)?r:a;return x.isBefore(s,l)?null:ma({anchor:l,focus:s},n)},isBackward(t){var{anchor:e,focus:n}=t;return x.isAfter(e,n)},isCollapsed(t){var{anchor:e,focus:n}=t;return x.equals(e,n)},isExpanded(t){return!w.isCollapsed(t)},isForward(t){return!w.isBackward(t)},isRange(t){return Ne(t)&&x.isPoint(t.anchor)&&x.isPoint(t.focus)},*points(t){yield[t.anchor,"anchor"],yield[t.focus,"focus"]},start(t){var[e]=w.edges(t);return e},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Hn(t,u=>{if(u===null)return null;var{affinity:r="inward"}=n,i,a;if(r==="inward"){var l=w.isCollapsed(u);w.isForward(u)?(i="forward",a=l?i:"backward"):(i="backward",a=l?i:"forward")}else r==="outward"?w.isForward(u)?(i="backward",a="forward"):(i="forward",a="backward"):(i=r,a=r);var s=x.transform(u.anchor,e,{affinity:i}),c=x.transform(u.focus,e,{affinity:a});if(!s||!c)return null;u.anchor=s,u.focus=c})}},Fr=t=>Ne(t)&&N.isNodeList(t.children)&&!D.isEditor(t),L={isAncestor(t){return Ne(t)&&N.isNodeList(t.children)},isElement:Fr,isElementList(t){return Array.isArray(t)&&t.every(e=>L.isElement(e))},isElementProps(t){return t.children!==void 0},isElementType:function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Fr(e)&&e[u]===n},matches(t,e){for(var n in e)if(n!=="children"&&t[n]!==e[n])return!1;return!0}},Ca=["children"],va=["text"],br=new WeakMap,N={ancestor(t,e){var n=N.get(t,e);if(V.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(He.stringify(n)));return n},ancestors(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var u of v.ancestors(e,n)){var r=N.ancestor(t,u),i=[r,u];yield i}}()},child(t,e){if(V.isText(t))throw new Error("Cannot get the child of a text node: ".concat(He.stringify(t)));var n=t.children[e];if(n==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(He.stringify(t)));return n},children(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:u=!1}=n,r=N.ancestor(t,e),{children:i}=r,a=u?i.length-1:0;u?a>=0:a<i.length;){var l=N.child(r,a),s=e.concat(a);yield[l,s],a=u?a-1:a+1}}()},common(t,e,n){var u=v.common(e,n),r=N.get(t,u);return[r,u]},descendant(t,e){var n=N.get(t,e);if(D.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(He.stringify(n)));return n},descendants(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,u]of N.nodes(t,e))u.length!==0&&(yield[n,u])}()},elements(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,u]of N.nodes(t,e))L.isElement(n)&&(yield[n,u])}()},extractProps(t){if(L.isAncestor(t)){var e=at(t,Ca);return e}else{var e=at(t,va);return e}},first(t,e){for(var n=e.slice(),u=N.get(t,n);u&&!(V.isText(u)||u.children.length===0);)u=u.children[0],n.push(0);return[u,n]},fragment(t,e){if(V.isText(t))throw new Error("Cannot get a fragment starting from a root text node: ".concat(He.stringify(t)));var n=Hn({children:t.children},u=>{var[r,i]=w.edges(e),a=N.nodes(u,{reverse:!0,pass:f=>{var[,h]=f;return!w.includes(e,h)}});for(var[,l]of a){if(!w.includes(e,l)){var s=N.parent(u,l),c=l[l.length-1];s.children.splice(c,1)}if(v.equals(l,i.path)){var o=N.leaf(u,l);o.text=o.text.slice(0,i.offset)}if(v.equals(l,r.path)){var d=N.leaf(u,l);d.text=d.text.slice(r.offset)}}D.isEditor(u)&&(u.selection=null)});return n.children},get(t,e){for(var n=t,u=0;u<e.length;u++){var r=e[u];if(V.isText(n)||!n.children[r])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(He.stringify(t)));n=n.children[r]}return n},has(t,e){for(var n=t,u=0;u<e.length;u++){var r=e[u];if(V.isText(n)||!n.children[r])return!1;n=n.children[r]}return!0},isNode(t){return V.isText(t)||L.isElement(t)||D.isEditor(t)},isNodeList(t){if(!Array.isArray(t))return!1;var e=br.get(t);if(e!==void 0)return e;var n=t.every(u=>N.isNode(u));return br.set(t,n),n},last(t,e){for(var n=e.slice(),u=N.get(t,n);u&&!(V.isText(u)||u.children.length===0);){var r=u.children.length-1;u=u.children[r],n.push(r)}return[u,n]},leaf(t,e){var n=N.get(t,e);if(!V.isText(n))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(He.stringify(n)));return n},levels(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var u of v.levels(e,n)){var r=N.get(t,u);yield[r,u]}}()},matches(t,e){return L.isElement(t)&&L.isElementProps(e)&&L.matches(t,e)||V.isText(t)&&V.isTextProps(e)&&V.matches(t,e)},nodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:n,reverse:u=!1}=e,{from:r=[],to:i}=e,a=new Set,l=[],s=t;!(i&&(u?v.isBefore(l,i):v.isAfter(l,i)));){if(a.has(s)||(yield[s,l]),!a.has(s)&&!V.isText(s)&&s.children.length!==0&&(n==null||n([s,l])===!1)){a.add(s);var c=u?s.children.length-1:0;v.isAncestor(l,r)&&(c=r[l.length]),l=l.concat(c),s=N.get(t,l);continue}if(l.length===0)break;if(!u){var o=v.next(l);if(N.has(t,o)){l=o,s=N.get(t,l);continue}}if(u&&l[l.length-1]!==0){var d=v.previous(l);l=d,s=N.get(t,l);continue}l=v.parent(l),s=N.get(t,l),a.add(s)}}()},parent(t,e){var n=v.parent(e),u=N.get(t,n);if(V.isText(u))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return u},string(t){return V.isText(t)?t.text:t.children.map(N.string).join("")},texts(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,u]of N.nodes(t,e))V.isText(n)&&(yield[n,u])}()}};function wr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wr(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var lt={isNodeOperation(t){return lt.isOperation(t)&&t.type.endsWith("_node")},isOperation(t){if(!Ne(t))return!1;switch(t.type){case"insert_node":return v.isPath(t.path)&&N.isNode(t.node);case"insert_text":return typeof t.offset=="number"&&typeof t.text=="string"&&v.isPath(t.path);case"merge_node":return typeof t.position=="number"&&v.isPath(t.path)&&Ne(t.properties);case"move_node":return v.isPath(t.path)&&v.isPath(t.newPath);case"remove_node":return v.isPath(t.path)&&N.isNode(t.node);case"remove_text":return typeof t.offset=="number"&&typeof t.text=="string"&&v.isPath(t.path);case"set_node":return v.isPath(t.path)&&Ne(t.properties)&&Ne(t.newProperties);case"set_selection":return t.properties===null&&w.isRange(t.newProperties)||t.newProperties===null&&w.isRange(t.properties)||Ne(t.properties)&&Ne(t.newProperties);case"split_node":return v.isPath(t.path)&&typeof t.position=="number"&&Ne(t.properties);default:return!1}},isOperationList(t){return Array.isArray(t)&&t.every(e=>lt.isOperation(e))},isSelectionOperation(t){return lt.isOperation(t)&&t.type.endsWith("_selection")},isTextOperation(t){return lt.isOperation(t)&&t.type.endsWith("_text")},inverse(t){switch(t.type){case"insert_node":return me(me({},t),{},{type:"remove_node"});case"insert_text":return me(me({},t),{},{type:"remove_text"});case"merge_node":return me(me({},t),{},{type:"split_node",path:v.previous(t.path)});case"move_node":{var{newPath:e,path:n}=t;if(v.equals(e,n))return t;if(v.isSibling(n,e))return me(me({},t),{},{path:e,newPath:n});var u=v.transform(n,t),r=v.transform(v.next(n),t);return me(me({},t),{},{path:u,newPath:r})}case"remove_node":return me(me({},t),{},{type:"insert_node"});case"remove_text":return me(me({},t),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:a}=t;return me(me({},t),{},{properties:a,newProperties:i})}case"set_selection":{var{properties:l,newProperties:s}=t;return l==null?me(me({},t),{},{properties:s,newProperties:null}):s==null?me(me({},t),{},{properties:null,newProperties:l}):me(me({},t),{},{properties:s,newProperties:l})}case"split_node":return me(me({},t),{},{type:"merge_node",path:v.next(t.path)})}}},pr=new WeakMap,Ba=t=>{var e=pr.get(t);if(e!==void 0)return e;if(!Ne(t))return!1;var n=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isElementReadOnly=="function"&&typeof t.isInline=="function"&&typeof t.isSelectable=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&typeof t.getDirtyPaths=="function"&&(t.marks===null||Ne(t.marks))&&(t.selection===null||w.isRange(t.selection))&&N.isNodeList(t.children)&&lt.isOperationList(t.operations);return pr.set(t,n),n},D={above(t,e){return t.above(e)},addMark(t,e,n){t.addMark(e,n)},after(t,e,n){return t.after(e,n)},before(t,e,n){return t.before(e,n)},deleteBackward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=e;t.deleteBackward(n)},deleteForward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=e;t.deleteForward(n)},deleteFragment(t,e){t.deleteFragment(e)},edges(t,e){return t.edges(e)},elementReadOnly(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.elementReadOnly(e)},end(t,e){return t.end(e)},first(t,e){return t.first(e)},fragment(t,e){return t.fragment(e)},hasBlocks(t,e){return t.hasBlocks(e)},hasInlines(t,e){return t.hasInlines(e)},hasPath(t,e){return t.hasPath(e)},hasTexts(t,e){return t.hasTexts(e)},insertBreak(t){t.insertBreak()},insertFragment(t,e,n){t.insertFragment(e,n)},insertNode(t,e){t.insertNode(e)},insertSoftBreak(t){t.insertSoftBreak()},insertText(t,e){t.insertText(e)},isBlock(t,e){return t.isBlock(e)},isEdge(t,e,n){return t.isEdge(e,n)},isEditor(t){return Ba(t)},isElementReadOnly(t,e){return t.isElementReadOnly(e)},isEmpty(t,e){return t.isEmpty(e)},isEnd(t,e,n){return t.isEnd(e,n)},isInline(t,e){return t.isInline(e)},isNormalizing(t){return t.isNormalizing()},isSelectable(t,e){return t.isSelectable(e)},isStart(t,e,n){return t.isStart(e,n)},isVoid(t,e){return t.isVoid(e)},last(t,e){return t.last(e)},leaf(t,e,n){return t.leaf(e,n)},levels(t,e){return t.levels(e)},marks(t){return t.getMarks()},next(t,e){return t.next(e)},node(t,e,n){return t.node(e,n)},nodes(t,e){return t.nodes(e)},normalize(t,e){t.normalize(e)},parent(t,e,n){return t.parent(e,n)},path(t,e,n){return t.path(e,n)},pathRef(t,e,n){return t.pathRef(e,n)},pathRefs(t){return t.pathRefs()},point(t,e,n){return t.point(e,n)},pointRef(t,e,n){return t.pointRef(e,n)},pointRefs(t){return t.pointRefs()},positions(t,e){return t.positions(e)},previous(t,e){return t.previous(e)},range(t,e,n){return t.range(e,n)},rangeRef(t,e,n){return t.rangeRef(e,n)},rangeRefs(t){return t.rangeRefs()},removeMark(t,e){t.removeMark(e)},setNormalizing(t,e){t.setNormalizing(e)},start(t,e){return t.start(e)},string(t,e,n){return t.string(e,n)},unhangRange(t,e,n){return t.unhangRange(e,n)},void(t,e){return t.void(e)},withoutNormalizing(t,e){t.withoutNormalizing(e)}},Ea={isSpan(t){return Array.isArray(t)&&t.length===2&&t.every(v.isPath)}};function yr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yr(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var x={compare(t,e){var n=v.compare(t.path,e.path);return n===0?t.offset<e.offset?-1:t.offset>e.offset?1:0:n},isAfter(t,e){return x.compare(t,e)===1},isBefore(t,e){return x.compare(t,e)===-1},equals(t,e){return t.offset===e.offset&&v.equals(t.path,e.path)},isPoint(t){return Ne(t)&&typeof t.offset=="number"&&v.isPath(t.path)},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Hn(t,u=>{if(u===null)return null;var{affinity:r="forward"}=n,{path:i,offset:a}=u;switch(e.type){case"insert_node":case"move_node":{u.path=v.transform(i,e,n);break}case"insert_text":{v.equals(e.path,i)&&(e.offset<a||e.offset===a&&r==="forward")&&(u.offset+=e.text.length);break}case"merge_node":{v.equals(e.path,i)&&(u.offset+=e.position),u.path=v.transform(i,e,n);break}case"remove_text":{v.equals(e.path,i)&&e.offset<=a&&(u.offset-=Math.min(a-e.offset,e.text.length));break}case"remove_node":{if(v.equals(e.path,i)||v.isAncestor(e.path,i))return null;u.path=v.transform(i,e,n);break}case"split_node":{if(v.equals(e.path,i)){if(e.position===a&&r==null)return null;(e.position<a||e.position===a&&r==="forward")&&(u.offset-=e.position,u.path=v.transform(i,e,Or(Or({},n),{},{affinity:"forward"})))}else u.path=v.transform(i,e,n);break}}})}},_r=void 0,He={setScrubber(t){_r=t},stringify(t){return JSON.stringify(t,_r)}},Aa=["text"],Fa=["anchor","focus"];function Pr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pr(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var V={equals(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:u=!1}=n;function r(i){var a=at(i,Aa);return a}return Ku(u?r(t):t,u?r(e):e)},isText(t){return Ne(t)&&typeof t.text=="string"},isTextList(t){return Array.isArray(t)&&t.every(e=>V.isText(e))},isTextProps(t){return t.text!==void 0},matches(t,e){for(var n in e)if(n!=="text"&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1;return!0},decorations(t,e){var n=[rt({},t)];for(var u of e){var r=at(u,Fa),[i,a]=w.edges(u),l=[],s=0,c=i.offset,o=a.offset;for(var d of n){var{length:f}=d.text,h=s;if(s+=f,c<=h&&s<=o){Object.assign(d,r),l.push(d);continue}if(c!==o&&(c===s||o===h)||c>s||o<h||o===h&&h!==0){l.push(d);continue}var m=d,A=void 0,E=void 0;if(o<s){var F=o-h;E=rt(rt({},m),{},{text:m.text.slice(F)}),m=rt(rt({},m),{},{text:m.text.slice(0,F)})}if(c>h){var b=c-h;A=rt(rt({},m),{},{text:m.text.slice(0,b)}),m=rt(rt({},m),{},{text:m.text.slice(b)})}Object.assign(m,r),A&&l.push(A),l.push(m),E&&l.push(E)}n=l}return n}},Kn=t=>t.selection?t.selection:t.children.length>0?D.end(t,[]):[0],St=(t,e)=>{var[n]=D.node(t,e);return u=>u===n},Yn=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=!n,r=n?_a(e):e,i=H.None,a=H.None,l=0,s=null,c=null;for(var o of r){var d=o.codePointAt(0);if(!d)break;var f=qa(o,d);if([i,a]=u?[a,f]:[f,i],pt(i,H.ZWJ)&&pt(a,H.ExtPict)&&(u?s=Nr(e.substring(0,l)):s=Nr(e.substring(0,e.length-l)),!s)||pt(i,H.RI)&&pt(a,H.RI)&&(c!==null?c=!c:u?c=!0:c=Ya(e.substring(0,e.length-l)),!c)||i!==H.None&&a!==H.None&&Wa(i,a))break;l+=o.length}return l||1},ba=/\s/,wa=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,pa=/['\u2018\u2019]/,ya=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=0,r=!1;e.length>0;){var i=Yn(e,n),[a,l]=Un(e,i,n);if(Oa(a,l,n))r=!0,u+=i;else if(!r)u+=i;else break;e=l}return u},Un=(t,e,n)=>{if(n){var u=t.length-e;return[t.slice(u,t.length),t.slice(0,u)]}return[t.slice(0,e),t.slice(e)]},Oa=function t(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(ba.test(e))return!1;if(pa.test(e)){var r=Yn(n,u),[i,a]=Un(n,r,u);if(t(i,a,u))return!0}return!wa.test(e)},_a=function*(e){for(var n=e.length-1,u=0;u<e.length;u++){var r=e.charAt(n-u);if(Na(r.charCodeAt(0))){var i=e.charAt(n-u-1);if(Pa(i.charCodeAt(0))){yield i+r,u++;continue}}yield r}},Pa=t=>t>=55296&&t<=56319,Na=t=>t>=56320&&t<=57343,H;(function(t){t[t.None=0]="None",t[t.Extend=1]="Extend",t[t.ZWJ=2]="ZWJ",t[t.RI=4]="RI",t[t.Prepend=8]="Prepend",t[t.SpacingMark=16]="SpacingMark",t[t.L=32]="L",t[t.V=64]="V",t[t.T=128]="T",t[t.LV=256]="LV",t[t.LVT=512]="LVT",t[t.ExtPict=1024]="ExtPict",t[t.Any=2048]="Any"})(H||(H={}));var Sa=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Ta=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,Ia=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Ra=/^[\u1100-\u115F\uA960-\uA97C]$/,ja=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,ka=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,La=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Va=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,Ma=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,qa=(t,e)=>{var n=H.Any;return t.search(Sa)!==-1&&(n|=H.Extend),e===8205&&(n|=H.ZWJ),e>=127462&&e<=127487&&(n|=H.RI),t.search(Ta)!==-1&&(n|=H.Prepend),t.search(Ia)!==-1&&(n|=H.SpacingMark),t.search(Ra)!==-1&&(n|=H.L),t.search(ja)!==-1&&(n|=H.V),t.search(ka)!==-1&&(n|=H.T),t.search(La)!==-1&&(n|=H.LV),t.search(Va)!==-1&&(n|=H.LVT),t.search(Ma)!==-1&&(n|=H.ExtPict),n};function pt(t,e){return(t&e)!==0}var za=[[H.L,H.L|H.V|H.LV|H.LVT],[H.LV|H.V,H.V|H.T],[H.LVT|H.T,H.T],[H.Any,H.Extend|H.ZWJ],[H.Any,H.SpacingMark],[H.Prepend,H.Any],[H.ZWJ,H.ExtPict],[H.RI,H.RI]];function Wa(t,e){return za.findIndex(n=>pt(t,n[0])&&pt(e,n[1]))===-1}var Ha=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Nr=t=>t.search(Ha)!==-1,Ka=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Ya=t=>{var e=t.match(Ka);if(e===null)return!1;var n=e[0].length/2;return n%2===1},Ua={delete(t,e){t.delete(e)},insertFragment(t,e,n){t.insertFragment(e,n)},insertText(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{voids:u=!1}=n,{at:r=Kn(t)}=n;if(v.isPath(r)&&(r=D.range(t,r)),w.isRange(r))if(w.isCollapsed(r))r=r.anchor;else{var i=w.end(r);if(!u&&D.void(t,{at:i}))return;var a=w.start(r),l=D.pointRef(t,a),s=D.pointRef(t,i);p.delete(t,{at:r,voids:u});var c=l.unref(),o=s.unref();r=c||o,p.setSelection(t,{anchor:r,focus:r})}if(!(!u&&D.void(t,{at:r})||D.elementReadOnly(t,{at:r}))){var{path:d,offset:f}=r;e.length>0&&t.apply({type:"insert_text",path:d,offset:f,text:e})}})}};function Sr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sr(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var p=Gt(Gt(Gt(Gt({},ca),da),Da),Ua),Ga=(t,e)=>{for(var n of D.pathRefs(t))ia.transform(n,e);for(var u of D.pointRefs(t))aa.transform(u,e);for(var r of D.rangeRefs(t))sa.transform(r,e);var i=nn.get(t)||[],a=rn.get(t)||new Set,l,s,c=m=>{if(m){var A=m.join(",");s.has(A)||(s.add(A),l.push(m))}};if(v.operationCanTransformPath(e)){l=[],s=new Set;for(var o of i){var d=v.transform(o,e);c(d)}}else l=i,s=a;var f=t.getDirtyPaths(e);for(var h of f)c(h);nn.set(t,l),rn.set(t,s),p.transform(t,e),t.operations.push(e),D.normalize(t,{operation:e}),e.type==="set_selection"&&(t.marks=null),Mt.get(t)||(Mt.set(t,!0),Promise.resolve().then(()=>{Mt.set(t,!1),t.onChange({operation:e}),t.operations=[]}))},Xa=(t,e)=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=e;return v.levels(n)}case"insert_node":{var{node:u,path:r}=e,i=v.levels(r),a=V.isText(u)?[]:Array.from(N.nodes(u),Y=>{var[,ue]=Y;return r.concat(ue)});return[...i,...a]}case"merge_node":{var{path:l}=e,s=v.ancestors(l),c=v.previous(l);return[...s,c]}case"move_node":{var{path:o,newPath:d}=e;if(v.equals(o,d))return[];var f=[],h=[];for(var m of v.ancestors(o)){var A=v.transform(m,e);f.push(A)}for(var E of v.ancestors(d)){var F=v.transform(E,e);h.push(F)}var b=h[h.length-1],y=d[d.length-1],P=b.concat(y);return[...f,...h,P]}case"remove_node":{var{path:_}=e,j=v.ancestors(_);return[...j]}case"split_node":{var{path:O}=e,g=v.levels(O),q=v.next(O);return[...g,q]}default:return[]}},Ja=t=>{var{selection:e}=t;return e?N.fragment(t,e):[]},Za=(t,e)=>{var[n,u]=e;if(!V.isText(n)){if(L.isElement(n)&&n.children.length===0){var r={text:""};p.insertNodes(t,r,{at:u.concat(0),voids:!0});return}for(var i=D.isEditor(n)?!1:L.isElement(n)&&(t.isInline(n)||n.children.length===0||V.isText(n.children[0])||t.isInline(n.children[0])),a=0,l=0;l<n.children.length;l++,a++){var s=N.get(t,u);if(!V.isText(s)){var c=s.children[a],o=s.children[a-1],d=l===n.children.length-1,f=V.isText(c)||L.isElement(c)&&t.isInline(c);if(f!==i)p.removeNodes(t,{at:u.concat(a),voids:!0}),a--;else if(L.isElement(c)){if(t.isInline(c)){if(o==null||!V.isText(o)){var h={text:""};p.insertNodes(t,h,{at:u.concat(a),voids:!0}),a++}else if(d){var m={text:""};p.insertNodes(t,m,{at:u.concat(a+1),voids:!0}),a++}}}else o!=null&&V.isText(o)&&(V.equals(c,o,{loose:!0})?(p.mergeNodes(t,{at:u.concat(a),voids:!0}),a--):o.text===""?(p.removeNodes(t,{at:u.concat(a-1),voids:!0}),a--):c.text===""&&(p.removeNodes(t,{at:u.concat(a),voids:!0}),a--))}}}},Qa=(t,e)=>{var{iteration:n,initialDirtyPathsLength:u}=e,r=u*42;if(n>r)throw new Error("Could not completely normalize the editor after ".concat(r," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},xa=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:u=!1,mode:r="lowest",at:i=e.selection,match:a}=n;if(i){var l=D.path(e,i),s=r==="lowest";for(var[c,o]of D.levels(e,{at:l,voids:u,match:a,reverse:s}))if(!V.isText(c)){if(w.isRange(i)){if(v.isAncestor(o,i.anchor.path)&&v.isAncestor(o,i.focus.path))return[c,o]}else if(!v.equals(l,o))return[c,o]}}};function Tr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tr(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var $a=(t,e,n)=>{var{selection:u}=t;if(u){var r=(d,f)=>{if(!V.isText(d))return!1;var[h,m]=D.parent(t,f);return!t.isVoid(h)||t.markableVoid(h)},i=w.isExpanded(u),a=!1;if(!i){var[l,s]=D.node(t,u);if(l&&r(l,s)){var[c]=D.parent(t,s);a=c&&t.markableVoid(c)}}if(i||a)p.setNodes(t,{[e]:n},{match:r,split:!0,voids:!0});else{var o=Ir(Ir({},D.marks(t)||{}),{},{[e]:n});t.marks=o,Mt.get(t)||t.onChange()}}};function Rr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rr(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var es=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=D.point(e,n,{edge:"end"}),i=D.end(e,[]),a={anchor:r,focus:i},{distance:l=1}=u,s=0,c;for(var o of D.positions(e,jr(jr({},u),{},{at:a}))){if(s>l)break;s!==0&&(c=o),s++}return c};function kr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kr(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var ts=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=D.start(e,[]),i=D.point(e,n,{edge:"start"}),a={anchor:r,focus:i},{distance:l=1}=u,s=0,c;for(var o of D.positions(e,Lr(Lr({},u),{},{at:a,reverse:!0}))){if(s>l)break;s!==0&&(c=o),s++}return c},ns=(t,e)=>{var{selection:n}=t;n&&w.isCollapsed(n)&&p.delete(t,{unit:e,reverse:!0})},rs=(t,e)=>{var{selection:n}=t;n&&w.isCollapsed(n)&&p.delete(t,{unit:e})},us=function(e){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:u}=e;u&&w.isExpanded(u)&&p.delete(e,{reverse:n==="backward"})},is=(t,e)=>[D.start(t,e),D.end(t,e)];function Vr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vr(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var as=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return D.above(e,Mr(Mr({},n),{},{match:u=>L.isElement(u)&&D.isElementReadOnly(e,u)}))},ss=(t,e)=>D.point(t,e,{edge:"end"}),ls=(t,e)=>{var n=D.path(t,e,{edge:"start"});return D.node(t,n)},os=(t,e)=>{var n=D.range(t,e);return N.fragment(t,n)};function qr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qr(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var fs=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return D.above(e,zr(zr({},n),{},{match:u=>L.isElement(u)&&D.isVoid(e,u)}))},cs=(t,e)=>e.children.some(n=>L.isElement(n)&&D.isBlock(t,n)),ds=(t,e)=>e.children.some(n=>V.isText(n)||D.isInline(t,n)),Ds=(t,e)=>N.has(t,e),hs=(t,e)=>e.children.every(n=>V.isText(n)),gs=t=>{p.splitNodes(t,{always:!0})},ms=(t,e,n)=>{p.insertNodes(t,e,n)},Cs=t=>{p.splitNodes(t,{always:!0})};function Wr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wr(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var Bs=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:r,marks:i}=e;if(r){if(i){var a=vs({text:n},i);p.insertNodes(e,a,{at:u.at,voids:u.voids})}else p.insertText(e,n,u);e.marks=null}},Es=(t,e)=>!t.isInline(e),As=(t,e,n)=>D.isStart(t,e,n)||D.isEnd(t,e,n),Fs=(t,e)=>{var{children:n}=e,[u]=n;return n.length===0||n.length===1&&V.isText(u)&&u.text===""&&!t.isVoid(e)},bs=(t,e,n)=>{var u=D.end(t,n);return x.equals(e,u)},ws=t=>{var e=Hu.get(t);return e===void 0?!0:e},ps=(t,e,n)=>{if(e.offset!==0)return!1;var u=D.start(t,n);return x.equals(e,u)},ys=(t,e)=>{var n=D.path(t,e,{edge:"end"});return D.node(t,n)},Os=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=D.path(e,n,u),i=N.leaf(e,r);return[i,r]};function _s(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=t.selection,reverse:u=!1,voids:r=!1}=e,{match:i}=e;if(i==null&&(i=()=>!0),!!n){var a=[],l=D.path(t,n);for(var[s,c]of N.levels(t,l))if(i(s,c)&&(a.push([s,c]),!r&&L.isElement(s)&&D.isVoid(t,s)))break;u&&a.reverse(),yield*a}}()}var Ps=["text"],Ns=["text"],Ss=function(e){var{marks:n,selection:u}=e;if(!u)return null;var{anchor:r,focus:i}=u;if(n)return n;if(w.isExpanded(u)){var a=D.isEnd(e,r,r.path);if(a){var l=D.after(e,r);l&&(r=l)}var[s]=D.nodes(e,{match:V.isText,at:{anchor:r,focus:i}});if(s){var[c]=s,o=at(c,Ps);return o}else return{}}var{path:d}=r,[f]=D.leaf(e,d);if(r.offset===0){var h=D.previous(e,{at:d,match:V.isText}),m=D.above(e,{match:P=>L.isElement(P)&&D.isVoid(e,P)&&e.markableVoid(P)});if(!m){var A=D.above(e,{match:P=>L.isElement(P)&&D.isBlock(e,P)});if(h&&A){var[E,F]=h,[,b]=A;v.isAncestor(b,F)&&(f=E)}}}var y=at(f,Ns);return y},Ts=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:u="lowest",voids:r=!1}=n,{match:i,at:a=e.selection}=n;if(a){var l=D.after(e,a,{voids:r});if(l){var[,s]=D.last(e,[]),c=[l.path,s];if(v.isPath(a)&&a.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(v.isPath(a)){var[o]=D.parent(e,a);i=f=>o.children.includes(f)}else i=()=>!0;var[d]=D.nodes(e,{at:c,match:i,mode:u,voids:r});return d}}},Is=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=D.path(e,n,u),i=N.get(e,r);return[i,r]};function Rs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=t.selection,mode:u="all",universal:r=!1,reverse:i=!1,voids:a=!1,ignoreNonSelectable:l=!1}=e,{match:s}=e;if(s||(s=()=>!0),!!n){var c,o;if(Ea.isSpan(n))c=n[0],o=n[1];else{var d=D.path(t,n,{edge:"start"}),f=D.path(t,n,{edge:"end"});c=i?f:d,o=i?d:f}var h=N.nodes(t,{reverse:i,from:c,to:o,pass:P=>{var[_]=P;return L.isElement(_)?!!(!a&&(D.isVoid(t,_)||D.isElementReadOnly(t,_))||l&&!D.isSelectable(t,_)):!1}}),m=[],A;for(var[E,F]of h)if(!(l&&L.isElement(E)&&!D.isSelectable(t,E))){var b=A&&v.compare(F,A[1])===0;if(!(u==="highest"&&b)){if(!s(E,F)){if(r&&!b&&V.isText(E))return;continue}if(u==="lowest"&&b){A=[E,F];continue}var y=u==="lowest"?A:[E,F];y&&(r?m.push(y):yield y),A=[E,F]}}u==="lowest"&&A&&(r?m.push(A):yield A),r&&(yield*m)}}()}var js=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:u=!1,operation:r}=n,i=o=>nn.get(o)||[],a=o=>rn.get(o)||new Set,l=o=>{var d=i(o).pop(),f=d.join(",");return a(o).delete(f),d};if(D.isNormalizing(e)){if(u){var s=Array.from(N.nodes(e),o=>{var[,d]=o;return d}),c=new Set(s.map(o=>o.join(",")));nn.set(e,s),rn.set(e,c)}i(e).length!==0&&D.withoutNormalizing(e,()=>{for(var o of i(e))if(N.has(e,o)){var d=D.node(e,o),[f,h]=d;L.isElement(f)&&f.children.length===0&&e.normalizeNode(d,{operation:r})}for(var m=i(e),A=m.length,E=0;m.length!==0;){if(!e.shouldNormalize({dirtyPaths:m,iteration:E,initialDirtyPathsLength:A,operation:r}))return;var F=l(e);if(N.has(e,F)){var b=D.node(e,F);e.normalizeNode(b,{operation:r})}E++,m=i(e)}})}},ks=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=D.path(e,n,u),i=v.parent(r),a=D.node(e,i);return a},Ls=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:r="forward"}=u,i={current:n,affinity:r,unref(){var{current:l}=i,s=D.pathRefs(e);return s.delete(i),i.current=null,l}},a=D.pathRefs(e);return a.add(i),i},Vs=t=>{var e=Cr.get(t);return e||(e=new Set,Cr.set(t,e)),e},Ms=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:r,edge:i}=u;if(v.isPath(n)){if(i==="start"){var[,a]=N.first(e,n);n=a}else if(i==="end"){var[,l]=N.last(e,n);n=l}}return w.isRange(n)&&(i==="start"?n=w.start(n):i==="end"?n=w.end(n):n=v.common(n.anchor.path,n.focus.path)),x.isPoint(n)&&(n=n.path),r!=null&&(n=n.slice(0,r)),n},qs=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:r="forward"}=u,i={current:n,affinity:r,unref(){var{current:l}=i,s=D.pointRefs(e);return s.delete(i),i.current=null,l}},a=D.pointRefs(e);return a.add(i),i},zs=t=>{var e=vr.get(t);return e||(e=new Set,vr.set(t,e)),e},Ws=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:r="start"}=u;if(v.isPath(n)){var i;if(r==="end"){var[,a]=N.last(e,n);i=a}else{var[,l]=N.first(e,n);i=l}var s=N.get(e,i);if(!V.isText(s))throw new Error("Cannot get the ".concat(r," point in the node at path [").concat(n,"] because it has no ").concat(r," text node."));return{path:i,offset:r==="end"?s.text.length:0}}if(w.isRange(n)){var[c,o]=w.edges(n);return r==="start"?c:o}return n};function Hs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=t.selection,unit:u="offset",reverse:r=!1,voids:i=!1,ignoreNonSelectable:a=!1}=e;if(!n)return;var l=D.range(t,n),[s,c]=w.edges(l),o=r?c:s,d=!1,f="",h=0,m=0,A=0;for(var[E,F]of D.nodes(t,{at:n,reverse:r,voids:i,ignoreNonSelectable:a})){if(L.isElement(E)){if(!i&&(t.isVoid(E)||t.isElementReadOnly(E))){yield D.start(t,F);continue}if(t.isInline(E))continue;if(D.hasInlines(t,E)){var b=v.isAncestor(F,c.path)?c:D.end(t,F),y=v.isAncestor(F,s.path)?s:D.start(t,F);f=D.string(t,{anchor:y,focus:b},{voids:i}),d=!0}}if(V.isText(E)){var P=v.equals(F,o.path);for(P?(m=r?o.offset:E.text.length-o.offset,A=o.offset):(m=E.text.length,A=r?m:0),(P||d||u==="offset")&&(yield{path:F,offset:A},d=!1);;){if(h===0){if(f==="")break;h=_(f,u,r),f=Un(f,h,r)[1]}if(A=r?A-h:A+h,m=m-h,m<0){h=-m;break}h=0,yield{path:F,offset:A}}}}function _(j,O,g){return O==="character"?Yn(j,g):O==="word"?ya(j,g):O==="line"||O==="block"?j.length:1}}()}var Ks=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:u="lowest",voids:r=!1}=n,{match:i,at:a=e.selection}=n;if(a){var l=D.before(e,a,{voids:r});if(l){var[,s]=D.first(e,[]),c=[l.path,s];if(v.isPath(a)&&a.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(v.isPath(a)){var[o]=D.parent(e,a);i=f=>o.children.includes(f)}else i=()=>!0;var[d]=D.nodes(e,{reverse:!0,at:c,match:i,mode:u,voids:r});return d}}},Ys=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:r="forward"}=u,i={current:n,affinity:r,unref(){var{current:l}=i,s=D.rangeRefs(e);return s.delete(i),i.current=null,l}},a=D.rangeRefs(e);return a.add(i),i},Us=t=>{var e=Br.get(t);return e||(e=new Set,Br.set(t,e)),e},Gs=(t,e,n)=>{if(w.isRange(e)&&!n)return e;var u=D.start(t,e),r=D.end(t,n||e);return{anchor:u,focus:r}};function Hr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hr(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var Js=(t,e)=>{var{selection:n}=t;if(n){var u=(o,d)=>{if(!V.isText(o))return!1;var[f,h]=D.parent(t,d);return!t.isVoid(f)||t.markableVoid(f)},r=w.isExpanded(n),i=!1;if(!r){var[a,l]=D.node(t,n);if(a&&u(a,l)){var[s]=D.parent(t,l);i=s&&t.markableVoid(s)}}if(r||i)p.unsetNodes(t,e,{match:u,split:!0,voids:!0});else{var c=Xs({},D.marks(t)||{});delete c[e],t.marks=c,Mt.get(t)||t.onChange()}}},Zs=(t,e)=>{Hu.set(t,e)},Qs=(t,e)=>D.point(t,e,{edge:"start"}),xs=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:r=!1}=u,i=D.range(e,n),[a,l]=w.edges(i),s="";for(var[c,o]of D.nodes(e,{at:i,match:V.isText,voids:r})){var d=c.text;v.equals(o,l.path)&&(d=d.slice(0,l.offset)),v.equals(o,a.path)&&(d=d.slice(a.offset)),s+=d}return s},$s=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:r=!1}=u,[i,a]=w.edges(n);if(i.offset!==0||a.offset!==0||w.isCollapsed(n)||v.hasPrevious(a.path))return n;var l=D.above(e,{at:a,match:m=>L.isElement(m)&&D.isBlock(e,m),voids:r}),s=l?l[1]:[],c=D.start(e,i),o={anchor:c,focus:a},d=!0;for(var[f,h]of D.nodes(e,{at:o,match:V.isText,reverse:!0,voids:r})){if(d){d=!1;continue}if(f.text!==""||v.isBefore(h,s)){a={path:h,offset:f.text.length};break}}return{anchor:i,focus:a}},el=(t,e)=>{var n=D.isNormalizing(t);D.setNormalizing(t,!1);try{e()}finally{D.setNormalizing(t,n)}D.normalize(t)},tl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(e,()=>{var u,r,{reverse:i=!1,unit:a="character",distance:l=1,voids:s=!1}=n,{at:c=e.selection,hanging:o=!1}=n;if(c){var d=!1;if(w.isRange(c)&&w.isCollapsed(c)&&(d=!0,c=c.anchor),x.isPoint(c)){var f=D.void(e,{at:c,mode:"highest"});if(!s&&f){var[,h]=f;c=h}else{var m={unit:a,distance:l},A=i?D.before(e,c,m)||D.start(e,[]):D.after(e,c,m)||D.end(e,[]);c={anchor:c,focus:A},o=!0}}if(v.isPath(c)){p.removeNodes(e,{at:c,voids:s});return}if(!w.isCollapsed(c)){if(!o){var[,E]=w.edges(c),F=D.end(e,[]);x.equals(E,F)||(c=D.unhangRange(e,c,{voids:s}))}var[b,y]=w.edges(c),P=D.above(e,{match:we=>L.isElement(we)&&D.isBlock(e,we),at:b,voids:s}),_=D.above(e,{match:we=>L.isElement(we)&&D.isBlock(e,we),at:y,voids:s}),j=P&&_&&!v.equals(P[1],_[1]),O=v.equals(b.path,y.path),g=s?null:(u=D.void(e,{at:b,mode:"highest"}))!==null&&u!==void 0?u:D.elementReadOnly(e,{at:b,mode:"highest"}),q=s?null:(r=D.void(e,{at:y,mode:"highest"}))!==null&&r!==void 0?r:D.elementReadOnly(e,{at:y,mode:"highest"});if(g){var Y=D.before(e,b);Y&&P&&v.isAncestor(P[1],Y.path)&&(b=Y)}if(q){var ue=D.after(e,y);ue&&_&&v.isAncestor(_[1],ue.path)&&(y=ue)}var Ce=[],z;for(var $ of D.nodes(e,{at:c,voids:s})){var[_e,T]=$;z&&v.compare(T,z)===0||(!s&&L.isElement(_e)&&(D.isVoid(e,_e)||D.isElementReadOnly(e,_e))||!v.isCommon(T,b.path)&&!v.isCommon(T,y.path))&&(Ce.push($),z=T)}var U=Array.from(Ce,we=>{var[,st]=we;return D.pathRef(e,st)}),Fe=D.pointRef(e,b),oe=D.pointRef(e,y),Be="";if(!O&&!g){var ke=Fe.current,[pe]=D.leaf(e,ke),{path:Ue}=ke,{offset:G}=b,ge=pe.text.slice(G);ge.length>0&&(e.apply({type:"remove_text",path:Ue,offset:G,text:ge}),Be=ge)}if(U.reverse().map(we=>we.unref()).filter(we=>we!==null).forEach(we=>p.removeNodes(e,{at:we,voids:s})),!q){var be=oe.current,[ze]=D.leaf(e,be),{path:Ge}=be,Pe=O?b.offset:0,Ie=ze.text.slice(Pe,y.offset);Ie.length>0&&(e.apply({type:"remove_text",path:Ge,offset:Pe,text:Ie}),Be=Ie)}!O&&j&&oe.current&&Fe.current&&p.mergeNodes(e,{at:oe.current,hanging:!0,voids:s}),d&&i&&a==="character"&&Be.length>1&&Be.match(/[\u0E00-\u0E7F]+/)&&p.insertText(e,Be.slice(0,Be.length-l));var Xe=Fe.unref(),Je=oe.unref(),Ze=i?Xe||Je:Je||Xe;n.at==null&&Ze&&p.select(e,Ze)}}})},nl=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:i=!1}=u,{at:a=Kn(e)}=u;if(n.length){if(w.isRange(a))if(r||(a=D.unhangRange(e,a,{voids:i})),w.isCollapsed(a))a=a.anchor;else{var[,l]=w.edges(a);if(!i&&D.void(e,{at:l}))return;var s=D.pointRef(e,l);p.delete(e,{at:a}),a=s.unref()}else v.isPath(a)&&(a=D.start(e,a));if(!(!i&&D.void(e,{at:a}))){var c=D.above(e,{at:a,match:G=>L.isElement(G)&&D.isInline(e,G),mode:"highest",voids:i});if(c){var[,o]=c;if(D.isEnd(e,a,o)){var d=D.after(e,o);a=d}else if(D.isStart(e,a,o)){var f=D.before(e,o);a=f}}var h=D.above(e,{match:G=>L.isElement(G)&&D.isBlock(e,G),at:a,voids:i}),[,m]=h,A=D.isStart(e,a,m),E=D.isEnd(e,a,m),F=A&&E,b=!A||A&&E,y=!E,[,P]=N.first({children:n},[]),[,_]=N.last({children:n},[]),j=[],O=G=>{var[ge,be]=G,ze=be.length===0;return ze?!1:F?!0:!(b&&v.isAncestor(be,P)&&L.isElement(ge)&&!e.isVoid(ge)&&!e.isInline(ge)||y&&v.isAncestor(be,_)&&L.isElement(ge)&&!e.isVoid(ge)&&!e.isInline(ge))};for(var g of N.nodes({children:n},{pass:O}))O(g)&&j.push(g);var q=[],Y=[],ue=[],Ce=!0,z=!1;for(var[$]of j)L.isElement($)&&!e.isInline($)?(Ce=!1,z=!0,Y.push($)):Ce?q.push($):ue.push($);var[_e]=D.nodes(e,{at:a,match:G=>V.isText(G)||D.isInline(e,G),mode:"highest",voids:i}),[,T]=_e,U=D.isStart(e,a,T),Fe=D.isEnd(e,a,T),oe=D.pathRef(e,E&&!ue.length?v.next(m):m),Be=D.pathRef(e,Fe?v.next(T):T);p.splitNodes(e,{at:a,match:G=>z?L.isElement(G)&&D.isBlock(e,G):V.isText(G)||D.isInline(e,G),mode:z?"lowest":"highest",always:z&&(!A||q.length>0)&&(!E||ue.length>0),voids:i});var ke=D.pathRef(e,!U||U&&Fe?v.next(T):T);if(p.insertNodes(e,q,{at:ke.current,match:G=>V.isText(G)||D.isInline(e,G),mode:"highest",voids:i}),F&&!q.length&&Y.length&&!ue.length&&p.delete(e,{at:m,voids:i}),p.insertNodes(e,Y,{at:oe.current,match:G=>L.isElement(G)&&D.isBlock(e,G),mode:"lowest",voids:i}),p.insertNodes(e,ue,{at:Be.current,match:G=>V.isText(G)||D.isInline(e,G),mode:"highest",voids:i}),!u.at){var pe;if(ue.length>0&&Be.current?pe=v.previous(Be.current):Y.length>0&&oe.current?pe=v.previous(oe.current):ke.current&&(pe=v.previous(ke.current)),pe){var Ue=D.end(e,pe);p.select(e,Ue)}}ke.unref(),oe.unref(),Be.unref()}}})},rl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:u="anchor"}=n,{selection:r}=e;if(r){if(u==="anchor")p.select(e,r.anchor);else if(u==="focus")p.select(e,r.focus);else if(u==="start"){var[i]=w.edges(r);p.select(e,i)}else if(u==="end"){var[,a]=w.edges(r);p.select(e,a)}}else return},ul=t=>{var{selection:e}=t;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},il=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:u}=e,{distance:r=1,unit:i="character",reverse:a=!1}=n,{edge:l=null}=n;if(u){l==="start"&&(l=w.isBackward(u)?"focus":"anchor"),l==="end"&&(l=w.isBackward(u)?"anchor":"focus");var{anchor:s,focus:c}=u,o={distance:r,unit:i,ignoreNonSelectable:!0},d={};if(l==null||l==="anchor"){var f=a?D.before(e,s,o):D.after(e,s,o);f&&(d.anchor=f)}if(l==null||l==="focus"){var h=a?D.before(e,c,o):D.after(e,c,o);h&&(d.focus=h)}p.setSelection(e,d)}},al=(t,e)=>{var{selection:n}=t;if(e=D.range(t,e),n){p.setSelection(t,e);return}if(!w.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(He.stringify(e)));t.apply({type:"set_selection",properties:n,newProperties:e})};function Kr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kr(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var sl=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:r}=e,{edge:i="both"}=u;if(r){i==="start"&&(i=w.isBackward(r)?"focus":"anchor"),i==="end"&&(i=w.isBackward(r)?"anchor":"focus");var{anchor:a,focus:l}=r,s=i==="anchor"?a:l;p.setSelection(e,{[i==="anchor"?"anchor":"focus"]:Yr(Yr({},s),n)})}},ll=(t,e)=>{var{selection:n}=t,u={},r={};if(n){for(var i in e)(i==="anchor"&&e.anchor!=null&&!x.equals(e.anchor,n.anchor)||i==="focus"&&e.focus!=null&&!x.equals(e.focus,n.focus)||i!=="anchor"&&i!=="focus"&&e[i]!==n[i])&&(u[i]=n[i],r[i]=e[i]);Object.keys(u).length>0&&t.apply({type:"set_selection",properties:u,newProperties:r})}},ol=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:i=!1,mode:a="lowest"}=u,{at:l,match:s,select:c}=u;if(N.isNode(n)&&(n=[n]),n.length!==0){var[o]=n;if(l||(l=Kn(e),c!==!1&&(c=!0)),c==null&&(c=!1),w.isRange(l))if(r||(l=D.unhangRange(e,l,{voids:i})),w.isCollapsed(l))l=l.anchor;else{var[,d]=w.edges(l),f=D.pointRef(e,d);p.delete(e,{at:l}),l=f.unref()}if(x.isPoint(l)){s==null&&(V.isText(o)?s=O=>V.isText(O):e.isInline(o)?s=O=>V.isText(O)||D.isInline(e,O):s=O=>L.isElement(O)&&D.isBlock(e,O));var[h]=D.nodes(e,{at:l.path,match:s,mode:a,voids:i});if(h){var[,m]=h,A=D.pathRef(e,m),E=D.isEnd(e,l,m);p.splitNodes(e,{at:l,match:s,mode:a,voids:i});var F=A.unref();l=E?v.next(F):F}else return}var b=v.parent(l),y=l[l.length-1];if(!(!i&&D.void(e,{at:b}))){for(var P of n){var _=b.concat(y);y++,e.apply({type:"insert_node",path:_,node:P}),l=v.next(l)}if(l=v.previous(l),c){var j=D.end(e,l);j&&p.select(e,j)}}}})},fl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(e,()=>{var{at:u=e.selection,mode:r="lowest",voids:i=!1}=n,{match:a}=n;if(a==null&&(a=v.isPath(u)?St(e,u):P=>L.isElement(P)&&D.isBlock(e,P)),!!u){var l=D.nodes(e,{at:u,match:a,mode:r,voids:i}),s=Array.from(l,P=>{var[,_]=P;return D.pathRef(e,_)});for(var c of s){var o=c.unref();if(o.length<2)throw new Error("Cannot lift node at a path [".concat(o,"] because it has a depth of less than `2`."));var d=D.node(e,v.parent(o)),[f,h]=d,m=o[o.length-1],{length:A}=f.children;if(A===1){var E=v.next(h);p.moveNodes(e,{at:o,to:E,voids:i}),p.removeNodes(e,{at:h,voids:i})}else if(m===0)p.moveNodes(e,{at:o,to:h,voids:i});else if(m===A-1){var F=v.next(h);p.moveNodes(e,{at:o,to:F,voids:i})}else{var b=v.next(o),y=v.next(h);p.splitNodes(e,{at:b,voids:i}),p.moveNodes(e,{at:o,to:y,voids:i})}}}})},cl=["text"],dl=["children"],Yu=(t,e)=>{if(L.isElement(e)){var n=e;return D.isVoid(t,e)?!0:n.children.length===1?Yu(t,n.children[0]):!1}else return!D.isEditor(e)},Dl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(e,()=>{var{match:u,at:r=e.selection}=n,{hanging:i=!1,voids:a=!1,mode:l="lowest"}=n;if(r){if(u==null)if(v.isPath(r)){var[s]=D.parent(e,r);u=Y=>s.children.includes(Y)}else u=Y=>L.isElement(Y)&&D.isBlock(e,Y);if(!i&&w.isRange(r)&&(r=D.unhangRange(e,r,{voids:a})),w.isRange(r))if(w.isCollapsed(r))r=r.anchor;else{var[,c]=w.edges(r),o=D.pointRef(e,c);p.delete(e,{at:r}),r=o.unref(),n.at==null&&p.select(e,r)}var[d]=D.nodes(e,{at:r,match:u,voids:a,mode:l}),f=D.previous(e,{at:r,match:u,voids:a,mode:l});if(!(!d||!f)){var[h,m]=d,[A,E]=f;if(!(m.length===0||E.length===0)){var F=v.next(E),b=v.common(m,E),y=v.isSibling(m,E),P=Array.from(D.levels(e,{at:m}),Y=>{var[ue]=Y;return ue}).slice(b.length).slice(0,-1),_=D.above(e,{at:m,mode:"highest",match:Y=>P.includes(Y)&&Yu(e,Y)}),j=_&&D.pathRef(e,_[1]),O,g;if(V.isText(h)&&V.isText(A)){var q=at(h,cl);g=A.text.length,O=q}else if(L.isElement(h)&&L.isElement(A)){var q=at(h,dl);g=A.children.length,O=q}else throw new Error("Cannot merge the node at path [".concat(m,"] with the previous sibling because it is not the same kind: ").concat(He.stringify(h)," ").concat(He.stringify(A)));y||p.moveNodes(e,{at:m,to:F,voids:a}),j&&p.removeNodes(e,{at:j.current,voids:a}),L.isElement(A)&&D.isEmpty(e,A)||V.isText(A)&&A.text===""&&E[E.length-1]!==0?p.removeNodes(e,{at:E,voids:a}):e.apply({type:"merge_node",path:F,position:g,properties:O}),j&&j.unref()}}}})},hl=(t,e)=>{D.withoutNormalizing(t,()=>{var{to:n,at:u=t.selection,mode:r="lowest",voids:i=!1}=e,{match:a}=e;if(u){a==null&&(a=v.isPath(u)?St(t,u):h=>L.isElement(h)&&D.isBlock(t,h));var l=D.pathRef(t,n),s=D.nodes(t,{at:u,match:a,mode:r,voids:i}),c=Array.from(s,h=>{var[,m]=h;return D.pathRef(t,m)});for(var o of c){var d=o.unref(),f=l.current;d.length!==0&&t.apply({type:"move_node",path:d,newPath:f}),l.current&&v.isSibling(f,d)&&v.isAfter(f,d)&&(l.current=v.next(l.current))}l.unref()}})},gl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(e,()=>{var{hanging:u=!1,voids:r=!1,mode:i="lowest"}=n,{at:a=e.selection,match:l}=n;if(a){l==null&&(l=v.isPath(a)?St(e,a):h=>L.isElement(h)&&D.isBlock(e,h)),!u&&w.isRange(a)&&(a=D.unhangRange(e,a,{voids:r}));var s=D.nodes(e,{at:a,match:l,mode:i,voids:r}),c=Array.from(s,h=>{var[,m]=h;return D.pathRef(e,m)});for(var o of c){var d=o.unref();if(d){var[f]=D.node(e,d);e.apply({type:"remove_node",path:d,node:f})}}}})},ml=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(e,()=>{var{match:r,at:i=e.selection,compare:a,merge:l}=u,{hanging:s=!1,mode:c="lowest",split:o=!1,voids:d=!1}=u;if(i){if(r==null&&(r=v.isPath(i)?St(e,i):g=>L.isElement(g)&&D.isBlock(e,g)),!s&&w.isRange(i)&&(i=D.unhangRange(e,i,{voids:d})),o&&w.isRange(i)){if(w.isCollapsed(i)&&D.leaf(e,i.anchor)[0].text.length>0)return;var f=D.rangeRef(e,i,{affinity:"inward"}),[h,m]=w.edges(i),A=c==="lowest"?"lowest":"highest",E=D.isEnd(e,m,m.path);p.splitNodes(e,{at:m,match:r,mode:A,voids:d,always:!E});var F=D.isStart(e,h,h.path);p.splitNodes(e,{at:h,match:r,mode:A,voids:d,always:!F}),i=f.unref(),u.at==null&&p.select(e,i)}a||(a=(g,q)=>g!==q);for(var[b,y]of D.nodes(e,{at:i,match:r,mode:c,voids:d})){var P={},_={};if(y.length!==0){var j=!1;for(var O in n)O==="children"||O==="text"||a(n[O],b[O])&&(j=!0,b.hasOwnProperty(O)&&(P[O]=b[O]),l?n[O]!=null&&(_[O]=l(b[O],n[O])):n[O]!=null&&(_[O]=n[O]));j&&e.apply({type:"set_node",path:y,properties:P,newProperties:_})}}}})},Cl=(t,e)=>{if(w.isCollapsed(e))return e.anchor;var[,n]=w.edges(e),u=D.pointRef(t,n);return p.delete(t,{at:e}),u.unref()},vl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(e,()=>{var{mode:u="lowest",voids:r=!1}=n,{match:i,at:a=e.selection,height:l=0,always:s=!1}=n;if(i==null&&(i=oe=>L.isElement(oe)&&D.isBlock(e,oe)),w.isRange(a)&&(a=Cl(e,a)),v.isPath(a)){var c=a,o=D.point(e,c),[d]=D.parent(e,c);i=oe=>oe===d,l=o.path.length-c.length+1,a=o,s=!0}if(a){var f=D.pointRef(e,a,{affinity:"backward"}),h;try{var[m]=D.nodes(e,{at:a,match:i,mode:u,voids:r});if(!m)return;var A=D.void(e,{at:a,mode:"highest"}),E=0;if(!r&&A){var[F,b]=A;if(L.isElement(F)&&e.isInline(F)){var y=D.after(e,b);if(!y){var P={text:""},_=v.next(b);p.insertNodes(e,P,{at:_,voids:r}),y=D.point(e,_)}a=y,s=!0}var j=a.path.length-b.length;l=j+1,s=!0}h=D.pointRef(e,a);var O=a.path.length-l,[,g]=m,q=a.path.slice(0,O),Y=l===0?a.offset:a.path[O]+E;for(var[ue,Ce]of D.levels(e,{at:q,reverse:!0,voids:r})){var z=!1;if(Ce.length<g.length||Ce.length===0||!r&&L.isElement(ue)&&D.isVoid(e,ue))break;var $=f.current,_e=D.isEnd(e,$,Ce);if(s||!f||!D.isEdge(e,$,Ce)){z=!0;var T=N.extractProps(ue);e.apply({type:"split_node",path:Ce,position:Y,properties:T})}Y=Ce[Ce.length-1]+(z||_e?1:0)}if(n.at==null){var U=h.current||D.end(e,[]);p.select(e,U)}}finally{var Fe;f.unref(),(Fe=h)===null||Fe===void 0||Fe.unref()}}})},Bl=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var r={};for(var i of n)r[i]=null;p.setNodes(e,r,u)},El=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(e,()=>{var{mode:u="lowest",split:r=!1,voids:i=!1}=n,{at:a=e.selection,match:l}=n;if(a){l==null&&(l=v.isPath(a)?St(e,a):h=>L.isElement(h)&&D.isBlock(e,h)),v.isPath(a)&&(a=D.range(e,a));var s=w.isRange(a)?D.rangeRef(e,a):null,c=D.nodes(e,{at:a,match:l,mode:u,voids:i}),o=Array.from(c,h=>{var[,m]=h;return D.pathRef(e,m)}).reverse(),d=function(){var m=f.unref(),[A]=D.node(e,m),E=D.range(e,m);r&&s&&(E=w.intersection(s.current,E)),p.liftNodes(e,{at:E,match:F=>L.isAncestor(A)&&A.children.includes(F),voids:i})};for(var f of o)d();s&&s.unref()}})};function Ur(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ur(Object(n),!0).forEach(function(u){Ve(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var Al=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(e,()=>{var{mode:r="lowest",split:i=!1,voids:a=!1}=u,{match:l,at:s=e.selection}=u;if(s){if(l==null&&(v.isPath(s)?l=St(e,s):e.isInline(n)?l=E=>L.isElement(E)&&D.isInline(e,E)||V.isText(E):l=E=>L.isElement(E)&&D.isBlock(e,E)),i&&w.isRange(s)){var[c,o]=w.edges(s),d=D.rangeRef(e,s,{affinity:"inward"});p.splitNodes(e,{at:o,match:l,voids:a}),p.splitNodes(e,{at:c,match:l,voids:a}),s=d.unref(),u.at==null&&p.select(e,s)}var f=Array.from(D.nodes(e,{at:s,match:e.isInline(n)?E=>L.isElement(E)&&D.isBlock(e,E):E=>D.isEditor(E),mode:"lowest",voids:a})),h=function(){var F=w.isRange(s)?w.intersection(s,D.range(e,A)):s;if(!F)return 0;var b=Array.from(D.nodes(e,{at:F,match:l,mode:r,voids:a}));if(b.length>0){var[y]=b,P=b[b.length-1],[,_]=y,[,j]=P;if(_.length===0&&j.length===0)return 0;var O=v.equals(_,j)?v.parent(_):v.common(_,j),g=D.range(e,_,j),q=D.node(e,O),[Y]=q,ue=O.length+1,Ce=v.next(j.slice(0,ue)),z=Gr(Gr({},n),{},{children:[]});p.insertNodes(e,z,{at:Ce,voids:a}),p.moveNodes(e,{at:g,match:$=>L.isAncestor(Y)&&Y.children.includes($),to:Ce.concat(0),voids:a})}},m;for(var[,A]of f)m=h()}})},hd=()=>{var t={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ga(t,...u)},addMark:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return $a(t,...u)},deleteBackward:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ns(t,...u)},deleteForward:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return rs(t,...u)},deleteFragment:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return us(t,...u)},getFragment:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ja(t,...u)},insertBreak:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return gs(t,...u)},insertSoftBreak:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Cs(t,...u)},insertFragment:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return nl(t,...u)},insertNode:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ms(t,...u)},insertText:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Bs(t,...u)},normalizeNode:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Za(t,...u)},removeMark:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Js(t,...u)},getDirtyPaths:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Xa(t,...u)},shouldNormalize:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Qa(t,...u)},above:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return xa(t,...u)},after:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return es(t,...u)},before:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ts(t,...u)},collapse:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return rl(t,...u)},delete:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return tl(t,...u)},deselect:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ul(t,...u)},edges:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return is(t,...u)},elementReadOnly:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return as(t,...u)},end:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ss(t,...u)},first:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ls(t,...u)},fragment:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return os(t,...u)},getMarks:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ss(t,...u)},hasBlocks:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return cs(t,...u)},hasInlines:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ds(t,...u)},hasPath:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ds(t,...u)},hasTexts:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return hs(t,...u)},insertNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ol(t,...u)},isBlock:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Es(t,...u)},isEdge:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return As(t,...u)},isEmpty:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Fs(t,...u)},isEnd:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return bs(t,...u)},isNormalizing:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ws(t,...u)},isStart:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ps(t,...u)},last:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ys(t,...u)},leaf:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Os(t,...u)},levels:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return _s(t,...u)},liftNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return fl(t,...u)},mergeNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Dl(t,...u)},move:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return il(t,...u)},moveNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return hl(t,...u)},next:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ts(t,...u)},node:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Is(t,...u)},nodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Rs(t,...u)},normalize:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return js(t,...u)},parent:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ks(t,...u)},path:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ms(t,...u)},pathRef:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ls(t,...u)},pathRefs:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Vs(t,...u)},point:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ws(t,...u)},pointRef:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return qs(t,...u)},pointRefs:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return zs(t,...u)},positions:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Hs(t,...u)},previous:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ks(t,...u)},range:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Gs(t,...u)},rangeRef:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ys(t,...u)},rangeRefs:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Us(t,...u)},removeNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return gl(t,...u)},select:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return al(t,...u)},setNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ml(t,...u)},setNormalizing:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Zs(t,...u)},setPoint:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return sl(t,...u)},setSelection:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ll(t,...u)},splitNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return vl(t,...u)},start:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Qs(t,...u)},string:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return xs(t,...u)},unhangRange:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return $s(t,...u)},unsetNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Bl(t,...u)},unwrapNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return El(t,...u)},void:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return fs(t,...u)},withoutNormalizing:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return el(t,...u)},wrapNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Al(t,...u)}};return t},Fl=Object.getOwnPropertyNames,bl=Object.getOwnPropertySymbols,wl=Object.prototype.hasOwnProperty;function Xr(t,e){return function(u,r,i){return t(u,r,i)&&e(u,r,i)}}function Xt(t){return function(n,u,r){if(!n||!u||typeof n!="object"||typeof u!="object")return t(n,u,r);var i=r.cache,a=i.get(n),l=i.get(u);if(a&&l)return a===u&&l===n;i.set(n,u),i.set(u,n);var s=t(n,u,r);return i.delete(n),i.delete(u),s}}function Jr(t){return Fl(t).concat(bl(t))}var Uu=Object.hasOwn||function(t,e){return wl.call(t,e)};function Tt(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var Gu="_owner",Zr=Object.getOwnPropertyDescriptor,Qr=Object.keys;function pl(t,e,n){var u=t.length;if(e.length!==u)return!1;for(;u-- >0;)if(!n.equals(t[u],e[u],u,u,t,e,n))return!1;return!0}function yl(t,e){return Tt(t.getTime(),e.getTime())}function xr(t,e,n){if(t.size!==e.size)return!1;for(var u={},r=t.entries(),i=0,a,l;(a=r.next())&&!a.done;){for(var s=e.entries(),c=!1,o=0;(l=s.next())&&!l.done;){var d=a.value,f=d[0],h=d[1],m=l.value,A=m[0],E=m[1];!c&&!u[o]&&(c=n.equals(f,A,i,o,t,e,n)&&n.equals(h,E,f,A,t,e,n))&&(u[o]=!0),o++}if(!c)return!1;i++}return!0}function Ol(t,e,n){var u=Qr(t),r=u.length;if(Qr(e).length!==r)return!1;for(var i;r-- >0;)if(i=u[r],i===Gu&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!Uu(e,i)||!n.equals(t[i],e[i],i,i,t,e,n))return!1;return!0}function jt(t,e,n){var u=Jr(t),r=u.length;if(Jr(e).length!==r)return!1;for(var i,a,l;r-- >0;)if(i=u[r],i===Gu&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!Uu(e,i)||!n.equals(t[i],e[i],i,i,t,e,n)||(a=Zr(t,i),l=Zr(e,i),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function _l(t,e){return Tt(t.valueOf(),e.valueOf())}function Pl(t,e){return t.source===e.source&&t.flags===e.flags}function $r(t,e,n){if(t.size!==e.size)return!1;for(var u={},r=t.values(),i,a;(i=r.next())&&!i.done;){for(var l=e.values(),s=!1,c=0;(a=l.next())&&!a.done;)!s&&!u[c]&&(s=n.equals(i.value,a.value,i.value,a.value,t,e,n))&&(u[c]=!0),c++;if(!s)return!1}return!0}function Nl(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var Sl="[object Arguments]",Tl="[object Boolean]",Il="[object Date]",Rl="[object Map]",jl="[object Number]",kl="[object Object]",Ll="[object RegExp]",Vl="[object Set]",Ml="[object String]",ql=Array.isArray,eu=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,tu=Object.assign,zl=Object.prototype.toString.call.bind(Object.prototype.toString);function Wl(t){var e=t.areArraysEqual,n=t.areDatesEqual,u=t.areMapsEqual,r=t.areObjectsEqual,i=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,l=t.areSetsEqual,s=t.areTypedArraysEqual;return function(o,d,f){if(o===d)return!0;if(o==null||d==null||typeof o!="object"||typeof d!="object")return o!==o&&d!==d;var h=o.constructor;if(h!==d.constructor)return!1;if(h===Object)return r(o,d,f);if(ql(o))return e(o,d,f);if(eu!=null&&eu(o))return s(o,d,f);if(h===Date)return n(o,d,f);if(h===RegExp)return a(o,d,f);if(h===Map)return u(o,d,f);if(h===Set)return l(o,d,f);var m=zl(o);return m===Il?n(o,d,f):m===Ll?a(o,d,f):m===Rl?u(o,d,f):m===Vl?l(o,d,f):m===kl?typeof o.then!="function"&&typeof d.then!="function"&&r(o,d,f):m===Sl?r(o,d,f):m===Tl||m===jl||m===Ml?i(o,d,f):!1}}function Hl(t){var e=t.circular,n=t.createCustomConfig,u=t.strict,r={areArraysEqual:u?jt:pl,areDatesEqual:yl,areMapsEqual:u?Xr(xr,jt):xr,areObjectsEqual:u?jt:Ol,arePrimitiveWrappersEqual:_l,areRegExpsEqual:Pl,areSetsEqual:u?Xr($r,jt):$r,areTypedArraysEqual:u?jt:Nl};if(n&&(r=tu({},r,n(r))),e){var i=Xt(r.areArraysEqual),a=Xt(r.areMapsEqual),l=Xt(r.areObjectsEqual),s=Xt(r.areSetsEqual);r=tu({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:s})}return r}function Kl(t){return function(e,n,u,r,i,a,l){return t(e,n,l)}}function Yl(t){var e=t.circular,n=t.comparator,u=t.createState,r=t.equals,i=t.strict;if(u)return function(s,c){var o=u(),d=o.cache,f=d===void 0?e?new WeakMap:void 0:d,h=o.meta;return n(s,c,{cache:f,equals:r,meta:h,strict:i})};if(e)return function(s,c){return n(s,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};var a={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,c){return n(s,c,a)}}ft();ft({strict:!0});ft({circular:!0});ft({circular:!0,strict:!0});var Ul=ft({createInternalComparator:function(){return Tt}});ft({strict:!0,createInternalComparator:function(){return Tt}});ft({circular:!0,createInternalComparator:function(){return Tt}});ft({circular:!0,createInternalComparator:function(){return Tt},strict:!0});function ft(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,u=t.createInternalComparator,r=t.createState,i=t.strict,a=i===void 0?!1:i,l=Hl(t),s=Wl(l),c=u?u(s):Kl(s);return Yl({circular:n,comparator:s,createState:r,equals:c,strict:a})}let Gl=0;class Xl{id;constructor(){this.id=`${Gl++}`}toString(){return this.id}}const Jl=globalThis.Element;function Gn(t){const e=t;return e&&e.ownerDocument&&e.ownerDocument.defaultView||null}function Zl(t){return Et(t)&&t.nodeType===8}function nt(t){return Et(t)&&t.nodeType===1}function Et(t){const e=Gn(t);return!!e&&t instanceof e.Node}function nu(t){const e=t,n=e&&e.anchorNode&&Gn(e.anchorNode);return!!n&&t instanceof n.Selection}function Xu(t){return Et(t)&&t.nodeType===3}function Ql(t){return t.clipboardData&&t.clipboardData.getData("text/plain")!==""&&t.clipboardData.types.length===1}function xl(t){let[e,n]=t;if(nt(e)&&e.childNodes.length){let u=n===e.childNodes.length,r=u?n-1:n;for([e,r]=Ju(e,r,u?"backward":"forward"),u=r<n;nt(e)&&e.childNodes.length;){const i=u?e.childNodes.length-1:0;e=eo(e,i,u?"backward":"forward")}n=u&&e.textContent!=null?e.textContent.length:0}return[e,n]}function $l(){return!!(window.document.activeElement&&window.document.activeElement.shadowRoot)}function Ju(t,e,n){const{childNodes:u}=t;let r=u[e],i=e,a=!1,l=!1;for(;(Zl(r)||nt(r)&&r.childNodes.length===0||nt(r)&&r.getAttribute("contenteditable")==="false")&&!(a&&l);){if(i>=u.length){a=!0,i=e-1,n="backward";continue}if(i<0){l=!0,i=e+1,n="forward";continue}r=u[i],e=i,i+=n==="forward"?1:-1}return[r,e]}function eo(t,e,n){const[u]=Ju(t,e,n);return u}function Zu(t){let e="";if(Xu(t)&&t.nodeValue)return t.nodeValue;if(nt(t)){for(const u of Array.from(t.childNodes))e+=Zu(u);const n=getComputedStyle(t).getPropertyValue("display");(n==="block"||n==="list"||t.tagName==="BR")&&(e+=`
`)}return e}const to=/data-slate-fragment="(.+?)"/m;function no(t){const e=t.getData("text/html"),[,n]=e.match(to)||[];return n}const ro=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ru=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),qn=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),pn=typeof navigator<"u"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),uo=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),Qu=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),io=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),ao=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),so=typeof navigator<"u"&&/.*QQBrowser/.test(navigator.userAgent),uu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iu=!io&&!uo&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function";function Xn(t){const e=Sn.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e}function mt(t){let e=Tn.get(t);return e||(e=new Xl,Tn.set(t,e)),e}function ot(t){const e=[];let n=t;for(;;){const u=dn.get(n);if(u==null){if(D.isEditor(n))return e;break}const r=cn.get(n);if(r==null)break;e.unshift(r),n=u}throw new Error(`Unable to find the path for Slate node: ${JSON.stringify(t)}`)}function gd(t,e,n){return[...D.nodes(t,{at:[[0],ot(e)],match:n})].length}function kt(t){const e=ut(t,t),n=e.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:e.ownerDocument}function au(t){return!!wt.get(t)}function lo(t){const e=ut(t,t),n=kt(t);wt.set(t,!0),n.activeElement!==e&&e.focus({preventScroll:!0})}function Jn(t,e,n={}){const{editable:u=!1}=n,r=ut(t,t);let i=null;try{i=nt(e)?e:e.parentElement}catch(a){if(!a.message.includes('Permission denied to access property "nodeType"'))throw a}return i?i.closest("[data-svelte-editor]")===r&&(!u||i.isContentEditable?!0:typeof i.isContentEditable=="boolean"&&i.closest('[contenteditable="false"]')===r||!!i.getAttribute("data-slate-zero-width")):!1}function ut(t,e,n=!0){const u=hn.get(t),r=D.isEditor(e)?Zt.get(t):u?.get(mt(e));if(!r&&n)throw new Error(`Cannot resolve a DOM node from Slate node: ${JSON.stringify(e)}`);return r}function su(t,e,n=!0){const[u]=D.node(t,e.path),r=ut(t,u,n);let i;D.void(t,{at:e})&&(e={path:e.path,offset:0});const l=r?Array.from(r.querySelectorAll("[data-slate-string], [data-slate-zero-width]")):[];let s=0;for(const c of l){const o=c.childNodes[0];if(o==null||o.textContent==null)continue;const{length:d}=o.textContent,f=c.getAttribute("data-slate-length"),h=f==null?d:parseInt(f,10),m=s+h;if(e.offset<=m){const A=Math.min(d,Math.max(0,e.offset-s));i=[o,A];break}s=m}if(!i&&n)throw new Error(`Cannot resolve a DOM point from Slate point: ${JSON.stringify(e)}`);return i}function un(t,e,n=!0){const{anchor:u,focus:r}=e,i=w.isBackward(e),a=su(t,u,n);if(!a)return;const l=w.isCollapsed(e)?a:su(t,r),c=Xn(t).document.createRange(),[o,d]=i?l:a,[f,h]=i?a:l,A=!!(nt(o)?o:o.parentElement).getAttribute("data-slate-zero-width"),F=!!(nt(f)?f:f.parentElement).getAttribute("data-slate-zero-width");return c.setStart(o,A?1:d),c.setEnd(f,F?1:h),c}function gt(t){let e=nt(t)?t:t.parentElement;e&&!e.hasAttribute("data-slate-node")&&(e=e.closest("[data-slate-node]"));const n=e?Dn.get(e):null;if(!n)throw new Error(`Cannot resolve a Slate node from DOM node: ${e}`);return n}function oo(t,e){const{clientX:n,clientY:u,target:r}=e;if(n==null||u==null)throw new Error(`Cannot resolve a Slate range from a DOM event: ${e}`);const i=gt(e.target),a=ot(i);if(D.isVoid(t,i)){const o=r.getBoundingClientRect(),d=t.isInline(i)?n-o.left<o.left+o.width-n:u-o.top<o.top+o.height-u,f=D.point(t,a,{edge:d?"start":"end"}),h=d?D.before(t,f):D.after(t,f);if(h)return D.range(t,h)}let l=null;const{document:s}=Xn(t);if(s.caretRangeFromPoint)l=s.caretRangeFromPoint(n,u);else{const o=s.caretPositionFromPoint(n,u);o&&(l=s.createRange(),l.setStart(o.offsetNode,o.offset),l.setEnd(o.offsetNode,o.offset))}if(!l)throw new Error(`Cannot resolve a Slate range from a DOM event: ${e}`);return Lt(t,l,{exactMatch:!1,suppressThrow:!1})}function lu(t,e,n){const{exactMatch:u,suppressThrow:r}=n,[i,a]=u?e:xl(e),s=i instanceof Jl&&i.getAttribute("data-slate-node")==="element"?i:i.parentNode;let c=null,o=0;if(s){let h,m;s.getAttribute("data-slate-node")==="element"?(m=s.querySelector("[data-slate-leaf]"),s.getAttribute("data-slate-void")&&(h=s)):(m=s.closest("[data-slate-leaf]"),h=s.closest('[data-slate-void="true"]'));let A=null;if(m){if(c=m.closest('[data-slate-node="text"]'),c){const F=Xn(t).document.createRange();F.setStart(c,0),F.setEnd(i,a);const b=F.cloneContents();[...Array.prototype.slice.call(b.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(b.querySelectorAll("[contenteditable=false]"))].forEach(P=>{P.parentNode.removeChild(P)}),o=b?.textContent?.length||0,A=c}}else h&&(m=h.querySelector("[data-slate-leaf]"),m?(c=m.closest('[data-slate-node="text"]'),A=m,o=A?.textContent?.length||0,A.querySelectorAll("[data-slate-zero-width]").forEach(E=>{o-=E?.textContent?.length||0})):o=1);A&&o===A?.textContent?.length&&(s.hasAttribute("data-slate-zero-width")||qn&&A.textContent?.endsWith(`

`))&&o--}if(!c){if(r)return null;throw new Error(`Cannot resolve a Slate point from DOM point: ${e}`)}const d=gt(c);return{path:ot(d),offset:o}}function Lt(t,e,n){const{exactMatch:u,suppressThrow:r}=n,i=nu(e)?e.anchorNode:e.startContainer;let a=null,l=0,s=null,c=0,o=!1;if(i&&(nu(e)?(a=e.anchorNode,l=e.anchorOffset,s=e.focusNode,c=e.focusOffset,Qu&&$l()?o=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:o=e.isCollapsed):(a=e.startContainer,l=e.startOffset,s=e.endContainer,c=e.endOffset,o=e.collapsed)),a==null||s==null||l==null||c==null)throw new Error(`Cannot resolve a Slate range from DOM range: ${e}`);const d=lu(t,[a,l],{exactMatch:u,suppressThrow:r});if(!d)return null;const f=o?d:lu(t,[s,c],{exactMatch:u,suppressThrow:r});if(!f)return null;let h={anchor:d,focus:f};return w.isExpanded(h)&&w.isForward(h)&&nt(s)&&D.void(t,{at:h.focus,mode:"highest"})&&(h=D.unhangRange(t,h,{voids:!0})),h}function fo(t,e){const{anchor:n,focus:u}=e;return D.hasPath(t,n.path)&&D.hasPath(t,u.path)}function xu(t,e){if(t===e)return!0;if(!t||!e||t.length!==e.length)return!1;for(let n=0;n<t.length;n++){const u=t[n],r=e[n],{anchor:i,focus:a,...l}=u,{anchor:s,focus:c,...o}=r;if(!w.equals(u,r)||u[qt]!==r[qt]||!Ul(l,o))return!1}return!0}function $u(t,e){return t===e||!!t&&!!e&&w.equals(t,e)}function qe(){return{}}function Me(t){const e=zi(t);if(!e)throw new Error("Must be used inside the component's context.");return e}function Le(t,e){const n=Xi(e);return Ou(t,n),n}function ei(t,e){return Ou(t,e),e}function co(t){let e;const n=t[7].default,u=ce(n,t,t[6],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,[i]){u&&u.p&&(!e||i&64)&&de(u,n,r,r[6],e?he(n,r[6],i,null):De(r[6]),null)},i(r){e||(I(u,r),e=!0)},o(r){R(u,r),e=!1},d(r){u&&u.d(r)}}}const ti=qe(),ni=qe(),ri=qe(),ui=qe(),ii=qe(),Do=qe(),ai=qe(),si=qe();function Bn(t,e,n){const u=fi();_u(()=>(u.update(r=>{const i=r[t]||[];return{...r,[t]:[...i,e]}}),()=>{u.update(r=>{const i=r[t]||[],a=i.indexOf(e);if(a===-1)return r;{const l=i.slice();return l.splice(a,1),{...r,[t]:l}}}),n&&n()}))}function Oe(t,e,n){const r=Pu(t)[e]||[];for(const i of r){const a=i(n);if(a===!1||n.cancelBubble)return a}}function li(){return Me(ti)}function et(){return Pu(li())}function oi(){return Me(ni)}function ho(){return Me(ri)}function Zn(){return Me(ui)}function go(){return Me(ii)}function fi(){return Me(ai)}function mo(){return Me(si)}function ci(t){return[]}function Co(t,e,n){let{$$slots:u={},$$scope:r}=e,{editor:i}=e,{value:a=i.children}=e,{selection:l=i.selection}=e;const s=Nu(),c=Le(ti,i),o=Le(ii,i.selection),d=Le(Do,i.children);Le(ni,!0),Le(ri,!1),Le(ui,ci),Le(ai,{}),Le(si,void 0);function f(){n(1,l=i.selection),n(0,a=i.children),i.operations.some(F=>F.type!=="set_selection")&&s("value",a),s("selection",l)}In.set(i,f);let h=i,m,A;return t.$$set=E=>{"editor"in E&&n(2,i=E.editor),"value"in E&&n(0,a=E.value),"selection"in E&&n(1,l=E.selection),"$$scope"in E&&n(6,r=E.$$scope)},t.$$.update=()=>{t.$$.dirty&17&&m!==a&&(c.update(E=>(E.children=a,E)),n(4,m=a),d.set(a),s("value",a)),t.$$.dirty&12&&h!==i&&(n(3,h=i),In.set(i,f),c.set(i)),t.$$.dirty&38&&($u(A,l)||(o.set(l),c.set(i),n(5,A=l),s("selection",l)))},[a,l,i,h,m,A,r,u]}class vo extends J{constructor(e){super(),Z(this,e,Co,co,re,{editor:2,value:0,selection:1})}}const Bo=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),yn={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},di={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Bo?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Qn={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(let t=1;t<20;t++)Qn["f"+t]=111+t;function Di(t,e={}){Array.isArray(t)||(t=[t]);const n=t.map(u=>Ao(u,e));return function(r){return n.some(i=>Fo(i,r))}}function Eo(t,e,n={}){return Di(t,n)(e)}function On(t){return Di(t,{byKey:!0})}function Ao(t,e={}){const n=e&&e.byKey,u={};t=t.replace("++","+add");const r=t.split("+"),{length:i}=r;for(const a in yn)u[yn[a]]=!1;for(let a of r){const l=a.endsWith("?")&&a.length>1;l&&(a=a.slice(0,-1));const s=hi(a),c=yn[s];if(a.length>1&&!c&&!di[a]&&!Qn[s])throw new TypeError(`Unknown modifier: "${a}"`);(i===1||!c)&&(n?u.key=s:u.which=bo(a)),c&&(u[c]=l?null:!0)}return u}function Fo(t,e){for(const n in t){const u=t[n];let r;if(u!=null&&(n==="key"&&e.key!=null?r=e.key.toLowerCase():n==="which"?r=u===91&&e.which===93?91:e.which:r=e[n],!(r==null&&u===!1)&&r!==u))return!1}return!0}function bo(t){return t=hi(t),Qn[t]||t.toUpperCase().charCodeAt(0)}function hi(t){return t=t.toLowerCase(),t=di[t]||t,t}const wo={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},po={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},yo={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]};function ve(t){const e=wo[t],n=po[t],u=yo[t],r=e&&On(e),i=n&&On(n),a=u&&On(u);return l=>!!(r&&r(l)||ru&&i&&i(l)||!ru&&a&&a(l))}const Ee={isBold:ve("bold"),isCompose:ve("compose"),isMoveBackward:ve("moveBackward"),isMoveForward:ve("moveForward"),isDeleteBackward:ve("deleteBackward"),isDeleteForward:ve("deleteForward"),isDeleteLineBackward:ve("deleteLineBackward"),isDeleteLineForward:ve("deleteLineForward"),isDeleteWordBackward:ve("deleteWordBackward"),isDeleteWordForward:ve("deleteWordForward"),isExtendBackward:ve("extendBackward"),isExtendForward:ve("extendForward"),isExtendLineBackward:ve("extendLineBackward"),isExtendLineForward:ve("extendLineForward"),isItalic:ve("italic"),isMoveLineBackward:ve("moveLineBackward"),isMoveLineForward:ve("moveLineForward"),isMoveWordBackward:ve("moveWordBackward"),isMoveWordForward:ve("moveWordForward"),isRedo:ve("redo"),isSplitBlock:ve("splitBlock"),isTransposeCharacter:ve("transposeCharacter"),isUndo:ve("undo")};function Oo(t){let e,n,u;const r=t[2].default,i=ce(r,t,t[1],null);return{c(){e=te("span"),i&&i.c(),this.h()},l(a){e=ne(a,"SPAN",{"data-slate-placeholder":!0,contenteditable:!0,class:!0});var l=fe(e);i&&i.l(l),l.forEach(S),this.h()},h(){C(e,"data-slate-placeholder","true"),C(e,"contenteditable","false"),C(e,"class","svelte-148q7wc"),Wi(()=>t[3].call(e))},m(a,l){W(a,e,l),i&&i.m(e,null),n=Hi(e,t[3].bind(e)),u=!0},p(a,[l]){i&&i.p&&(!u||l&2)&&de(i,r,a,a[1],u?he(r,a[1],l,null):De(a[1]),null)},i(a){u||(I(i,a),u=!0)},o(a){R(i,a),u=!1},d(a){a&&S(e),i&&i.d(a),n()}}}function _o(t,e,n){let{$$slots:u={},$$scope:r}=e,{clientHeight:i=void 0}=e;function a(){i=this.clientHeight,n(0,i)}return t.$$set=l=>{"clientHeight"in l&&n(0,i=l.clientHeight),"$$scope"in l&&n(1,r=l.$$scope)},[i,r,u,a]}class gi extends J{constructor(e){super(),Z(this,e,_o,Oo,re,{clientHeight:0})}}function Po(t){let e,n;const u=t[2].default,r=ce(u,t,t[1],null);return{c(){e=te("span"),r&&r.c(),this.h()},l(i){e=ne(i,"SPAN",{"data-slate-leaf":!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-leaf","true")},m(i,a){W(i,e,a),r&&r.m(e,null),n=!0},p(i,[a]){r&&r.p&&(!n||a&2)&&de(r,u,i,i[1],n?he(u,i[1],a,null):De(i[1]),null)},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i)}}}function No(t,e,n){let{$$slots:u={},$$scope:r}=e,{leaf:i}=e;return t.$$set=a=>{"leaf"in a&&n(0,i=a.leaf),"$$scope"in a&&n(1,r=a.$$scope)},[i,r,u]}class So extends J{constructor(e){super(),Z(this,e,No,Po,re,{leaf:0})}}function To(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("div"),r&&r.c(),this.h()},l(i){e=ne(i,"DIV",{"data-slate-node":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1l7tojd")},m(i,a){W(i,e,a),r&&r.m(e,null),t[9](e),n=!0},p(i,a){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[9](null)}}}function Io(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("span"),r&&r.c(),this.h()},l(i){e=ne(i,"SPAN",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1l7tojd")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,a){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}function Ro(t){let e,n,u,r;const i=[Io,To],a=[];function l(s,c){return s[1]?0:1}return e=l(t),n=a[e]=i[e](t),{c(){n.c(),u=ee()},l(s){n.l(s),u=ee()},m(s,c){a[e].m(s,c),W(s,u,c),r=!0},p(s,[c]){let o=e;e=l(s),e===o?a[e].p(s,c):(Se(),R(a[o],1,1,()=>{a[o]=null}),Te(),n=a[e],n?n.p(s,c):(n=a[e]=i[e](s),n.c()),I(n,1),n.m(u.parentNode,u))},i(s){r||(I(n),r=!0)},o(s){R(n),r=!1},d(s){s&&S(u),a[e].d(s)}}}function jo(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;function d(h){X[h?"unshift":"push"](()=>{c=h,n(0,c)})}function f(h){X[h?"unshift":"push"](()=>{c=h,n(0,c)})}return t.$$set=h=>{"element"in h&&n(5,i=h.element),"isInline"in h&&n(1,a=h.isInline),"isVoid"in h&&n(2,l=h.isVoid),"contenteditable"in h&&n(3,s=h.contenteditable),"ref"in h&&n(0,c=h.ref),"dir"in h&&n(4,o=h.dir),"$$scope"in h&&n(6,r=h.$$scope)},[c,a,l,s,o,i,r,u,d,f]}class mi extends J{constructor(e){super(),Z(this,e,jo,Ro,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}const Ci="֑-߿יִ-﷽ﹰ-ﻼ",vi="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",ko=new RegExp("^[^"+vi+"]*["+Ci+"]"),Lo=new RegExp("^[^"+Ci+"]*["+vi+"]");function Bi(t){const e=String(t||"");return ko.test(e)?"rtl":Lo.test(e)?"ltr":"neutral"}function ou(t){let e=`
`,n;return{c(){n=ln(e)},l(u){n=on(u,e)},m(u,r){W(u,n,r)},d(u){u&&S(n)}}}function Vo(t){let e,n=t[0].text+"",u,r=t[1]&&ou();return{c(){e=te("span"),u=ln(n),r&&r.c(),this.h()},l(i){e=ne(i,"SPAN",{"data-slate-string":!0});var a=fe(e);u=on(a,n),r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-string","true")},m(i,a){W(i,e,a),Vt(e,u),r&&r.m(e,null),t[3](e)},p(i,[a]){a&1&&n!==(n=i[0].text+"")&&Su(u,n),i[1]?r||(r=ou(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:Ot,o:Ot,d(i){i&&S(e),r&&r.d(),t[3](null)}}}function Mo(t,e,n){let{leaf:u}=e,{isTrailing:r=!1}=e,i;Ki(()=>{i&&n(2,i.textContent=u.text,i)});function a(l){X[l?"unshift":"push"](()=>{i=l,n(2,i)})}return t.$$set=l=>{"leaf"in l&&n(0,u=l.leaf),"isTrailing"in l&&n(1,r=l.isTrailing)},[u,r,i,a]}class qo extends J{constructor(e){super(),Z(this,e,Mo,Vo,re,{leaf:0,isTrailing:1})}}function fu(t){let e;return{c(){e=te("br")},l(n){e=ne(n,"BR",{})},m(n,u){W(n,e,u)},d(n){n&&S(e)}}}function zo(t){let e,n="\uFEFF",u,r,i=t[1]&&fu();return{c(){e=te("span"),u=ln(n),i&&i.c(),this.h()},l(a){e=ne(a,"SPAN",{"data-slate-zero-width":!0,"data-slate-length":!0});var l=fe(e);u=on(l,n),i&&i.l(l),l.forEach(S),this.h()},h(){C(e,"data-slate-zero-width",r=t[1]?"n":"z"),C(e,"data-slate-length",t[0])},m(a,l){W(a,e,l),Vt(e,u),i&&i.m(e,null)},p(a,[l]){a[1]?i||(i=fu(),i.c(),i.m(e,null)):i&&(i.d(1),i=null),l&2&&r!==(r=a[1]?"n":"z")&&C(e,"data-slate-zero-width",r),l&1&&C(e,"data-slate-length",a[0])},i:Ot,o:Ot,d(a){a&&S(e),i&&i.d()}}}function Wo(t,e,n){let{length:u=0}=e,{isLineBreak:r=!1}=e;return t.$$set=i=>{"length"in i&&n(0,u=i.length),"isLineBreak"in i&&n(1,r=i.isLineBreak)},[u,r]}class xn extends J{constructor(e){super(),Z(this,e,Wo,zo,re,{length:0,isLineBreak:1})}}function Ho(t){let e,n;return e=new qo({props:{isTrailing:t[5],leaf:t[0]}}),{c(){ae(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){se(e,u,r),n=!0},p(u,r){const i={};r&32&&(i.isTrailing=u[5]),r&1&&(i.leaf=u[0]),e.$set(i)},i(u){n||(I(e.$$.fragment,u),n=!0)},o(u){R(e.$$.fragment,u),n=!1},d(u){le(e,u)}}}function Ko(t){let e,n;return e=new xn({}),{c(){ae(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){se(e,u,r),n=!0},p:Ot,i(u){n||(I(e.$$.fragment,u),n=!0)},o(u){R(e.$$.fragment,u),n=!1},d(u){le(e,u)}}}function Yo(t){let e,n;return e=new xn({props:{isLineBreak:!0}}),{c(){ae(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){se(e,u,r),n=!0},p:Ot,i(u){n||(I(e.$$.fragment,u),n=!0)},o(u){R(e.$$.fragment,u),n=!1},d(u){le(e,u)}}}function Uo(t){let e,n;return e=new xn({props:{length:N.string(t[1]).length}}),{c(){ae(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){se(e,u,r),n=!0},p(u,r){const i={};r&2&&(i.length=N.string(u[1]).length),e.$set(i)},i(u){n||(I(e.$$.fragment,u),n=!0)},o(u){R(e.$$.fragment,u),n=!1},d(u){le(e,u)}}}function Go(t){let e,n,u,r;const i=[Uo,Yo,Ko,Ho],a=[];function l(s,c){return s[4]?0:s[3]?1:s[2]?2:3}return e=l(t),n=a[e]=i[e](t),{c(){n.c(),u=ee()},l(s){n.l(s),u=ee()},m(s,c){a[e].m(s,c),W(s,u,c),r=!0},p(s,[c]){let o=e;e=l(s),e===o?a[e].p(s,c):(Se(),R(a[o],1,1,()=>{a[o]=null}),Te(),n=a[e],n?n.p(s,c):(n=a[e]=i[e](s),n.c()),I(n,1),n.m(u.parentNode,u))},i(s){r||(I(n),r=!0)},o(s){R(n),r=!1},d(s){s&&S(u),a[e].d(s)}}}function Xo(t,e,n){let u,r,i,a,l,s,{isLast:c}=e,{leaf:o}=e,{parent:d}=e,{text:f}=e;const h=et();return t.$$set=m=>{"isLast"in m&&n(6,c=m.isLast),"leaf"in m&&n(0,o=m.leaf),"parent"in m&&n(1,d=m.parent),"text"in m&&n(7,f=m.text)},t.$$.update=()=>{t.$$.dirty&65&&n(5,u=c&&o.text.slice(-1)===`
`),t.$$.dirty&128&&n(9,r=ot(f)),t.$$.dirty&512&&n(8,i=v.parent(r)),t.$$.dirty&2&&n(4,a=h.isVoid(d)),t.$$.dirty&1&&n(2,l=o.text===""),t.$$.dirty&390&&n(3,s=l&&d.children[d.children.length-1]===f&&!h.isInline(d)&&D.string(h,i)==="")},[o,d,l,s,a,u,c,f,i,r]}let Jo=class extends J{constructor(e){super(),Z(this,e,Xo,Go,re,{isLast:6,leaf:0,parent:1,text:7})}};function cu(t){let e,n,u,r;function i(s){t[12](s)}var a=t[5];function l(s,c){let o={$$slots:{default:[Zo]},$$scope:{ctx:s}};return s[4]!==void 0&&(o.clientHeight=s[4]),{props:o}}return a&&(e=je(a,l(t)),X.push(()=>Re(e,"clientHeight",i))),{c(){e&&ae(e.$$.fragment),u=ee()},l(s){e&&Ae(e.$$.fragment,s),u=ee()},m(s,c){e&&se(e,s,c),W(s,u,c),r=!0},p(s,c){if(c&32&&a!==(a=s[5])){if(e){Se();const o=e;R(o.$$.fragment,1,0,()=>{le(o,1)}),Te()}a?(e=je(a,l(s)),X.push(()=>Re(e,"clientHeight",i)),ae(e.$$.fragment),I(e.$$.fragment,1),se(e,u.parentNode,u)):e=null}else if(a){const o={};c&8194&&(o.$$scope={dirty:c,ctx:s}),!n&&c&16&&(n=!0,o.clientHeight=s[4],$e(()=>n=!1)),e.$set(o)}},i(s){r||(e&&I(e.$$.fragment,s),r=!0)},o(s){e&&R(e.$$.fragment,s),r=!1},d(s){s&&S(u),e&&le(e,s)}}}function Zo(t){let e=t[1].placeholder+"",n;return{c(){n=ln(e)},l(u){n=on(u,e)},m(u,r){W(u,n,r)},p(u,r){r&2&&e!==(e=u[1].placeholder+"")&&Su(n,e)},d(u){u&&S(n)}}}function Qo(t){let e,n,u,r=qt in t[1]&&cu(t);return n=new Jo({props:{isLast:t[0],leaf:t[1],parent:t[2],text:t[3]}}),{c(){r&&r.c(),e=ee(),ae(n.$$.fragment)},l(i){r&&r.l(i),e=ee(),Ae(n.$$.fragment,i)},m(i,a){r&&r.m(i,a),W(i,e,a),se(n,i,a),u=!0},p(i,a){qt in i[1]?r?(r.p(i,a),a&2&&I(r,1)):(r=cu(i),r.c(),I(r,1),r.m(e.parentNode,e)):r&&(Se(),R(r,1,1,()=>{r=null}),Te());const l={};a&1&&(l.isLast=i[0]),a&2&&(l.leaf=i[1]),a&4&&(l.parent=i[2]),a&8&&(l.text=i[3]),n.$set(l)},i(i){u||(I(r),I(n.$$.fragment,i),u=!0)},o(i){R(r),R(n.$$.fragment,i),u=!1},d(i){i&&S(e),r&&r.d(i),le(n,i)}}}function xo(t){let e,n,u;var r=t[6];function i(a,l){return{props:{leaf:a[1],$$slots:{default:[Qo]},$$scope:{ctx:a}}}}return r&&(e=je(r,i(t))),{c(){e&&ae(e.$$.fragment),n=ee()},l(a){e&&Ae(e.$$.fragment,a),n=ee()},m(a,l){e&&se(e,a,l),W(a,n,l),u=!0},p(a,[l]){if(l&64&&r!==(r=a[6])){if(e){Se();const s=e;R(s.$$.fragment,1,0,()=>{le(s,1)}),Te()}r?(e=je(r,i(a)),ae(e.$$.fragment),I(e.$$.fragment,1),se(e,n.parentNode,n)):e=null}else if(r){const s={};l&2&&(s.leaf=a[1]),l&8255&&(s.$$scope={dirty:l,ctx:a}),e.$set(s)}},i(a){u||(e&&I(e.$$.fragment,a),u=!0)},o(a){e&&R(e.$$.fragment,a),u=!1},d(a){a&&S(n),e&&le(e,a)}}}function $o(t,e,n){let u,r,i,a,{isLast:l}=e,{leaf:s}=e,{parent:c}=e,{text:o}=e;const d=Me(bi);it(t,d,E=>n(11,a=E));const f=Me(wi);it(t,f,E=>n(10,i=E));let h,m;Yi(()=>{if(uu){const E=document.querySelector('[data-svelte-editor="true"]');E&&(E.style.minHeight="auto")}});function A(E){h=E,n(4,h)}return t.$$set=E=>{"isLast"in E&&n(0,l=E.isLast),"leaf"in E&&n(1,s=E.leaf),"parent"in E&&n(2,c=E.parent),"text"in E&&n(3,o=E.text)},t.$$.update=()=>{if(t.$$.dirty&2048&&n(6,u=a),t.$$.dirty&1024&&n(5,r=i),t.$$.dirty&528&&m!==h&&uu){const E=document.querySelector('[data-svelte-editor="true"]');E&&(E.style.minHeight=`${h}px`),n(9,m=h)}},[l,s,c,o,h,r,u,d,f,m,i,a,A]}class du extends J{constructor(e){super(),Z(this,e,$o,xo,re,{isLast:0,leaf:1,parent:2,text:3})}}function Du(t,e,n){const u=t.slice();return u[9]=e[n],u[11]=n,u}function hu(t,e){let n,u,r,i;var a=du;function l(s,c){return{props:{isLast:s[0]&&s[11]===s[5].length-1,parent:s[1],leaf:s[9],text:s[2]}}}return a&&(u=je(a,l(e))),{key:t,first:null,c(){n=ee(),u&&ae(u.$$.fragment),r=ee(),this.h()},l(s){n=ee(),u&&Ae(u.$$.fragment,s),r=ee(),this.h()},h(){this.first=n},m(s,c){W(s,n,c),u&&se(u,s,c),W(s,r,c),i=!0},p(s,c){if(e=s,a!==(a=du)){if(u){Se();const o=u;R(o.$$.fragment,1,0,()=>{le(o,1)}),Te()}a?(u=je(a,l(e)),ae(u.$$.fragment),I(u.$$.fragment,1),se(u,r.parentNode,r)):u=null}else if(a){const o={};c&33&&(o.isLast=e[0]&&e[11]===e[5].length-1),c&2&&(o.parent=e[1]),c&32&&(o.leaf=e[9]),c&4&&(o.text=e[2]),u.$set(o)}},i(s){i||(u&&I(u.$$.fragment,s),i=!0)},o(s){u&&R(u.$$.fragment,s),i=!1},d(s){s&&(S(n),S(r)),u&&le(u,s)}}}function ef(t){let e,n=[],u=new Map,r,i=xt(t[5]);const a=l=>`${l[4]}-${l[11]}`;for(let l=0;l<i.length;l+=1){let s=Du(t,i,l),c=a(s);u.set(c,n[l]=hu(c,s))}return{c(){e=te("span");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=ne(l,"SPAN",{"data-slate-node":!0});var s=fe(e);for(let c=0;c<n.length;c+=1)n[c].l(s);s.forEach(S),this.h()},h(){C(e,"data-slate-node","text")},m(l,s){W(l,e,s);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);t[7](e),r=!0},p(l,[s]){s&55&&(i=xt(l[5]),Se(),n=ju(n,s,a,1,l,i,u,e,Ru,hu,null,Du),Te())},i(l){if(!r){for(let s=0;s<i.length;s+=1)I(n[s]);r=!0}},o(l){for(let s=0;s<n.length;s+=1)R(n[s]);r=!1},d(l){l&&S(e);for(let s=0;s<n.length;s+=1)n[s].d();t[7](null)}}}function tf(t,e,n){let u,r,{decorations:i}=e,{isLast:a}=e,{parent:l}=e,{text:s}=e;const c=et();let o;function d(f){X[f?"unshift":"push"](()=>{o=f,n(3,o)})}return t.$$set=f=>{"decorations"in f&&n(6,i=f.decorations),"isLast"in f&&n(0,a=f.isLast),"parent"in f&&n(1,l=f.parent),"text"in f&&n(2,s=f.text)},t.$$.update=()=>{t.$$.dirty&68&&n(5,u=V.decorations(s,i)),t.$$.dirty&4&&n(4,r=mt(s)),t.$$.dirty&28&&o&&(hn.get(c)?.set(r,o),$t.set(s,o),Dn.set(o,s))},[a,l,s,o,r,u,i,d]}class Yt extends J{constructor(e){super(),Z(this,e,tf,ef,re,{decorations:6,isLast:0,parent:1,text:2})}}function nf(t){let e,n;return e=new Fi({props:{node:t[0],decorations:t[1],selection:t[2]}}),{c(){ae(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){se(e,u,r),n=!0},p(u,r){const i={};r&1&&(i.node=u[0]),r&2&&(i.decorations=u[1]),r&4&&(i.selection=u[2]),e.$set(i)},i(u){n||(I(e.$$.fragment,u),n=!0)},o(u){R(e.$$.fragment,u),n=!1},d(u){le(e,u)}}}function rf(t){let e,n,u,r;const i=[af,uf],a=[];function l(s,c){return s[4]?0:1}return e=l(t),n=a[e]=i[e](t),{c(){n.c(),u=ee()},l(s){n.l(s),u=ee()},m(s,c){a[e].m(s,c),W(s,u,c),r=!0},p(s,c){let o=e;e=l(s),e===o?a[e].p(s,c):(Se(),R(a[o],1,1,()=>{a[o]=null}),Te(),n=a[e],n?n.p(s,c):(n=a[e]=i[e](s),n.c()),I(n,1),n.m(u.parentNode,u))},i(s){r||(I(n),r=!0)},o(s){R(n),r=!1},d(s){s&&S(u),a[e].d(s)}}}function uf(t){let e,n,u;var r=Yt;function i(a,l){return{props:{decorations:[],isLast:!1,parent:a[0],text:a[8]}}}return r&&(n=je(r,i(t))),{c(){e=te("div"),n&&ae(n.$$.fragment),this.h()},l(a){e=ne(a,"DIV",{"data-slate-spacer":!0,class:!0});var l=fe(e);n&&Ae(n.$$.fragment,l),l.forEach(S),this.h()},h(){C(e,"data-slate-spacer",""),C(e,"class","svelte-6bsca3")},m(a,l){W(a,e,l),n&&se(n,e,null),u=!0},p(a,l){if(r!==(r=Yt)){if(n){Se();const s=n;R(s.$$.fragment,1,0,()=>{le(s,1)}),Te()}r?(n=je(r,i(a)),ae(n.$$.fragment),I(n.$$.fragment,1),se(n,e,null)):n=null}else if(r){const s={};l&1&&(s.parent=a[0]),l&256&&(s.text=a[8]),n.$set(s)}},i(a){u||(n&&I(n.$$.fragment,a),u=!0)},o(a){n&&R(n.$$.fragment,a),u=!1},d(a){a&&S(e),n&&le(n)}}}function af(t){let e,n,u;var r=Yt;function i(a,l){return{props:{decorations:[],isLast:!1,parent:a[0],text:a[8]}}}return r&&(n=je(r,i(t))),{c(){e=te("span"),n&&ae(n.$$.fragment),this.h()},l(a){e=ne(a,"SPAN",{"data-slate-spacer":!0,class:!0});var l=fe(e);n&&Ae(n.$$.fragment,l),l.forEach(S),this.h()},h(){C(e,"data-slate-spacer",""),C(e,"class","svelte-6bsca3")},m(a,l){W(a,e,l),n&&se(n,e,null),u=!0},p(a,l){if(r!==(r=Yt)){if(n){Se();const s=n;R(s.$$.fragment,1,0,()=>{le(s,1)}),Te()}r?(n=je(r,i(a)),ae(n.$$.fragment),I(n.$$.fragment,1),se(n,e,null)):n=null}else if(r){const s={};l&1&&(s.parent=a[0]),l&256&&(s.text=a[8]),n.$set(s)}},i(a){u||(n&&I(n.$$.fragment,a),u=!0)},o(a){n&&R(n.$$.fragment,a),u=!1},d(a){a&&S(e),n&&le(n)}}}function sf(t){let e,n,u,r;const i=[rf,nf],a=[];function l(s,c){return s[6]&&!s[5]?0:1}return e=l(t),n=a[e]=i[e](t),{c(){n.c(),u=ee()},l(s){n.l(s),u=ee()},m(s,c){a[e].m(s,c),W(s,u,c),r=!0},p(s,c){let o=e;e=l(s),e===o?a[e].p(s,c):(Se(),R(a[o],1,1,()=>{a[o]=null}),Te(),n=a[e],n?n.p(s,c):(n=a[e]=i[e](s),n.c()),I(n,1),n.m(u.parentNode,u))},i(s){r||(I(n),r=!0)},o(s){R(n),r=!1},d(s){s&&S(u),a[e].d(s)}}}function lf(t){let e,n,u,r;function i(s){t[16](s)}var a=t[10];function l(s,c){let o={isVoid:s[6],isInline:s[4],contenteditable:s[9],element:s[0],dir:s[7],$$slots:{default:[sf]},$$scope:{ctx:s}};return s[3]!==void 0&&(o.ref=s[3]),{props:o}}return a&&(e=je(a,l(t)),X.push(()=>Re(e,"ref",i))),{c(){e&&ae(e.$$.fragment),u=ee()},l(s){e&&Ae(e.$$.fragment,s),u=ee()},m(s,c){e&&se(e,s,c),W(s,u,c),r=!0},p(s,[c]){if(c&1024&&a!==(a=s[10])){if(e){Se();const o=e;R(o.$$.fragment,1,0,()=>{le(o,1)}),Te()}a?(e=je(a,l(s)),X.push(()=>Re(e,"ref",i)),ae(e.$$.fragment),I(e.$$.fragment,1),se(e,u.parentNode,u)):e=null}else if(a){const o={};c&64&&(o.isVoid=s[6]),c&16&&(o.isInline=s[4]),c&512&&(o.contenteditable=s[9]),c&1&&(o.element=s[0]),c&128&&(o.dir=s[7]),c&262519&&(o.$$scope={dirty:c,ctx:s}),!n&&c&8&&(n=!0,o.ref=s[3],$e(()=>n=!1)),e.$set(o)}},i(s){r||(e&&I(e.$$.fragment,s),r=!0)},o(s){e&&R(e.$$.fragment,s),r=!1},d(s){s&&S(u),e&&le(e,s)}}}function of(t,e,n){let u,r,i,a,l,s,c,o,{element:d}=e,{decorations:f}=e,{selection:h=null}=e;const m=Me(Nt);it(t,m,_=>n(15,o=_));const A=et(),E=oi();it(t,E,_=>n(14,c=_));let F,b,y;function P(_){y=_,n(3,y)}return t.$$set=_=>{"element"in _&&n(0,d=_.element),"decorations"in _&&n(1,f=_.decorations),"selection"in _&&n(2,h=_.selection)},t.$$.update=()=>{if(t.$$.dirty&32768&&n(10,u=o),t.$$.dirty&16384&&n(5,r=c),t.$$.dirty&1&&n(4,i=A.isInline(d)),t.$$.dirty&1&&n(13,a=mt(d)),t.$$.dirty&17&&!i&&D.hasInlines(A,d)){const _=Bi(N.string(d));_==="rtl"&&n(7,F=_)}if(t.$$.dirty&1&&n(6,l=D.isVoid(A,d)),t.$$.dirty&32&&n(9,s=!r),t.$$.dirty&113&&l){!r&&i&&n(9,s=!1);const[[_]]=N.texts(d);n(8,b=_),cn.set(_,0),dn.set(_,d)}t.$$.dirty&8201&&y&&(hn.get(A)?.set(a,y),$t.set(d,y),Dn.set(y,d))},[d,f,h,y,i,r,l,F,b,s,u,m,E,a,c,o,P]}class gu extends J{constructor(e){super(),Z(this,e,of,lf,re,{element:0,decorations:1,selection:2})}}function ff(t){let e,n,u;var r=gu;function i(a,l){return{props:{decorations:a[2],element:a[0],selection:a[1]}}}return r&&(e=je(r,i(t))),{c(){e&&ae(e.$$.fragment),n=ee()},l(a){e&&Ae(e.$$.fragment,a),n=ee()},m(a,l){e&&se(e,a,l),W(a,n,l),u=!0},p(a,[l]){if(r!==(r=gu)){if(e){Se();const s=e;R(s.$$.fragment,1,0,()=>{le(s,1)}),Te()}r?(e=je(r,i(a)),ae(e.$$.fragment),I(e.$$.fragment,1),se(e,n.parentNode,n)):e=null}else if(r){const s={};l&4&&(s.decorations=a[2]),l&1&&(s.element=a[0]),l&2&&(s.selection=a[1]),e.$set(s)}},i(a){u||(e&&I(e.$$.fragment,a),u=!0)},o(a){e&&R(e.$$.fragment,a),u=!1},d(a){a&&S(n),e&&le(e,a)}}}const Ei=qe();function Cd(){return Me(Ei)}function cf(t,e,n){let u,r,i,a,l,s,{parent:c}=e,{element:o}=e,{path:d}=e,{index:f}=e,{decorations:h}=e,{selection:m=null}=e;const A=Zn();it(t,A,g=>n(18,s=g));const E=Le(Ei,!1),F=et();let b=f,y=c,P=o,_=d,j=h,O=m;return t.$$set=g=>{"parent"in g&&n(4,c=g.parent),"element"in g&&n(5,o=g.element),"path"in g&&n(6,d=g.path),"index"in g&&n(7,f=g.index),"decorations"in g&&n(8,h=g.decorations),"selection"in g&&n(9,m=g.selection)},t.$$.update=()=>{t.$$.dirty&1152&&b!==f&&n(10,b=f),t.$$.dirty&2064&&y!==c&&n(11,y=c),t.$$.dirty&33&&P!==o&&n(0,P=o),t.$$.dirty&4160&&_!==d&&n(12,_=d),t.$$.dirty&8448&&(xu(j,h)||n(13,j=h)),t.$$.dirty&16896&&($u(O,m)||n(14,O=m)),t.$$.dirty&1025&&cn.set(P,b),t.$$.dirty&2049&&dn.set(P,y),t.$$.dirty&5120&&n(16,u=_.concat(b)),t.$$.dirty&65536&&n(15,r=D.range(F,u)),t.$$.dirty&262144&&n(17,i=s),t.$$.dirty&237569&&n(2,a=Ai(i([P,u]),r,j)),t.$$.dirty&49152&&n(1,l=O&&w.intersection(r,O)),t.$$.dirty&2&&E.set(!!l)},[P,l,a,A,c,o,d,f,h,m,b,y,_,j,O,r,u,i,s]}class df extends J{constructor(e){super(),Z(this,e,cf,ff,fn,{parent:4,element:5,path:6,index:7,decorations:8,selection:9})}}function Df(t){let e,n;return e=new Yt({props:{decorations:t[2],isLast:t[3],parent:t[1],text:t[0]}}),{c(){ae(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){se(e,u,r),n=!0},p(u,[r]){const i={};r&4&&(i.decorations=u[2]),r&8&&(i.isLast=u[3]),r&2&&(i.parent=u[1]),r&1&&(i.text=u[0]),e.$set(i)},i(u){n||(I(e.$$.fragment,u),n=!0)},o(u){R(e.$$.fragment,u),n=!1},d(u){le(e,u)}}}function hf(t,e,n){let u,r,i,a,l,s,{parent:c}=e,{text:o}=e,{path:d}=e,{index:f}=e,{isLeafBlock:h}=e,{decorations:m}=e;const A=Zn();it(t,A,j=>n(17,s=j));const E=et();let F=f,b=o,y=d,P=c,_=m;return t.$$set=j=>{"parent"in j&&n(5,c=j.parent),"text"in j&&n(6,o=j.text),"path"in j&&n(7,d=j.path),"index"in j&&n(8,f=j.index),"isLeafBlock"in j&&n(9,h=j.isLeafBlock),"decorations"in j&&n(10,m=j.decorations)},t.$$.update=()=>{t.$$.dirty&2304&&F!==f&&n(11,F=f),t.$$.dirty&65&&b!==o&&n(0,b=o),t.$$.dirty&4224&&y!==d&&n(12,y=d),t.$$.dirty&34&&P!==c&&n(1,P=c),t.$$.dirty&9216&&(xu(_,m)||n(13,_=m)),t.$$.dirty&2049&&cn.set(b,F),t.$$.dirty&3&&dn.set(b,P),t.$$.dirty&6144&&n(15,u=y.concat(F)),t.$$.dirty&2562&&n(3,r=h&&F===P.children.length-1),t.$$.dirty&32768&&n(14,i=D.range(E,u)),t.$$.dirty&131072&&n(16,a=s),t.$$.dirty&122881&&n(2,l=Ai(a([b,u]),i,_))},[b,P,l,r,A,c,o,d,f,h,m,F,y,_,i,u,a,s]}class gf extends J{constructor(e){super(),Z(this,e,hf,Df,fn,{parent:5,text:6,path:7,index:8,isLeafBlock:9,decorations:10})}}function mu(t,e,n){const u=t.slice();return u[7]=e[n],u[9]=n,u}function mf(t){let e,n;return e=new gf({props:{decorations:t[0],parent:t[2],text:t[7],index:t[9],path:t[4],isLeafBlock:t[3]}}),{c(){ae(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){se(e,u,r),n=!0},p(u,r){const i={};r&1&&(i.decorations=u[0]),r&4&&(i.parent=u[2]),r&4&&(i.text=u[7]),r&4&&(i.index=u[9]),r&16&&(i.path=u[4]),r&8&&(i.isLeafBlock=u[3]),e.$set(i)},i(u){n||(I(e.$$.fragment,u),n=!0)},o(u){R(e.$$.fragment,u),n=!1},d(u){le(e,u)}}}function Cf(t){let e,n;return e=new df({props:{decorations:t[0],selection:t[1],element:t[7],parent:t[2],index:t[9],path:t[4]}}),{c(){ae(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){se(e,u,r),n=!0},p(u,r){const i={};r&1&&(i.decorations=u[0]),r&2&&(i.selection=u[1]),r&4&&(i.element=u[7]),r&4&&(i.parent=u[2]),r&4&&(i.index=u[9]),r&16&&(i.path=u[4]),e.$set(i)},i(u){n||(I(e.$$.fragment,u),n=!0)},o(u){R(e.$$.fragment,u),n=!1},d(u){le(e,u)}}}function Cu(t,e){let n,u,r,i,a,l;const s=[Cf,mf],c=[];function o(d,f){return f&4&&(u=null),u==null&&(u=!!L.isElement(d[7])),u?0:1}return r=o(e,-1),i=c[r]=s[r](e),{key:t,first:null,c(){n=ee(),i.c(),a=ee(),this.h()},l(d){n=ee(),i.l(d),a=ee(),this.h()},h(){this.first=n},m(d,f){W(d,n,f),c[r].m(d,f),W(d,a,f),l=!0},p(d,f){e=d;let h=r;r=o(e,f),r===h?c[r].p(e,f):(Se(),R(c[h],1,1,()=>{c[h]=null}),Te(),i=c[r],i?i.p(e,f):(i=c[r]=s[r](e),i.c()),I(i,1),i.m(a.parentNode,a))},i(d){l||(I(i),l=!0)},o(d){R(i),l=!1},d(d){d&&(S(n),S(a)),c[r].d(d)}}}function vf(t){let e=[],n=new Map,u,r,i=xt(t[2].children);const a=l=>mt(l[7]);for(let l=0;l<i.length;l+=1){let s=mu(t,i,l),c=a(s);n.set(c,e[l]=Cu(c,s))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();u=ee()},l(l){for(let s=0;s<e.length;s+=1)e[s].l(l);u=ee()},m(l,s){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(l,s);W(l,u,s),r=!0},p(l,[s]){s&31&&(i=xt(l[2].children),Se(),e=ju(e,s,a,1,l,i,n,u.parentNode,Ru,Cu,u,mu),Te())},i(l){if(!r){for(let s=0;s<i.length;s+=1)I(e[s]);r=!0}},o(l){for(let s=0;s<e.length;s+=1)R(e[s]);r=!1},d(l){l&&S(u);for(let s=0;s<e.length;s+=1)e[s].d(l)}}}function Ai(t,e,n=[]){for(const u of n){const r=w.intersection(u,e);r&&t.push(r)}return t}function Bf(t,e,n){let u,r,{node:i}=e,{decorations:a}=e,{selection:l=null}=e;const s=et();let c=i;return t.$$set=o=>{"node"in o&&n(5,i=o.node),"decorations"in o&&n(0,a=o.decorations),"selection"in o&&n(1,l=o.selection)},t.$$.update=()=>{t.$$.dirty&36&&(c!==i||i===s)&&n(2,c=i),t.$$.dirty&4&&n(4,u=ot(c)),t.$$.dirty&4&&n(3,r=L.isElement(c)&&!s.isInline(c)&&D.hasInlines(s,c))},[a,l,c,r,u,i]}class Fi extends J{constructor(e){super(),Z(this,e,Bf,vf,fn,{node:5,decorations:0,selection:1})}}const vu=t=>typeof t=="object"&&t!=null&&t.nodeType===1,Bu=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",_n=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return Bu(n.overflowY,e)||Bu(n.overflowX,e)||(u=>{const r=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(u);return!!r&&(r.clientHeight<u.scrollHeight||r.clientWidth<u.scrollWidth)})(t)}return!1},Jt=(t,e,n,u,r,i,a,l)=>i<t&&a>e||i>t&&a<e?0:i<=t&&l<=n||a>=e&&l>=n?i-t-u:a>e&&l<n||i<t&&l>n?a-e+r:0,Ef=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},Eu=(t,e)=>{var n,u,r,i;if(typeof document>"u")return[];const{scrollMode:a,block:l,inline:s,boundary:c,skipOverflowHiddenElements:o}=e,d=typeof c=="function"?c:T=>T!==c;if(!vu(t))throw new TypeError("Invalid target");const f=document.scrollingElement||document.documentElement,h=[];let m=t;for(;vu(m)&&d(m);){if(m=Ef(m),m===f){h.push(m);break}m!=null&&m===document.body&&_n(m)&&!_n(document.documentElement)||m!=null&&_n(m,o)&&h.push(m)}const A=(u=(n=window.visualViewport)==null?void 0:n.width)!=null?u:innerWidth,E=(i=(r=window.visualViewport)==null?void 0:r.height)!=null?i:innerHeight,{scrollX:F,scrollY:b}=window,{height:y,width:P,top:_,right:j,bottom:O,left:g}=t.getBoundingClientRect(),{top:q,right:Y,bottom:ue,left:Ce}=(T=>{const U=window.getComputedStyle(T);return{top:parseFloat(U.scrollMarginTop)||0,right:parseFloat(U.scrollMarginRight)||0,bottom:parseFloat(U.scrollMarginBottom)||0,left:parseFloat(U.scrollMarginLeft)||0}})(t);let z=l==="start"||l==="nearest"?_-q:l==="end"?O+ue:_+y/2-q+ue,$=s==="center"?g+P/2-Ce+Y:s==="end"?j+Y:g-Ce;const _e=[];for(let T=0;T<h.length;T++){const U=h[T],{height:Fe,width:oe,top:Be,right:ke,bottom:pe,left:Ue}=U.getBoundingClientRect();if(a==="if-needed"&&_>=0&&g>=0&&O<=E&&j<=A&&_>=Be&&O<=pe&&g>=Ue&&j<=ke)return _e;const G=getComputedStyle(U),ge=parseInt(G.borderLeftWidth,10),be=parseInt(G.borderTopWidth,10),ze=parseInt(G.borderRightWidth,10),Ge=parseInt(G.borderBottomWidth,10);let Pe=0,Ie=0;const Xe="offsetWidth"in U?U.offsetWidth-U.clientWidth-ge-ze:0,Je="offsetHeight"in U?U.offsetHeight-U.clientHeight-be-Ge:0,Ze="offsetWidth"in U?U.offsetWidth===0?0:oe/U.offsetWidth:0,we="offsetHeight"in U?U.offsetHeight===0?0:Fe/U.offsetHeight:0;if(f===U)Pe=l==="start"?z:l==="end"?z-E:l==="nearest"?Jt(b,b+E,E,be,Ge,b+z,b+z+y,y):z-E/2,Ie=s==="start"?$:s==="center"?$-A/2:s==="end"?$-A:Jt(F,F+A,A,ge,ze,F+$,F+$+P,P),Pe=Math.max(0,Pe+b),Ie=Math.max(0,Ie+F);else{Pe=l==="start"?z-Be-be:l==="end"?z-pe+Ge+Je:l==="nearest"?Jt(Be,pe,Fe,be,Ge+Je,z,z+y,y):z-(Be+Fe/2)+Je/2,Ie=s==="start"?$-Ue-ge:s==="center"?$-(Ue+oe/2)+Xe/2:s==="end"?$-ke+ze+Xe:Jt(Ue,ke,oe,ge,ze+Xe,$,$+P,P);const{scrollLeft:st,scrollTop:At}=U;Pe=we===0?0:Math.max(0,Math.min(At+Pe/we,U.scrollHeight-Fe/we+Je)),Ie=Ze===0?0:Math.max(0,Math.min(st+Ie/Ze,U.scrollWidth-oe/Ze+Xe)),z+=At-Pe,$+=st-Ie}_e.push({el:U,top:Pe,left:Ie})}return _e},Af=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function Ff(t,e){if(!t.isConnected||!(r=>{let i=r;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(t))return;const n=(r=>{const i=window.getComputedStyle(r);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(t);if((r=>typeof r=="object"&&typeof r.behavior=="function")(e))return e.behavior(Eu(t,e));const u=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:r,top:i,left:a}of Eu(t,Af(e))){const l=i-n.top+n.bottom,s=a-n.left+n.right;r.scroll({top:l,left:s,behavior:u})}}const Au=()=>{};function bf(t,e=0,n={}){let u=!1,r=null,i=null;const a=n.before||Au,l=n.after||Au;function s(){return r!==null?(clearTimeout(r),r=null,!0):!1}function c(){s()&&(i=null),u=!1}function o(){i!==null&&(i(),i=null),c()}const d=function(...h){const m=this;function A(){t.apply(m,h),l()}u||(u=!0,a()),i=A,s(),r=setTimeout(A,e)};return d.cancel=c,d.flush=o,d}function wf(t){let e,n,u,r,i,a,l;n=new Fi({props:{node:t[6],selection:t[7],decorations:t[5]}});let s=[t[28],{role:u=t[4].readOnly?void 0:"textbox"},{spellcheck:t[1]},{autocorrect:t[2]},{autocapitalize:t[3]},{"data-svelte-editor":""},{"data-slate-node":"value"},{contenteditable:r=!t[4].readOnly}],c={};for(let o=0;o<s.length;o+=1)c=_t(c,s[o]);return{c(){e=te("div"),ae(n.$$.fragment),this.h()},l(o){e=ne(o,"DIV",{role:!0,spellcheck:!0,autocorrect:!0,autocapitalize:!0,"data-svelte-editor":!0,"data-slate-node":!0,contenteditable:!0});var d=fe(e);Ae(n.$$.fragment,d),d.forEach(S),this.h()},h(){sr(e,c),xe(e,"svelte-e8cjio",!0)},m(o,d){W(o,e,d),se(n,e,null),t[40](e),i=!0,a||(l=[ye(e,"beforeinput",t[10]),ye(e,"keydown",t[12]),ye(e,"keyup",t[13]),ye(e,"keypress",t[14]),ye(e,"input",t[11]),ye(e,"focus",t[15]),ye(e,"blur",t[16]),ye(e,"click",t[17]),ye(e,"compositionend",t[18]),ye(e,"compositionupdate",t[19]),ye(e,"compositionstart",t[20]),ye(e,"paste",t[21]),ye(e,"copy",t[22]),ye(e,"cut",t[23]),ye(e,"dragover",t[24]),ye(e,"dragstart",t[25]),ye(e,"drop",t[26]),ye(e,"dragend",t[27])],a=!0)},p(o,d){const f={};d[0]&64&&(f.node=o[6]),d[0]&128&&(f.selection=o[7]),d[0]&32&&(f.decorations=o[5]),n.$set(f),sr(e,c=Iu(s,[d[0]&268435456&&o[28],(!i||d[0]&16&&u!==(u=o[4].readOnly?void 0:"textbox"))&&{role:u},(!i||d[0]&2)&&{spellcheck:o[1]},(!i||d[0]&4)&&{autocorrect:o[2]},(!i||d[0]&8)&&{autocapitalize:o[3]},{"data-svelte-editor":""},{"data-slate-node":"value"},(!i||d[0]&16&&r!==(r=!o[4].readOnly))&&{contenteditable:r}])),xe(e,"svelte-e8cjio",!0)},i(o){i||(I(n.$$.fragment,o),i=!0)},o(o){R(n.$$.fragment,o),i=!1},d(o){o&&S(e),le(n),t[40](null),a=!1,yu(l)}}}const Nt=qe(),bi=qe(),wi=qe();function bt(t,e){return Et(e)&&Jn(t,e)}function Qe(t,e){return Et(e)&&Jn(t,e,{editable:!0})}function Fu(t,e){if(ku.get(t))return!1;{const n=bt(t,e)&&gt(e);return D.isVoid(t,n)}}function pf(t,e){const n=e.startContainer.parentElement,u=n.getBoundingClientRect;n.getBoundingClientRect=e.getBoundingClientRect.bind(e),Ff(n,{scrollMode:"if-needed"}),n.getBoundingClientRect=u}function yf(t,e,n){const u=["Element","Leaf","Placeholder","placeholder","readOnly","autoFocus","decorate","scrollSelectionIntoView","ref","spellcheck","autocorrect","autocapitalize","onKeyDown"];let r=Qt(e,u),i,a,{Element:l=mi}=e,{Leaf:s=So}=e,{Placeholder:c=gi}=e,{placeholder:o=void 0}=e,{readOnly:d=!1}=e,{autoFocus:f=!1}=e,{decorate:h=ci}=e,{scrollSelectionIntoView:m=pf}=e,{ref:A=void 0}=e,{spellcheck:E=!0}=e,{autocorrect:F="true"}=e,{autocapitalize:b="true"}=e,{onKeyDown:y=()=>{}}=e;const P=mo(),_=Le(Nt,l),j=Le(bi,s),O=Le(wi,c),g=et(),q=li();it(t,q,B=>n(6,i=B));const Y=oi(),ue=ho(),Ce=Zn(),z=fi(),$=go();it(t,$,B=>n(7,a=B));const _e=[],T={isComposing:!1,hasInsertPrefixInCompositon:!0,updateSelectionTimeoutId:null,isDraggingInternally:!1,latestElement:null,readOnly:d};let U=[],Fe;function oe(){if(T.isComposing||T.isDraggingInternally||T.updateSelectionTimeoutId)Be();else{const B=kt(g),k=ut(g,g),M=B.getSelection();if(B.activeElement===k?(n(4,T.latestElement=B.activeElement,T),wt.set(g,!0),ue.set(!0)):(wt.delete(g),ue.set(!1)),!M){p.deselect(g);return}const ie=Qe(g,M.anchorNode)||Fu(g,M.anchorNode),K=Qe(g,M.focusNode)||Fu(g,M.focusNode);if(ie&&K){const Q=Lt(g,M,{exactMatch:!1,suppressThrow:!0});if(Q){p.select(g,Q);return}}p.deselect(g)}}const Be=bf(()=>lr().then(oe),0);_u(()=>{const B=Gn(A);return B&&(Sn.set(g,B),B.document.addEventListener("selectionchange",Be)),Zt.set(g,A),$t.set(g,A),Dn.set(A,g),()=>{Zt.delete(g),$t.delete(g),B&&(Sn.delete(g),B.document.removeEventListener("selectionchange",Be))}});function ke(){if(!A)return;const k=kt(g)?.getSelection();if(T.isComposing||!k||!au(g))return;const M=k.type!=="None";if(!g.selection&&!M)return;const ie=Zt.get(g);let K=!1;if(ie.contains(k.anchorNode)&&ie.contains(k.focusNode)&&(K=!0),M&&K&&g.selection){const We=Lt(g,k,{exactMatch:!0,suppressThrow:!0});if(We&&w.equals(We,g.selection))return}if(g.selection&&!fo(g,g.selection)){n(38,g.selection=Lt(g,k,{exactMatch:!1,suppressThrow:!1}),g),$.set(g.selection);return}const Q=g.selection&&K&&un(g,g.selection);Q?(w.isBackward(g.selection)?k.setBaseAndExtent(Q.endContainer,Q.endOffset,Q.startContainer,Q.startOffset):k.setBaseAndExtent(Q.startContainer,Q.startOffset,Q.endContainer,Q.endOffset),m(g,Q)):k.removeAllRanges(),T.updateSelectionTimeoutId&&clearTimeout(T.updateSelectionTimeoutId);let dt=setTimeout(()=>{Q&&qn&&ut(g,g).focus(),Object.assign(T,{updateSelectionTimeoutId:null})});Object.assign(T,{updateSelectionTimeoutId:dt})}Ui(()=>lr().then(ke));function pe(B){if(!T.readOnly&&Qe(g,B.target)){const k=B.inputType,M=B.dataTransfer||B.data||void 0;if(Oe(z,"onBeforeInput",B)===!1||B.cancelBubble||k==="insertCompositionText"||k==="deleteCompositionText")return;let ie=!1;if(k==="insertText"&&g.selection&&w.isCollapsed(g.selection)&&B.data&&B.data.length===1&&/[a-z ]/i.test(B.data)&&g.selection.anchor.offset!==0){ie=!0,g.marks&&(ie=!1);const K=D.above(g,{at:g.selection.anchor,match:Q=>D.isInline(g,Q),mode:"highest"});if(K){const[,Q]=K;D.isEnd(g,g.selection.anchor,Q)&&(ie=!1)}}if(ie||B.preventDefault(),!k.startsWith("delete")||k.startsWith("deleteBy")){const[K]=B.getTargetRanges();if(K){const Q=Lt(g,K,{exactMatch:!1,suppressThrow:!1});(!g.selection||!w.equals(g.selection,Q))&&p.select(g,Q)}}if(g.selection&&w.isExpanded(g.selection)&&k.startsWith("delete")){const K=k.endsWith("Backward")?"backward":"forward";D.deleteFragment(g,{direction:K});return}switch(k){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{D.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{D.deleteForward(g);break}case"deleteContentBackward":{D.deleteBackward(g);break}case"deleteEntireSoftLine":{D.deleteBackward(g,{unit:"line"}),D.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{D.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{D.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{D.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{D.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{D.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{D.deleteForward(g,{unit:"word"});break}case"insertLineBreak":{D.insertSoftBreak(g);break}case"insertParagraph":{D.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{g.selection&&w.isExpanded(g.selection)&&D.deleteFragment(g),k==="insertFromComposition"&&T.isComposing&&n(4,T.isComposing=!1,T),M?.constructor.name==="DataTransfer"?g.insertData(M):typeof M=="string"&&(ie?_e.push(()=>D.insertText(g,M)):D.insertText(g,M));break}}}}function Ue(B){for(const k of _e)k();_e.length=0}function G(B){if(!T.readOnly&&!T.isComposing&&Qe(g,B.target)){const k=Oe(z,"onKeyDown",B);if(k===!1||B.cancelBubble)return k;const M=g.children[g.selection!==null?g.selection.focus.path[0]:0],ie=Bi(N.string(M))==="rtl";if(Ee.isRedo(B)){B.preventDefault();const K=g;typeof K.redo=="function"&&K.redo()}else if(Ee.isUndo(B)){B.preventDefault();const K=g;typeof K.undo=="function"&&K.undo()}else if(Ee.isMoveLineBackward(B))B.preventDefault(),p.move(g,{unit:"line",reverse:!0});else if(Ee.isMoveLineForward(B))B.preventDefault(),p.move(g,{unit:"line"});else if(Ee.isExtendLineBackward(B))B.preventDefault(),p.move(g,{unit:"line",edge:"focus",reverse:!0});else if(Ee.isExtendLineForward(B))B.preventDefault(),p.move(g,{unit:"line",edge:"focus"});else if(Ee.isMoveBackward(B))B.preventDefault(),g.selection&&w.isCollapsed(g.selection)?p.move(g,{reverse:!ie}):p.collapse(g,{edge:"start"});else if(Ee.isMoveForward(B))B.preventDefault(),g.selection&&w.isCollapsed(g.selection)?p.move(g,{reverse:ie}):p.collapse(g,{edge:"end"});else if(Ee.isMoveWordBackward(B))B.preventDefault(),g.selection&&w.isExpanded(g.selection)&&p.collapse(g,{edge:"focus"}),p.move(g,{unit:"word",reverse:!ie});else if(Ee.isMoveWordForward(B))B.preventDefault(),g.selection&&w.isExpanded(g.selection)&&p.collapse(g,{edge:"focus"}),p.move(g,{unit:"word",reverse:ie});else if(Eo("mod+a",B))B.preventDefault(),p.select(g,D.range(g,[]));else if(iu){if((Qu||pn)&&g.selection&&(Ee.isDeleteBackward(B)||Ee.isDeleteForward(B))&&w.isCollapsed(g.selection)){const Q=N.parent(g,g.selection.anchor.path);if(L.isElement(Q)&&D.isVoid(g,Q)&&D.isInline(g,Q)){B.preventDefault(),D.deleteBackward(g,{unit:"block"});return}}const K=y(B);if(K===!1||B.cancelBubble)return K}else{Ee.isBold(B)||Ee.isItalic(B)||Ee.isTransposeCharacter(B)?B.preventDefault():Ee.isSplitBlock(B)?(B.preventDefault(),D.insertBreak(g)):Ee.isDeleteBackward(B)?(B.preventDefault(),g.selection&&w.isExpanded(g.selection)?D.deleteFragment(g,{direction:"backward"}):D.deleteBackward(g)):Ee.isDeleteForward(B)?(B.preventDefault(),g.selection&&w.isExpanded(g.selection)?D.deleteFragment(g,{direction:"forward"}):D.deleteForward(g)):Ee.isDeleteLineBackward(B)?(B.preventDefault(),g.selection&&w.isExpanded(g.selection)?D.deleteFragment(g,{direction:"backward"}):D.deleteBackward(g,{unit:"line"})):Ee.isDeleteLineForward(B)?(B.preventDefault(),g.selection&&w.isExpanded(g.selection)?D.deleteFragment(g,{direction:"forward"}):D.deleteForward(g,{unit:"line"})):Ee.isDeleteWordBackward(B)?(B.preventDefault(),g.selection&&w.isExpanded(g.selection)?D.deleteFragment(g,{direction:"backward"}):D.deleteBackward(g,{unit:"word"})):Ee.isDeleteWordForward(B)&&(B.preventDefault(),g.selection&&w.isExpanded(g.selection)?D.deleteFragment(g,{direction:"forward"}):D.deleteForward(g,{unit:"word"}));const K=y(B);return K===!1||B.cancelBubble?K:Oe(z,"onKeyDown",B)}}}function ge(B){return Oe(z,"onKeyUp",B)}function be(B){return Oe(z,"onKeyPress",B)}function ze(B){if(!T.readOnly&&!T.updateSelectionTimeoutId&&Qe(g,B.target)){const k=ut(g,g),M=kt(g);if(n(4,T.latestElement=M.activeElement,T),qn&&B.target!==k){k.focus();return}return wt.set(g,!0),ue.set(!0),Oe(z,"onFocus",B)}}function Ge(B){if(T.readOnly||T.updateSelectionTimeoutId||!Qe(g,B.target))return;const k=kt(g);if(T.latestElement===k.activeElement)return;const M=B.relatedTarget,ie=ut(g,g);if(M!==ie&&!(nt(M)&&M.hasAttribute("data-slate-spacer"))){if(M!=null&&Et(M)&&Jn(g,M)){const K=gt(M);if(L.isElement(K)&&!g.isVoid(K))return}return pn&&k.getSelection()?.removeAllRanges(),wt.delete(g),ue.set(!1),Oe(z,"onBlur",B)}}function Pe(B){if(!T.readOnly&&bt(g,B.target)&&Et(B.target)){const k=gt(B.target),M=ot(k);if(D.hasPath(g,M)&&N.get(g,M)===k){const K=D.start(g,M),Q=D.end(g,M),dt=D.void(g,{at:K}),We=D.void(g,{at:Q});if(dt&&We&&v.equals(dt[1],We[1])){const Ft=D.range(g,K);p.select(g,Ft)}}return Oe(z,"onClick",B)}}function Ie(B){if(Qe(g,B.target)){n(4,T.isComposing=!1,T);const k=B.data;if(!pn&&!ao&&!ro&&!so&&k&&D.insertText(g,k),g.selection&&w.isCollapsed(g.selection)){const M=g.selection.anchor.path,ie=N.leaf(g,M);T.hasInsertPrefixInCompositon&&(n(4,T.hasInsertPrefixInCompositon=!1,T),D.withoutNormalizing(g,()=>{const K=ie.text.replace(/^\uFEFF/,"");p.delete(g,{distance:ie.text.length,reverse:!0}),p.insertText(g,K)}))}return Oe(z,"onCompositionEnd",B)}}function Xe(B){if(Qe(g,B.target))return n(4,T.isComposing=!0,T),Oe(z,"onCompositionUpdate",B)}function Je(B){if(Qe(g,B.target)){if(g.selection){if(w.isExpanded(g.selection)){D.deleteFragment(g);return}const k=D.above(g,{match:M=>D.isInline(g,M),mode:"highest"});if(k){const[,M]=k;if(D.isEnd(g,g.selection.anchor,M)){const ie=D.after(g,M);p.setSelection(g,{anchor:ie,focus:ie})}}g.marks&&(n(4,T.hasInsertPrefixInCompositon=!0,T),p.insertNodes(g,{text:"\uFEFF",...g.marks},{select:!0}))}return Oe(z,"onCompositionStart",B)}}function Ze(B){if(!T.readOnly&&Qe(g,B.target))return(!iu||Ql(B))&&(B.preventDefault(),B.clipboardData&&g.insertData(B.clipboardData)),Oe(z,"onPaste",B)}function we(B){if(Qe(g,B.target))return B.preventDefault(),g.setFragmentData(B.clipboardData),Oe(z,"onCopy",B)}function st(B){if(!T.readOnly&&Qe(g,B.target)){if(B.preventDefault(),g.setFragmentData(B.clipboardData),g.selection)if(w.isExpanded(g.selection))D.deleteFragment(g);else{const k=N.parent(g,g.selection.anchor.path);D.isVoid(g,k)&&p.delete(g)}return Oe(z,"onCut",B)}}function At(B){if(bt(g,B.target)){const k=gt(B.target);return D.isVoid(g,k)&&B.preventDefault(),Oe(z,"onDragOver",B)}}function En(B){if(!T.readOnly&&bt(g,B.target)){const k=gt(B.target),M=ot(k);if(D.isVoid(g,k)||D.void(g,{at:M,voids:!0})){const K=D.range(g,M);p.select(g,K)}return n(4,T.isDraggingInternally=!0,T),g.setFragmentData(B.dataTransfer),Oe(z,"onDragStart",B)}}function Ut(B){if(!T.readOnly&&bt(g,B.target)){B.preventDefault();const k=g.selection,M=oo(g,B),ie=B.dataTransfer;return p.select(g,M),T.isDraggingInternally&&(k&&!w.equals(k,M)&&!D.void(g,{at:M,voids:!0})&&p.delete(g,{at:k}),n(4,T.isDraggingInternally=!1,T)),g.insertData(ie),au(g)||lo(g),Oe(z,"onDrop",B)}}function An(B){if(!T.readOnly&&T.isDraggingInternally&&bt(g,B.target))return n(4,T.isDraggingInternally=!1,T),Oe(z,"onDragEnd",B)}function It(B){X[B?"unshift":"push"](()=>{A=B,n(0,A)})}return t.$$set=B=>{e=_t(_t({},e),Tu(B)),n(28,r=Qt(e,u)),"Element"in B&&n(29,l=B.Element),"Leaf"in B&&n(30,s=B.Leaf),"Placeholder"in B&&n(31,c=B.Placeholder),"placeholder"in B&&n(32,o=B.placeholder),"readOnly"in B&&n(33,d=B.readOnly),"autoFocus"in B&&n(34,f=B.autoFocus),"decorate"in B&&n(35,h=B.decorate),"scrollSelectionIntoView"in B&&n(36,m=B.scrollSelectionIntoView),"ref"in B&&n(0,A=B.ref),"spellcheck"in B&&n(1,E=B.spellcheck),"autocorrect"in B&&n(2,F=B.autocorrect),"autocapitalize"in B&&n(3,b=B.autocapitalize),"onKeyDown"in B&&n(37,y=B.onKeyDown)},t.$$.update=()=>{if(t.$$.dirty[0]&1&&P.set(A),t.$$.dirty[0]&536870912&&_.set(l),t.$$.dirty[0]&1073741824&&j.set(s),t.$$.dirty[1]&1&&O.set(c),t.$$.dirty[1]&132&&ku.set(g,d),t.$$.dirty[1]&4&&Y.set(d),t.$$.dirty[1]&4&&n(4,T.readOnly=d,T),t.$$.dirty[1]&16&&Ce.set(h),t.$$.dirty[0]&112|t.$$.dirty[1]&146)if(i.children.length===1&&Array.from(N.texts(i)).length===1&&N.string(i)===""&&!T.isComposing){const B=D.start(g,[]);n(5,U=[...h([g,[]]),{[qt]:!0,placeholder:o,anchor:B,focus:B}])}else U.length&&n(5,U=h([g,[]]));t.$$.dirty[0]&1|t.$$.dirty[1]&264&&Fe!==f&&A&&(f&&A.focus(),n(39,Fe=f))},[A,E,F,b,T,U,i,a,q,$,pe,Ue,G,ge,be,ze,Ge,Pe,Ie,Xe,Je,Ze,we,st,At,En,Ut,An,r,l,s,c,o,d,f,h,m,y,g,Fe,It]}class Of extends J{constructor(e){super(),Z(this,e,yf,wf,fn,{Element:29,Leaf:30,Placeholder:31,placeholder:32,readOnly:33,autoFocus:34,decorate:35,scrollSelectionIntoView:36,ref:0,spellcheck:1,autocorrect:2,autocapitalize:3,onKeyDown:37},null,[-1,-1])}}function bu(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=(e.top+e.bottom)/2;return t.top<=n&&t.bottom>=n}function wu(t,e,n){const u=un(t,e)?.getBoundingClientRect(),r=un(t,n)?.getBoundingClientRect();return bu(u,r)&&bu(r,u)}function _f(t,e){const n=D.range(t,w.end(e)),u=Array.from(D.positions(t,{at:e}));let r=0,i=u.length,a=Math.floor(i/2);if(wu(t,D.range(t,u[r]),n))return D.range(t,u[r],n);if(u.length<2)return D.range(t,u[u.length-1],n);for(;a!==u.length&&a!==r;)wu(t,D.range(t,u[a]),n)?i=a:r=a,a=Math.floor((r+i)/2);return D.range(t,u[i],n)}function vd(t){const e=t,{apply:n,onChange:u,deleteBackward:r}=e;return hn.set(e,new WeakMap),e.deleteBackward=i=>{if(i!=="line")return r(i);if(t.selection&&w.isCollapsed(t.selection)){const a=D.above(t,{match:l=>D.isBlock(t,l),at:t.selection});if(a){const[,l]=a,s=D.range(t,l,t.selection.anchor),c=_f(e,s);w.isCollapsed(c)||p.delete(t,{at:c})}}},e.apply=i=>{const a=[];switch(i.type){case"insert_text":case"remove_text":case"set_node":{for(const[l,s]of D.levels(e,{at:i.path})){const c=mt(l);a.push([s,c])}break}case"insert_node":case"remove_node":case"merge_node":case"split_node":{for(const[l,s]of D.levels(e,{at:v.parent(i.path)})){const c=mt(l);a.push([s,c])}break}case"move_node":{for(const[l,s]of D.levels(e,{at:v.common(v.parent(i.path),v.parent(i.newPath))})){const c=mt(l);a.push([s,c])}break}}n(i);for(const[l,s]of a){const[c]=D.node(e,l);Tn.set(c,s)}},e.setFragmentData=i=>{const{selection:a}=e;if(!a)return;const[l,s]=w.edges(a),c=D.void(e,{at:l.path}),o=D.void(e,{at:s.path});if(w.isCollapsed(a)&&!c)return;const d=un(e,a);if(!d)return;let f=d.cloneContents(),h=f.childNodes[0];if(f.childNodes.forEach(b=>{b.textContent&&b.textContent.trim()!==""&&(h=b)}),o){const[b]=o,y=d.cloneRange(),P=ut(e,b);y.setEndAfter(P),f=y.cloneContents()}if(c&&(h=f.querySelector("[data-slate-spacer]")),Array.from(f.querySelectorAll("[data-slate-zero-width]")).forEach(b=>{const y=b.getAttribute("data-slate-zero-width")==="n";b.textContent=y?`
`:""}),Xu(h)){const b=document.createElement("span");b.style.whiteSpace="pre",b.appendChild(h),f.appendChild(b),h=b}const m=e.getFragment(),A=JSON.stringify(m),E=window.btoa(encodeURIComponent(A));h.setAttribute("data-slate-fragment",E),i.setData("application/x-slate-fragment",E);const F=document.createElement("div");return F.appendChild(f),F.setAttribute("hidden","true"),document.body.appendChild(F),i.setData("text/html",F.innerHTML),i.setData("text/plain",Zu(F)),document.body.removeChild(F),i},e.insertData=i=>{e.insertFragmentData(i)||e.insertTextData(i)},e.insertFragmentData=i=>{const a=i.getData("application/x-slate-fragment")||no(i);if(a){const l=decodeURIComponent(window.atob(a)),s=JSON.parse(l);return e.insertFragment(s),!0}return!1},e.insertTextData=i=>{const a=i.getData("text/plain");if(a){const l=a.split(/\r\n|\r|\n/);let s=!1;for(const c of l)s&&p.splitNodes(e,{always:!0}),e.insertText(c),s=!0;return!0}return!1},e.onChange=()=>{const i=In.get(e);i&&i(),u()},e.hasOwnContext=()=>!0,e}var Pf={isHistory(t){return Ne(t)&&Array.isArray(t.redos)&&Array.isArray(t.undos)&&(t.redos.length===0||lt.isOperationList(t.redos[0].operations))&&(t.undos.length===0||lt.isOperationList(t.undos[0].operations))}},Pn=new WeakMap,Nn=new WeakMap,yt={isHistoryEditor(t){return Pf.isHistory(t.history)&&D.isEditor(t)},isMerging(t){return Nn.get(t)},isSaving(t){return Pn.get(t)},redo(t){t.redo()},undo(t){t.undo()},withoutMerging(t,e){var n=yt.isMerging(t);Nn.set(t,!1),e(),Nn.set(t,n)},withoutSaving(t,e){var n=yt.isSaving(t);Pn.set(t,!1),e(),Pn.set(t,n)}},Bd=t=>{var e=t,{apply:n}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:u}=e,{redos:r}=u;if(r.length>0){var i=r[r.length-1];i.selectionBefore&&p.setSelection(e,i.selectionBefore),yt.withoutSaving(e,()=>{D.withoutNormalizing(e,()=>{for(var a of i.operations)e.apply(a)})}),u.redos.pop(),e.writeHistory("undos",i)}},e.undo=()=>{var{history:u}=e,{undos:r}=u;if(r.length>0){var i=r[r.length-1];yt.withoutSaving(e,()=>{D.withoutNormalizing(e,()=>{var a=i.operations.map(lt.inverse).reverse();for(var l of a)e.apply(l);i.selectionBefore&&p.setSelection(e,i.selectionBefore)})}),e.writeHistory("redos",i),u.undos.pop()}},e.apply=u=>{var{operations:r,history:i}=e,{undos:a}=i,l=a[a.length-1],s=l&&l.operations[l.operations.length-1],c=yt.isSaving(e),o=yt.isMerging(e);if(c==null&&(c=Sf(u)),c){if(o==null&&(l==null?o=!1:r.length!==0?o=!0:o=Nf(u,s)),l&&o)l.operations.push(u);else{var d={operations:[u],selectionBefore:e.selection};e.writeHistory("undos",d)}for(;a.length>100;)a.shift();i.redos=[]}n(u)},e.writeHistory=(u,r)=>{e.history[u].push(r)},e},Nf=(t,e)=>!!(e&&t.type==="insert_text"&&e.type==="insert_text"&&t.offset===e.offset+e.text.length&&v.equals(t.path,e.path)||e&&t.type==="remove_text"&&e.type==="remove_text"&&t.offset+t.text.length===e.offset&&v.equals(t.path,e.path)),Sf=(t,e)=>t.type!=="set_selection";function Tf(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("p"),r&&r.c(),this.h()},l(i){e=ne(i,"P",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-fghobi")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const ct="paragraph";function If(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;function d(f){X[f?"unshift":"push"](()=>{c=f,n(0,c)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,c=f.ref),"dir"in f&&n(4,o=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[c,a,l,s,o,i,r,u,d]}class Rf extends J{constructor(e){super(),Z(this,e,If,Tf,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function jf(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("blockquote"),r&&r.c(),this.h()},l(i){e=ne(i,"BLOCKQUOTE",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-ltm0ff")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const pi="block-quote";function kf(t){return t.type===pi}function Lf(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;const d=et();Bn("onKeyDown",h=>{if(h.key==="Enter"&&h.shiftKey){const[m]=D.nodes(d,{match:kf});if(m){h.preventDefault(),h.stopPropagation();const[A,[E]]=m,F=[E+1];p.insertNodes(d,{type:ct,children:[{text:""}]},{at:F}),p.select(d,F)}}});function f(h){X[h?"unshift":"push"](()=>{c=h,n(0,c)})}return t.$$set=h=>{"element"in h&&n(5,i=h.element),"isInline"in h&&n(1,a=h.isInline),"isVoid"in h&&n(2,l=h.isVoid),"contenteditable"in h&&n(3,s=h.contenteditable),"ref"in h&&n(0,c=h.ref),"dir"in h&&n(4,o=h.dir),"$$scope"in h&&n(6,r=h.$$scope)},[c,a,l,s,o,i,r,u,f]}class Vf extends J{constructor(e){super(),Z(this,e,Lf,jf,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Mf(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("h1"),r&&r.c(),this.h()},l(i){e=ne(i,"H1",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1h1n77z")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const qf="heading1";function zf(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;function d(f){X[f?"unshift":"push"](()=>{c=f,n(0,c)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,c=f.ref),"dir"in f&&n(4,o=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[c,a,l,s,o,i,r,u,d]}class Wf extends J{constructor(e){super(),Z(this,e,zf,Mf,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Hf(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("h2"),r&&r.c(),this.h()},l(i){e=ne(i,"H2",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1h1nvmq")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const Kf="heading2";function Yf(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;function d(f){X[f?"unshift":"push"](()=>{c=f,n(0,c)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,c=f.ref),"dir"in f&&n(4,o=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[c,a,l,s,o,i,r,u,d]}class Uf extends J{constructor(e){super(),Z(this,e,Yf,Hf,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Gf(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("h3"),r&&r.c(),this.h()},l(i){e=ne(i,"H3",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1h1o8al")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const Xf="heading3";function Jf(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;function d(f){X[f?"unshift":"push"](()=>{c=f,n(0,c)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,c=f.ref),"dir"in f&&n(4,o=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[c,a,l,s,o,i,r,u,d]}class Zf extends J{constructor(e){super(),Z(this,e,Jf,Gf,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Qf(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("h4"),r&&r.c(),this.h()},l(i){e=ne(i,"H4",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1h1p2nc")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const xf="heading4";function $f(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;function d(f){X[f?"unshift":"push"](()=>{c=f,n(0,c)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,c=f.ref),"dir"in f&&n(4,o=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[c,a,l,s,o,i,r,u,d]}class ec extends J{constructor(e){super(),Z(this,e,$f,Qf,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function tc(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("h5"),r&&r.c(),this.h()},l(i){e=ne(i,"H5",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1h1pr63")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const nc="heading5";function rc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;function d(f){X[f?"unshift":"push"](()=>{c=f,n(0,c)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,c=f.ref),"dir"in f&&n(4,o=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[c,a,l,s,o,i,r,u,d]}class uc extends J{constructor(e){super(),Z(this,e,rc,tc,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function ic(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("h6"),r&&r.c(),this.h()},l(i){e=ne(i,"H6",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1h1qfla")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const ac="heading6";function sc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;function d(f){X[f?"unshift":"push"](()=>{c=f,n(0,c)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,c=f.ref),"dir"in f&&n(4,o=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[c,a,l,s,o,i,r,u,d]}class lc extends J{constructor(e){super(),Z(this,e,sc,ic,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function oc(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("li"),r&&r.c(),this.h()},l(i){e=ne(i,"LI",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1h0582b")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const $n="list-item";function fc(t){return t.type===$n}function cc(t){const{deleteBackward:e}=t;return t.deleteBackward=n=>{if(t.selection&&w.isCollapsed(t.selection)){const[u]=Array.from(D.nodes(t,{match:r=>fc(r)&&D.isEmpty(t,r),at:t.selection}));if(u){const[r,i]=u,[a,l]=D.parent(t,i);if(a.children[a.children.length-1]===r){l[l.length-1]+=1,p.removeNodes(t,{at:i}),p.insertNodes(t,{type:ct,children:[{text:""}]},{at:l}),p.setSelection(t,{anchor:{path:[...l,0],offset:0},focus:{path:[...l,0],offset:0}});return}}}e(n)},t}function dc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;function d(f){X[f?"unshift":"push"](()=>{c=f,n(0,c)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,c=f.ref),"dir"in f&&n(4,o=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[c,a,l,s,o,i,r,u,d]}class Dc extends J{constructor(e){super(),Z(this,e,dc,oc,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function hc(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("ul"),r&&r.c(),this.h()},l(i){e=ne(i,"UL",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-18dokwl")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const er="numbered-list";function gc(t){return t.type===er}function mc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;const d=et();Bn("onKeyDown",h=>{if(h.key==="Enter"&&h.shiftKey){const[m]=D.nodes(d,{match:gc});if(m){h.preventDefault(),h.stopPropagation();const[A,[E]]=m,F=[E+1];p.insertNodes(d,{type:ct,children:[{text:""}]},{at:F}),p.select(d,F)}}});function f(h){X[h?"unshift":"push"](()=>{c=h,n(0,c)})}return t.$$set=h=>{"element"in h&&n(5,i=h.element),"isInline"in h&&n(1,a=h.isInline),"isVoid"in h&&n(2,l=h.isVoid),"contenteditable"in h&&n(3,s=h.contenteditable),"ref"in h&&n(0,c=h.ref),"dir"in h&&n(4,o=h.dir),"$$scope"in h&&n(6,r=h.$$scope)},[c,a,l,s,o,i,r,u,f]}class Cc extends J{constructor(e){super(),Z(this,e,mc,hc,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function vc(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("ol"),r&&r.c(),this.h()},l(i){e=ne(i,"OL",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-6txpqf")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const tr="bulleted-list";function Bc(t){return t.type===tr}function Ec(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;const d=et();Bn("onKeyDown",h=>{if(h.key==="Enter"&&h.shiftKey){const[m]=D.nodes(d,{match:Bc});if(m){h.preventDefault(),h.stopPropagation();const[A,[E]]=m,F=[E+1];p.insertNodes(d,{type:ct,children:[{text:""}]},{at:F}),p.select(d,F)}}});function f(h){X[h?"unshift":"push"](()=>{c=h,n(0,c)})}return t.$$set=h=>{"element"in h&&n(5,i=h.element),"isInline"in h&&n(1,a=h.isInline),"isVoid"in h&&n(2,l=h.isVoid),"contenteditable"in h&&n(3,s=h.contenteditable),"ref"in h&&n(0,c=h.ref),"dir"in h&&n(4,o=h.dir),"$$scope"in h&&n(6,r=h.$$scope)},[c,a,l,s,o,i,r,u,f]}class Ac extends J{constructor(e){super(),Z(this,e,Ec,vc,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Fc(t,e){if(t.selection){const n=D.marks(t);return n?n[e]===!0:!1}else return!1}function Ed(t,e){Fc(t,e)?D.removeMark(t,e):D.addMark(t,e,!0)}function yi(t,e){if(t.selection){const[n]=Array.from(D.nodes(t,{at:D.unhangRange(t,t.selection),match:u=>!D.isEditor(u)&&L.isElement(u)&&u.type===e}));return!!n}else return!1}const pu=[er,tr];function Ad(t,e){const n=yi(t,e),u=pu.includes(e);p.unwrapNodes(t,{match:i=>!D.isEditor(i)&&L.isElement(i)&&pu.includes(i.type),split:!0});const r={type:n?ct:u?$n:e};if(p.setNodes(t,r),!n&&u){const i={type:e,children:[]};p.wrapNodes(t,i)}}function Fd(t){const e=window.getSelection();if(!e)return;e.removeAllRanges();const n=document.createRange();n.selectNodeContents(t),e.addRange(n)}function bc(t){let e,n,u,r,i,a,l,s,c;const o=t[8].default,d=ce(o,t,t[7],null);return{c(){e=te("div"),n=te("span"),u=te("input"),a=te("span"),d&&d.c(),this.h()},l(f){e=ne(f,"DIV",{class:!0,"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0});var h=fe(e);n=ne(h,"SPAN",{class:!0,contenteditable:!0});var m=fe(n);u=ne(m,"INPUT",{type:!0}),m.forEach(S),a=ne(h,"SPAN",{class:!0,contenteditable:!0});var A=fe(a);d&&d.l(A),A.forEach(S),h.forEach(S),this.h()},h(){C(u,"type","checkbox"),u.checked=r=t[1].checked,u.disabled=i=!t[4],C(n,"class","checkbox svelte-bf42sr"),C(n,"contenteditable",!1),C(a,"class","content svelte-bf42sr"),C(a,"contenteditable",t[4]),xe(a,"checked",t[1].checked),C(e,"class","check-list-item svelte-bf42sr"),C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[2]),C(e,"data-slate-void",t[3]),C(e,"dir",t[5]),C(e,"contenteditable",t[4])},m(f,h){W(f,e,h),Vt(e,n),Vt(n,u),Vt(e,a),d&&d.m(a,null),t[9](e),l=!0,s||(c=ye(u,"change",t[6]),s=!0)},p(f,[h]){(!l||h&2&&r!==(r=f[1].checked))&&(u.checked=r),(!l||h&16&&i!==(i=!f[4]))&&(u.disabled=i),d&&d.p&&(!l||h&128)&&de(d,o,f,f[7],l?he(o,f[7],h,null):De(f[7]),null),(!l||h&16)&&C(a,"contenteditable",f[4]),(!l||h&2)&&xe(a,"checked",f[1].checked),(!l||h&4)&&C(e,"data-slate-inline",f[2]),(!l||h&8)&&C(e,"data-slate-void",f[3]),(!l||h&32)&&C(e,"dir",f[5]),(!l||h&16)&&C(e,"contenteditable",f[4])},i(f){l||(I(d,f),l=!0)},o(f){R(d,f),l=!1},d(f){f&&S(e),d&&d.d(f),t[9](null),s=!1,c()}}}const an="check-list-item";function Oi(t){return t.type===an}function wc(t){const{deleteBackward:e}=t;return t.deleteBackward=n=>{if(t.selection&&w.isCollapsed(t.selection)){const[u]=Array.from(D.nodes(t,{match:r=>Oi(r)&&D.isEmpty(t,r),at:t.selection}));if(u){const[r,i]=u;p.setNodes(t,{type:ct},{at:i});return}}e(n)},t}function bd(t){if(yi(t,an))p.unwrapNodes(t,{match:Oi,split:!0});else{const n={type:an,checked:!1,children:[]};p.wrapNodes(t,n)}}function pc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;const d=et();function f(m){s&&p.setNodes(d,{checked:m.target.checked},{at:ot(i)})}function h(m){X[m?"unshift":"push"](()=>{c=m,n(0,c)})}return t.$$set=m=>{"element"in m&&n(1,i=m.element),"isInline"in m&&n(2,a=m.isInline),"isVoid"in m&&n(3,l=m.isVoid),"contenteditable"in m&&n(4,s=m.contenteditable),"ref"in m&&n(0,c=m.ref),"dir"in m&&n(5,o=m.dir),"$$scope"in m&&n(7,r=m.$$scope)},[c,i,a,l,s,o,f,r,u,h]}class yc extends J{constructor(e){super(),Z(this,e,pc,bc,re,{element:1,isInline:2,isVoid:3,contenteditable:4,ref:0,dir:5})}}function Oc(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("td"),r&&r.c(),this.h()},l(i){e=ne(i,"TD",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-62tis6")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const nr="table-row-data";function rr(t){return t.type===nr}function _c(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;function d(f){X[f?"unshift":"push"](()=>{c=f,n(0,c)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,c=f.ref),"dir"in f&&n(4,o=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[c,a,l,s,o,i,r,u,d]}class Pc extends J{constructor(e){super(),Z(this,e,_c,Oc,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Nc(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("th"),r&&r.c(),this.h()},l(i){e=ne(i,"TH",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-12ex41")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const ur="table-row-header";function sn(t){return t.type===ur}function Sc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;function d(f){X[f?"unshift":"push"](()=>{c=f,n(0,c)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,c=f.ref),"dir"in f&&n(4,o=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[c,a,l,s,o,i,r,u,d]}class Tc extends J{constructor(e){super(),Z(this,e,Sc,Nc,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Ic(t){let e,n,u;function r(a){t[8](a)}let i={element:t[1],isInline:t[2],isVoid:t[3],dir:t[5],contenteditable:t[4],$$slots:{default:[jc]},$$scope:{ctx:t}};return t[0]!==void 0&&(i.ref=t[0]),e=new Tc({props:i}),X.push(()=>Re(e,"ref",r)),{c(){ae(e.$$.fragment)},l(a){Ae(e.$$.fragment,a)},m(a,l){se(e,a,l),u=!0},p(a,l){const s={};l&2&&(s.element=a[1]),l&4&&(s.isInline=a[2]),l&8&&(s.isVoid=a[3]),l&32&&(s.dir=a[5]),l&16&&(s.contenteditable=a[4]),l&512&&(s.$$scope={dirty:l,ctx:a}),!n&&l&1&&(n=!0,s.ref=a[0],$e(()=>n=!1)),e.$set(s)},i(a){u||(I(e.$$.fragment,a),u=!0)},o(a){R(e.$$.fragment,a),u=!1},d(a){le(e,a)}}}function Rc(t){let e,n,u;function r(a){t[7](a)}let i={element:t[1],isInline:t[2],isVoid:t[3],dir:t[5],contenteditable:t[4],$$slots:{default:[kc]},$$scope:{ctx:t}};return t[0]!==void 0&&(i.ref=t[0]),e=new Pc({props:i}),X.push(()=>Re(e,"ref",r)),{c(){ae(e.$$.fragment)},l(a){Ae(e.$$.fragment,a)},m(a,l){se(e,a,l),u=!0},p(a,l){const s={};l&2&&(s.element=a[1]),l&4&&(s.isInline=a[2]),l&8&&(s.isVoid=a[3]),l&32&&(s.dir=a[5]),l&16&&(s.contenteditable=a[4]),l&512&&(s.$$scope={dirty:l,ctx:a}),!n&&l&1&&(n=!0,s.ref=a[0],$e(()=>n=!1)),e.$set(s)},i(a){u||(I(e.$$.fragment,a),u=!0)},o(a){R(e.$$.fragment,a),u=!1},d(a){le(e,a)}}}function jc(t){let e;const n=t[6].default,u=ce(n,t,t[9],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,i){u&&u.p&&(!e||i&512)&&de(u,n,r,r[9],e?he(n,r[9],i,null):De(r[9]),null)},i(r){e||(I(u,r),e=!0)},o(r){R(u,r),e=!1},d(r){u&&u.d(r)}}}function kc(t){let e;const n=t[6].default,u=ce(n,t,t[9],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,i){u&&u.p&&(!e||i&512)&&de(u,n,r,r[9],e?he(n,r[9],i,null):De(r[9]),null)},i(r){e||(I(u,r),e=!0)},o(r){R(u,r),e=!1},d(r){u&&u.d(r)}}}function Lc(t){let e,n,u,r,i,a;const l=[Rc,Ic],s=[];function c(o,d){return d&2&&(e=null),d&2&&(n=null),e==null&&(e=!!rr(o[1])),e?0:(n==null&&(n=!!sn(o[1])),n?1:-1)}return~(u=c(t,-1))&&(r=s[u]=l[u](t)),{c(){r&&r.c(),i=ee()},l(o){r&&r.l(o),i=ee()},m(o,d){~u&&s[u].m(o,d),W(o,i,d),a=!0},p(o,[d]){let f=u;u=c(o,d),u===f?~u&&s[u].p(o,d):(r&&(Se(),R(s[f],1,1,()=>{s[f]=null}),Te()),~u?(r=s[u],r?r.p(o,d):(r=s[u]=l[u](o),r.c()),I(r,1),r.m(i.parentNode,i)):r=null)},i(o){a||(I(r),a=!0)},o(o){R(r),a=!1},d(o){o&&S(i),~u&&s[u].d(o)}}}function Vc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;const d=Me(Ni);ei(Nt,d);function f(m){c=m,n(0,c)}function h(m){c=m,n(0,c)}return t.$$set=m=>{"element"in m&&n(1,i=m.element),"isInline"in m&&n(2,a=m.isInline),"isVoid"in m&&n(3,l=m.isVoid),"contenteditable"in m&&n(4,s=m.contenteditable),"ref"in m&&n(0,c=m.ref),"dir"in m&&n(5,o=m.dir),"$$scope"in m&&n(9,r=m.$$scope)},[c,i,a,l,s,o,u,f,h,r]}class Mc extends J{constructor(e){super(),Z(this,e,Vc,Lc,re,{element:1,isInline:2,isVoid:3,contenteditable:4,ref:0,dir:5})}}function qc(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("tr"),r&&r.c(),this.h()},l(i){e=ne(i,"TR",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-62pa10")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const _i="table-row";function zc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:c=void 0}=e,{dir:o=void 0}=e;Le(Nt,Mc);function d(f){X[f?"unshift":"push"](()=>{c=f,n(0,c)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,c=f.ref),"dir"in f&&n(4,o=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[c,a,l,s,o,i,r,u,d]}class Wc extends J{constructor(e){super(),Z(this,e,zc,qc,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Hc(t){let e,n;const u=t[7].default,r=ce(u,t,t[6],null);return{c(){e=te("table"),r&&r.c(),this.h()},l(i){e=ne(i,"TABLE",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-13zewjb")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&de(r,u,i,i[6],n?he(u,i[6],a,null):De(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),t[8](null)}}}const ir="table";function Pi(t){return t.type===ir}function Kc(t){const{deleteBackward:e}=t;return t.deleteBackward=(...n)=>{if(t.selection&&w.isCollapsed(t.selection)){const[u]=D.nodes(t,{match:rr});if(u){const[i,a]=u;if(a[0]===t.selection.focus.path[0]&&a[1]===t.selection.focus.path[1]&&t.selection.focus.path[2]===0&&D.isEmpty(t,i)){p.delete(t,{at:[a[0],a[1]]});return}}const[r]=D.nodes(t,{match:sn});if(r){const[i]=r;if(D.isEmpty(t,i)){const[a]=D.nodes(t,{match:Pi}),[l,[s]]=a,c=l;for(let o=c.children.length-1;o>=0;o--){const d=c.children[o];p.delete(t,{at:[s,o,d.children.length-1]})}return}}}e(...n)},t}function wd(t){const e={type:ir,children:[{type:_i,children:[{type:ur,children:[{text:""}]}]}]};p.insertNodes(t,e)}const Ni=qe();function Yc(t){return[...new Array(t)].map(()=>({type:nr,children:[{text:""}]}))}function Uc(t,e,n){let{$$slots:u={},$$scope:r}=e;const i=et();let{element:a}=e,{isInline:l}=e,{isVoid:s}=e,{contenteditable:c}=e,{ref:o=void 0}=e,{dir:d=void 0}=e;ei(Ni,Me(Nt)),Le(Nt,Wc),Bn("onKeyDown",h=>{if(i.selection){if(h.key==="Enter"){const[m]=D.nodes(i,{match:Pi});if(m){h.preventDefault(),h.stopPropagation();const[A,[E]]=m,F=A;if(h.shiftKey){const[b]=D.nodes(i,{match:sn});if(b)F.children.forEach((y,P)=>{p.insertNodes(i,{type:P!==0?nr:ur,children:[{text:""}]},{at:[E,P,y.children.length]})}),p.select(i,[E,0,F.children[0].children.length]);else{const y=[E+1];p.insertNodes(i,{type:ct,children:[{text:""}]},{at:y}),p.select(i,y)}}else{const b=[E,i.selection.focus.path[1]+1];p.insertNodes(i,{type:_i,children:Yc(F.children[0].children.length)},{at:b}),p.select(i,b)}}}else if(h.key==="Tab"){const[m]=D.nodes(i,{match:A=>rr(A)||sn(A)});if(m){h.preventDefault(),h.stopPropagation();const[A,E]=m,[F,b]=D.parent(i,E),[y,P]=D.parent(i,b),_=y,j=_.children.length,O=_.children[0].children.length,g=(E[2]+1)%O,q=(E[1]+(g===0?1:0))%j;p.select(i,[E[0],q,g])}}}});function f(h){X[h?"unshift":"push"](()=>{o=h,n(0,o)})}return t.$$set=h=>{"element"in h&&n(5,a=h.element),"isInline"in h&&n(1,l=h.isInline),"isVoid"in h&&n(2,s=h.isVoid),"contenteditable"in h&&n(3,c=h.contenteditable),"ref"in h&&n(0,o=h.ref),"dir"in h&&n(4,d=h.dir),"$$scope"in h&&n(6,r=h.$$scope)},[o,l,s,c,d,a,r,u,f]}class Gc extends J{constructor(e){super(),Z(this,e,Uc,Hc,re,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}const Xc={[pi]:Vf,[ct]:Rf,[qf]:Wf,[Kf]:Uf,[Xf]:Zf,[xf]:ec,[nc]:uc,[ac]:lc,[$n]:{component:Dc,withFn:cc},[er]:Cc,[tr]:Ac,[an]:{component:yc,withFn:wc},[ir]:{component:Gc,withFn:Kc}};function Jc(t){let e;const n=t[7].default,u=ce(n,t,t[11],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,i){u&&u.p&&(!e||i&2048)&&de(u,n,r,r[11],e?he(n,r[11],i,null):De(r[11]),null)},i(r){e||(I(u,r),e=!0)},o(r){R(u,r),e=!1},d(r){u&&u.d(r)}}}function Zc(t){let e,n,u,r,i;function a(o){t[8](o)}function l(o){t[9](o)}function s(o){t[10](o)}let c={$$slots:{default:[Jc]},$$scope:{ctx:t}};return t[0]!==void 0&&(c.editor=t[0]),t[1]!==void 0&&(c.value=t[1]),t[2]!==void 0&&(c.selection=t[2]),e=new vo({props:c}),X.push(()=>Re(e,"editor",a)),X.push(()=>Re(e,"value",l)),X.push(()=>Re(e,"selection",s)),e.$on("value",t[3]),e.$on("selection",t[4]),{c(){ae(e.$$.fragment)},l(o){Ae(e.$$.fragment,o)},m(o,d){se(e,o,d),i=!0},p(o,[d]){const f={};d&2048&&(f.$$scope={dirty:d,ctx:o}),!n&&d&1&&(n=!0,f.editor=o[0],$e(()=>n=!1)),!u&&d&2&&(u=!0,f.value=o[1],$e(()=>u=!1)),!r&&d&4&&(r=!0,f.selection=o[2],$e(()=>r=!1)),e.$set(f)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){R(e.$$.fragment,o),i=!1},d(o){le(e,o)}}}const Si=qe();function Qc(){return Me(Si)}function Ti(t){return"component"in t}function xc(t,e){return Object.values(e).reduce((n,u)=>Ti(u)&&u.withFn?u.withFn(n,u.options):n,t)}function $c(t){return Object.entries(t).reduce((e,[n,u])=>(e[n]=Ti(u)?u.component:u,e),{})}function ed(t,e,n){let u,{$$slots:r={},$$scope:i}=e,{plugins:a=Xc}=e,{editor:l}=e,{value:s=l.children}=e,{selection:c=l.selection}=e;const o=Nu();function d(b){o("value",b.detail)}function f(b){o("selection",b.detail)}let h=l;const m=Le(Si,u);function A(b){l=b,n(0,l),n(13,h),n(5,a)}function E(b){s=b,n(1,s)}function F(b){c=b,n(2,c)}return t.$$set=b=>{"plugins"in b&&n(5,a=b.plugins),"editor"in b&&n(0,l=b.editor),"value"in b&&n(1,s=b.value),"selection"in b&&n(2,c=b.selection),"$$scope"in b&&n(11,i=b.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(0,l=xc(h,a)),t.$$.dirty&32&&n(6,u=$c(a)),t.$$.dirty&64&&m.set(u)},[l,s,c,d,f,a,u,r,A,E,F,i]}class pd extends J{constructor(e){super(),Z(this,e,ed,Zc,re,{plugins:5,editor:0,value:1,selection:2})}}function td(t){let e;const n=t[10].default,u=ce(n,t,t[13],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,i){u&&u.p&&(!e||i&8192)&&de(u,n,r,r[13],e?he(n,r[13],i,null):De(r[13]),null)},i(r){e||(I(u,r),e=!0)},o(r){R(u,r),e=!1},d(r){u&&u.d(r)}}}function nd(t){let e,n,u,r,i;function a(o){t[11](o)}function l(o){t[12](o)}var s=t[6];function c(o,d){let f={element:o[2],isInline:o[3],isVoid:o[4],contenteditable:o[5],$$slots:{default:[td]},$$scope:{ctx:o}};return o[0]!==void 0&&(f.ref=o[0]),o[1]!==void 0&&(f.dir=o[1]),{props:f}}return s&&(e=je(s,c(t)),X.push(()=>Re(e,"ref",a)),X.push(()=>Re(e,"dir",l))),{c(){e&&ae(e.$$.fragment),r=ee()},l(o){e&&Ae(e.$$.fragment,o),r=ee()},m(o,d){e&&se(e,o,d),W(o,r,d),i=!0},p(o,[d]){if(d&64&&s!==(s=o[6])){if(e){Se();const f=e;R(f.$$.fragment,1,0,()=>{le(f,1)}),Te()}s?(e=je(s,c(o)),X.push(()=>Re(e,"ref",a)),X.push(()=>Re(e,"dir",l)),ae(e.$$.fragment),I(e.$$.fragment,1),se(e,r.parentNode,r)):e=null}else if(s){const f={};d&4&&(f.element=o[2]),d&8&&(f.isInline=o[3]),d&16&&(f.isVoid=o[4]),d&32&&(f.contenteditable=o[5]),d&8192&&(f.$$scope={dirty:d,ctx:o}),!n&&d&1&&(n=!0,f.ref=o[0],$e(()=>n=!1)),!u&&d&2&&(u=!0,f.dir=o[1],$e(()=>u=!1)),e.$set(f)}},i(o){i||(e&&I(e.$$.fragment,o),i=!0)},o(o){e&&R(e.$$.fragment,o),i=!1},d(o){o&&S(r),e&&le(e,o)}}}function rd(t,e,n){let u,r,i,{$$slots:a={},$$scope:l}=e,{element:s}=e,{isInline:c}=e,{isVoid:o}=e,{contenteditable:d}=e,{ref:f=void 0}=e,{dir:h=void 0}=e;const m=Qc();it(t,m,F=>n(9,i=F));function A(F){f=F,n(0,f)}function E(F){h=F,n(1,h)}return t.$$set=F=>{"element"in F&&n(2,s=F.element),"isInline"in F&&n(3,c=F.isInline),"isVoid"in F&&n(4,o=F.isVoid),"contenteditable"in F&&n(5,d=F.contenteditable),"ref"in F&&n(0,f=F.ref),"dir"in F&&n(1,h=F.dir),"$$scope"in F&&n(13,l=F.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&n(8,u=i),t.$$.dirty&260&&n(6,r=u[s.type]||mi)},[f,h,s,c,o,d,r,m,u,i,a,A,E,l]}class ud extends J{constructor(e){super(),Z(this,e,rd,nd,re,{element:2,isInline:3,isVoid:4,contenteditable:5,ref:0,dir:1})}}function id(t){let e,n;const u=t[2].default,r=ce(u,t,t[1],null);return{c(){e=te("span"),r&&r.c(),this.h()},l(i){e=ne(i,"SPAN",{"data-slate-leaf":!0,class:!0});var a=fe(e);r&&r.l(a),a.forEach(S),this.h()},h(){C(e,"data-slate-leaf","true"),C(e,"class","svelte-186l2b2"),xe(e,"bold",t[0].bold),xe(e,"italic",t[0].italic),xe(e,"code",t[0].code),xe(e,"underline",t[0].underline)},m(i,a){W(i,e,a),r&&r.m(e,null),n=!0},p(i,[a]){r&&r.p&&(!n||a&2)&&de(r,u,i,i[1],n?he(u,i[1],a,null):De(i[1]),null),(!n||a&1)&&xe(e,"bold",i[0].bold),(!n||a&1)&&xe(e,"italic",i[0].italic),(!n||a&1)&&xe(e,"code",i[0].code),(!n||a&1)&&xe(e,"underline",i[0].underline)},i(i){n||(I(r,i),n=!0)},o(i){R(r,i),n=!1},d(i){i&&S(e),r&&r.d(i)}}}function ad(t,e,n){let{$$slots:u={},$$scope:r}=e,{leaf:i}=e;return t.$$set=a=>{"leaf"in a&&n(0,i=a.leaf),"$$scope"in a&&n(1,r=a.$$scope)},[i,r,u]}class sd extends J{constructor(e){super(),Z(this,e,ad,id,re,{leaf:0})}}function ld(t){let e,n,u,r,i;const a=[t[11],{Element:ud},{Leaf:sd},{Placeholder:t[3]},{placeholder:t[4]},{readOnly:t[5]},{autoFocus:t[6]},{spellcheck:t[7]},{autocorrect:t[8]},{autocapitalize:t[9]},{onKeyDown:t[10]}];function l(d){t[12](d)}function s(d){t[13](d)}function c(d){t[14](d)}let o={};for(let d=0;d<a.length;d+=1)o=_t(o,a[d]);return t[2]!==void 0&&(o.ref=t[2]),t[0]!==void 0&&(o.decorate=t[0]),t[1]!==void 0&&(o.scrollSelectionIntoView=t[1]),e=new Of({props:o}),X.push(()=>Re(e,"ref",l)),X.push(()=>Re(e,"decorate",s)),X.push(()=>Re(e,"scrollSelectionIntoView",c)),{c(){ae(e.$$.fragment)},l(d){Ae(e.$$.fragment,d)},m(d,f){se(e,d,f),i=!0},p(d,[f]){const h=f&4088?Iu(a,[f&2048&&Gi(d[11]),a[1],a[2],f&8&&{Placeholder:d[3]},f&16&&{placeholder:d[4]},f&32&&{readOnly:d[5]},f&64&&{autoFocus:d[6]},f&128&&{spellcheck:d[7]},f&256&&{autocorrect:d[8]},f&512&&{autocapitalize:d[9]},f&1024&&{onKeyDown:d[10]}]):{};!n&&f&4&&(n=!0,h.ref=d[2],$e(()=>n=!1)),!u&&f&1&&(u=!0,h.decorate=d[0],$e(()=>u=!1)),!r&&f&2&&(r=!0,h.scrollSelectionIntoView=d[1],$e(()=>r=!1)),e.$set(h)},i(d){i||(I(e.$$.fragment,d),i=!0)},o(d){R(e.$$.fragment,d),i=!1},d(d){le(e,d)}}}function od(t,e,n){const u=["Placeholder","placeholder","readOnly","autoFocus","decorate","scrollSelectionIntoView","ref","spellcheck","autocorrect","autocapitalize","onKeyDown"];let r=Qt(e,u),{Placeholder:i=gi}=e,{placeholder:a=void 0}=e,{readOnly:l=!1}=e,{autoFocus:s=!1}=e,{decorate:c=void 0}=e,{scrollSelectionIntoView:o=void 0}=e,{ref:d=void 0}=e,{spellcheck:f=!0}=e,{autocorrect:h="true"}=e,{autocapitalize:m="true"}=e,{onKeyDown:A=()=>{}}=e;function E(y){d=y,n(2,d)}function F(y){c=y,n(0,c)}function b(y){o=y,n(1,o)}return t.$$set=y=>{e=_t(_t({},e),Tu(y)),n(11,r=Qt(e,u)),"Placeholder"in y&&n(3,i=y.Placeholder),"placeholder"in y&&n(4,a=y.placeholder),"readOnly"in y&&n(5,l=y.readOnly),"autoFocus"in y&&n(6,s=y.autoFocus),"decorate"in y&&n(0,c=y.decorate),"scrollSelectionIntoView"in y&&n(1,o=y.scrollSelectionIntoView),"ref"in y&&n(2,d=y.ref),"spellcheck"in y&&n(7,f=y.spellcheck),"autocorrect"in y&&n(8,h=y.autocorrect),"autocapitalize"in y&&n(9,m=y.autocapitalize),"onKeyDown"in y&&n(10,A=y.onKeyDown)},[c,o,d,i,a,l,s,f,h,m,A,r,E,F,b]}class yd extends J{constructor(e){super(),Z(this,e,od,ld,re,{Placeholder:3,placeholder:4,readOnly:5,autoFocus:6,decorate:0,scrollSelectionIntoView:1,ref:2,spellcheck:7,autocorrect:8,autocapitalize:9,onKeyDown:10})}}export{v as A,Fd as B,wd as C,Xc as D,yd as E,go as F,qf as H,bi as L,N,ct as P,w as R,pd as S,p as T,vd as a,D as b,hd as c,Cd as d,ho as e,oi as f,et as g,ot as h,Eo as i,mt as j,gd as k,xt as l,Le as m,Bn as n,V as o,qe as p,Nt as q,ui as r,li as s,Ed as t,yi as u,bd as v,Bd as w,Fc as x,Ad as y,mo as z};
