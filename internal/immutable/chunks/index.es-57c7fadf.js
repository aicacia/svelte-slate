var Da=Object.defineProperty,da=Object.defineProperties;var Ca=Object.getOwnPropertyDescriptors;var Nt=Object.getOwnPropertySymbols;var Jn=Object.prototype.hasOwnProperty,Qn=Object.prototype.propertyIsEnumerable;var Zn=(e,t,n)=>t in e?Da(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tt=(e,t)=>{for(var n in t||(t={}))Jn.call(t,n)&&Zn(e,n,t[n]);if(Nt)for(var n of Nt(t))Qn.call(t,n)&&Zn(e,n,t[n]);return e},cn=(e,t)=>da(e,Ca(t));var Dn=(e,t)=>{var n={};for(var r in e)Jn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Nt)for(var r of Nt(e))t.indexOf(r)<0&&Qn.call(e,r)&&(n[r]=e[r]);return n};import{r as ha,V as ga,S as Ae,i as Fe,W as We,I as Ot,L as _t,M as kt,N as Pt,q as j,o as I,X as iu,v as ou,t as Yt,h as Gt,g as Z,d as q,e as je,c as Ie,a as ze,b as U,K as lu,j as fu,E as Ct,Y as Ba,O as Ye,l as X,n as ve,p as me,w as te,x as Ce,y as ne,B as re,Z as va,_ as ma,s as Xt,C as pn,$ as $n,a0 as er,T as ge,z as Ea,U as Aa,a1 as tr,a2 as Qe,u as Fa,D as nr,F as pa,a3 as wa,Q as cu,P as Mt,a4 as Du,a5 as du}from"./index-787bdfcb.js";import{w as ya}from"./index-c1002126.js";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function rr(e){return Object.prototype.toString.call(e)==="[object Object]"}function de(e){var t,n;return rr(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(rr(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function Ne(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(u){return"'"+u+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function rt(e){return!!e&&!!e[ye]}function ut(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===Na}(e)||Array.isArray(e)||!!e[cr]||!!e.constructor[cr]||Nn(e)||Tn(e))}function pt(e,t,n){n===void 0&&(n=!1),gt(e)===0?(n?Object.keys:Mn)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,u){return t(u,r,e)})}function gt(e){var t=e[ye];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Nn(e)?2:Tn(e)?3:0}function wn(e,t){return gt(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ba(e,t){return gt(e)===2?e.get(t):e[t]}function Cu(e,t,n){var r=gt(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function Oa(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Nn(e){return Sa&&e instanceof Map}function Tn(e){return xa&&e instanceof Set}function et(e){return e.o||e.t}function Rn(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ta(e);delete t[ye];for(var n=Mn(t),r=0;r<n.length;r++){var u=n[r],a=t[u];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[u]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[u]})}return Object.create(Object.getPrototypeOf(e),t)}function jn(e,t){return t===void 0&&(t=!1),In(e)||rt(e)||!ut(e)||(gt(e)>1&&(e.set=e.add=e.clear=e.delete=_a),Object.freeze(e),t&&pt(e,function(n,r){return jn(r,!0)},!0)),e}function _a(){Ne(2)}function In(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function qe(e){var t=Ra[e];return t||Ne(18,e),t}function ur(){return wt}function dn(e,t){t&&(qe("Patches"),e.u=[],e.s=[],e.v=t)}function qt(e){yn(e),e.p.forEach(ka),e.p=null}function yn(e){e===wt&&(wt=e.l)}function ar(e){return wt={p:[],l:wt,h:e,m:!0,_:0}}function ka(e){var t=e[ye];t.i===0||t.i===1?t.j():t.O=!0}function Cn(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||qe("ES5").S(t,e,r),r?(n[ye].P&&(qt(t),Ne(4)),ut(e)&&(e=Wt(t,e),t.l||zt(t,e)),t.u&&qe("Patches").M(n[ye].t,e,t.u,t.s)):e=Wt(t,n,[]),qt(t),t.u&&t.v(t.u,t.s),e!==hu?e:void 0}function Wt(e,t,n){if(In(t))return t;var r=t[ye];if(!r)return pt(t,function(a,s){return sr(e,r,t,a,s,n)},!0),t;if(r.A!==e)return t;if(!r.P)return zt(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var u=r.i===4||r.i===5?r.o=Rn(r.k):r.o;pt(r.i===3?new Set(u):u,function(a,s){return sr(e,r,u,a,s,n)}),zt(e,u,!1),n&&e.u&&qe("Patches").R(r,n,e.u,e.s)}return r.o}function sr(e,t,n,r,u,a){if(rt(u)){var s=Wt(e,u,a&&t&&t.i!==3&&!wn(t.D,r)?a.concat(r):void 0);if(Cu(n,r,s),!rt(s))return;e.m=!1}if(ut(u)&&!In(u)){if(!e.h.F&&e._<1)return;Wt(e,u),t&&t.A.l||zt(e,u)}}function zt(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&jn(t,n)}function hn(e,t){var n=e[ye];return(n?et(n):e)[t]}function ir(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function bn(e){e.P||(e.P=!0,e.l&&bn(e.l))}function gn(e){e.o||(e.o=Rn(e.t))}function On(e,t,n){var r=Nn(t)?qe("MapSet").N(t,n):Tn(t)?qe("MapSet").T(t,n):e.g?function(u,a){var s=Array.isArray(u),o={i:s?1:0,A:a?a.A:ur(),P:!1,I:!1,D:{},l:a,t:u,k:null,o:null,j:null,C:!1},i=o,l=_n;s&&(i=[o],l=Et);var c=Proxy.revocable(i,l),D=c.revoke,C=c.proxy;return o.k=C,o.j=D,C}(t,n):qe("ES5").J(t,n);return(n?n.A:ur()).p.push(r),r}function Pa(e){return rt(e)||Ne(22,e),function t(n){if(!ut(n))return n;var r,u=n[ye],a=gt(n);if(u){if(!u.P&&(u.i<4||!qe("ES5").K(u)))return u.t;u.I=!0,r=or(n,a),u.I=!1}else r=or(n,a);return pt(r,function(s,o){u&&ba(u.t,s)===o||Cu(r,s,t(o))}),a===3?new Set(r):r}(e)}function or(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Rn(e)}var lr,wt,Ln=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",Sa=typeof Map!="undefined",xa=typeof Set!="undefined",fr=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",hu=Ln?Symbol.for("immer-nothing"):((lr={})["immer-nothing"]=!0,lr),cr=Ln?Symbol.for("immer-draftable"):"__$immer_draftable",ye=Ln?Symbol.for("immer-state"):"__$immer_state",Na=""+Object.prototype.constructor,Mn=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ta=Object.getOwnPropertyDescriptors||function(e){var t={};return Mn(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Ra={},_n={get:function(e,t){if(t===ye)return e;var n=et(e);if(!wn(n,t))return function(u,a,s){var o,i=ir(a,s);return i?"value"in i?i.value:(o=i.get)===null||o===void 0?void 0:o.call(u.k):void 0}(e,n,t);var r=n[t];return e.I||!ut(r)?r:r===hn(e.t,t)?(gn(e),e.o[t]=On(e.A.h,r,e)):r},has:function(e,t){return t in et(e)},ownKeys:function(e){return Reflect.ownKeys(et(e))},set:function(e,t,n){var r=ir(et(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var u=hn(et(e),t),a=u==null?void 0:u[ye];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Oa(n,u)&&(n!==void 0||wn(e.t,t)))return!0;gn(e),bn(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return hn(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,gn(e),bn(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=et(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ne(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ne(12)}},Et={};pt(_n,function(e,t){Et[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Et.deleteProperty=function(e,t){return Et.set.call(this,e,t,void 0)},Et.set=function(e,t,n){return _n.set.call(this,e[0],t,n,e[0])};var ja=function(){function e(n){var r=this;this.g=fr,this.F=!0,this.produce=function(u,a,s){if(typeof u=="function"&&typeof a!="function"){var o=a;a=u;var i=r;return function(m){var A=this;m===void 0&&(m=o);for(var w=arguments.length,F=Array(w>1?w-1:0),b=1;b<w;b++)F[b-1]=arguments[b];return i.produce(m,function(k){var _;return(_=a).call.apply(_,[A,k].concat(F))})}}var l;if(typeof a!="function"&&Ne(6),s!==void 0&&typeof s!="function"&&Ne(7),ut(u)){var c=ar(r),D=On(r,u,void 0),C=!0;try{l=a(D),C=!1}finally{C?qt(c):yn(c)}return typeof Promise!="undefined"&&l instanceof Promise?l.then(function(m){return dn(c,s),Cn(m,c)},function(m){throw qt(c),m}):(dn(c,s),Cn(l,c))}if(!u||typeof u!="object"){if((l=a(u))===void 0&&(l=u),l===hu&&(l=void 0),r.F&&jn(l,!0),s){var h=[],v=[];qe("Patches").M(u,l,h,v),s(h,v)}return l}Ne(21,u)},this.produceWithPatches=function(u,a){if(typeof u=="function")return function(l){for(var c=arguments.length,D=Array(c>1?c-1:0),C=1;C<c;C++)D[C-1]=arguments[C];return r.produceWithPatches(l,function(h){return u.apply(void 0,[h].concat(D))})};var s,o,i=r.produce(u,a,function(l,c){s=l,o=c});return typeof Promise!="undefined"&&i instanceof Promise?i.then(function(l){return[l,s,o]}):[i,s,o]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){ut(n)||Ne(8),rt(n)&&(n=Pa(n));var r=ar(this),u=On(this,n,void 0);return u[ye].C=!0,yn(r),u},t.finishDraft=function(n,r){var u=n&&n[ye],a=u.A;return dn(a,r),Cn(void 0,a)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!fr&&Ne(20),this.g=n},t.applyPatches=function(n,r){var u;for(u=r.length-1;u>=0;u--){var a=r[u];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}u>-1&&(r=r.slice(u+1));var s=qe("Patches").$;return rt(n)?s(n,r):this.produce(n,function(o){return s(o,r)})},e}(),be=new ja,Zt=be.produce;be.produceWithPatches.bind(be);be.setAutoFreeze.bind(be);be.setUseProxies.bind(be);be.applyPatches.bind(be);var Dr=be.createDraft.bind(be),dr=be.finishDraft.bind(be);function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt=new WeakMap,Ht=new WeakMap,vt=new WeakMap,Cr=new WeakMap,hr=new WeakMap,gr=new WeakMap,Br=new WeakMap;function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vr(Object(n),!0).forEach(function(r){Ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var xo=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:t=>{for(var n of f.pathRefs(e))ds.transform(n,t);for(var r of f.pointRefs(e))Cs.transform(r,t);for(var u of f.rangeRefs(e))Bs.transform(u,t);var a=Vt.get(e)||[],s=Ht.get(e)||new Set,o,i,l=v=>{if(v){var m=v.join(",");i.has(m)||(i.add(m),o.push(v))}};if(g.operationCanTransformPath(t)){o=[],i=new Set;for(var c of a){var D=g.transform(c,t);l(D)}}else o=a,i=s;var C=Ia(t);for(var h of C)l(h);Vt.set(e,o),Ht.set(e,i),p.transform(e,t),e.operations.push(t),f.normalize(e),t.type==="set_selection"&&(e.marks=null),vt.get(e)||(vt.set(e,!0),Promise.resolve().then(()=>{vt.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(t,n)=>{var{selection:r}=e;if(r)if(E.isExpanded(r))p.setNodes(e,{[t]:n},{match:N.isText,split:!0});else{var u=Rt(Rt({},f.marks(e)||{}),{},{[t]:n});e.marks=u,vt.get(e)||e.onChange()}},deleteBackward:t=>{var{selection:n}=e;n&&E.isCollapsed(n)&&p.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:n}=e;n&&E.isCollapsed(n)&&p.delete(e,{unit:t})},deleteFragment:t=>{var{selection:n}=e;n&&E.isExpanded(n)&&p.delete(e,{reverse:t==="backward"})},getFragment:()=>{var{selection:t}=e;return t?O.fragment(e,t):[]},insertBreak:()=>{p.splitNodes(e,{always:!0})},insertSoftBreak:()=>{p.splitNodes(e,{always:!0})},insertFragment:t=>{p.insertFragment(e,t)},insertNode:t=>{p.insertNodes(e,t)},insertText:t=>{var{selection:n,marks:r}=e;if(n){if(r){var u=Rt({text:t},r);p.insertNodes(e,u)}else p.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[n,r]=t;if(!N.isText(n)){if(G.isElement(n)&&n.children.length===0){var u={text:""};p.insertNodes(e,u,{at:r.concat(0),voids:!0});return}for(var a=f.isEditor(n)?!1:G.isElement(n)&&(e.isInline(n)||n.children.length===0||N.isText(n.children[0])||e.isInline(n.children[0])),s=0,o=0;o<n.children.length;o++,s++){var i=O.get(e,r);if(!N.isText(i)){var l=n.children[o],c=i.children[s-1],D=o===n.children.length-1,C=N.isText(l)||G.isElement(l)&&e.isInline(l);if(C!==a)p.removeNodes(e,{at:r.concat(s),voids:!0}),s--;else if(G.isElement(l)){if(e.isInline(l)){if(c==null||!N.isText(c)){var h={text:""};p.insertNodes(e,h,{at:r.concat(s),voids:!0}),s++}else if(D){var v={text:""};p.insertNodes(e,v,{at:r.concat(s+1),voids:!0}),s++}}}else c!=null&&N.isText(c)&&(N.equals(l,c,{loose:!0})?(p.mergeNodes(e,{at:r.concat(s),voids:!0}),s--):c.text===""?(p.removeNodes(e,{at:r.concat(s-1),voids:!0}),s--):l.text===""&&(p.removeNodes(e,{at:r.concat(s),voids:!0}),s--))}}}},removeMark:t=>{var{selection:n}=e;if(n)if(E.isExpanded(n))p.unsetNodes(e,t,{match:N.isText,split:!0});else{var r=Rt({},f.marks(e)||{});delete r[t],e.marks=r,vt.get(e)||e.onChange()}}};return e},Ia=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:t}=e;return g.levels(t)}case"insert_node":{var{node:n,path:r}=e,u=g.levels(r),a=N.isText(n)?[]:Array.from(O.nodes(n),L=>{var[,Q]=L;return r.concat(Q)});return[...u,...a]}case"merge_node":{var{path:s}=e,o=g.ancestors(s),i=g.previous(s);return[...o,i]}case"move_node":{var{path:l,newPath:c}=e;if(g.equals(l,c))return[];var D=[],C=[];for(var h of g.ancestors(l)){var v=g.transform(h,e);D.push(v)}for(var m of g.ancestors(c)){var A=g.transform(m,e);C.push(A)}var w=C[C.length-1],F=c[c.length-1],b=w.concat(F);return[...D,...C,b]}case"remove_node":{var{path:k}=e,_=g.ancestors(k);return[..._]}case"split_node":{var{path:y}=e,T=g.levels(y),d=g.next(y);return[...T,d]}default:return[]}};function La(e,t){if(e==null)return{};var n={},r=Object.keys(e),u,a;for(a=0;a<r.length;a++)u=r[a],!(t.indexOf(u)>=0)&&(n[u]=e[u]);return n}function Ge(e,t){if(e==null)return{};var n=La(e,t),r,u;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(u=0;u<a.length;u++)r=a[u],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}var qn=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,u=n?Ha(t):t,a=R.None,s=R.None,o=0,i=null,l=null;for(var c of u){var D=c.codePointAt(0);if(!D)break;var C=ns(c,D);if([a,s]=r?[s,C]:[C,a],ct(a,R.ZWJ)&&ct(s,R.ExtPict)&&(r?i=mr(t.substring(0,o)):i=mr(t.substring(0,t.length-o)),!i)||ct(a,R.RI)&&ct(s,R.RI)&&(l!==null?l=!l:r?l=!0:l=is(t.substring(0,t.length-o)),!l)||a!==R.None&&s!==R.None&&us(a,s))break;o+=c.length}return o||1},Ma=/\s/,qa=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Wa=/['\u2018\u2019]/,za=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,u=!1;t.length>0;){var a=qn(t,n),[s,o]=Wn(t,a,n);if(Va(s,o,n))u=!0,r+=a;else if(!u)r+=a;else break;t=o}return r},Wn=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},Va=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Ma.test(t))return!1;if(Wa.test(t)){var u=qn(n,r),[a,s]=Wn(n,u,r);if(e(a,s,r))return!0}return!qa.test(t)},Ha=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var u=t.charAt(n-r);if(Ua(u.charCodeAt(0))){var a=t.charAt(n-r-1);if(Ka(a.charCodeAt(0))){yield a+u,r++;continue}}yield u}},Ka=e=>e>=55296&&e<=56319,Ua=e=>e>=56320&&e<=57343,R;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(R||(R={}));var Ya=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Ga=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,Xa=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Za=/^[\u1100-\u115F\uA960-\uA97C]$/,Ja=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Qa=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,$a=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,es=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,ts=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,ns=(e,t)=>{var n=R.Any;return e.search(Ya)!==-1&&(n|=R.Extend),t===8205&&(n|=R.ZWJ),t>=127462&&t<=127487&&(n|=R.RI),e.search(Ga)!==-1&&(n|=R.Prepend),e.search(Xa)!==-1&&(n|=R.SpacingMark),e.search(Za)!==-1&&(n|=R.L),e.search(Ja)!==-1&&(n|=R.V),e.search(Qa)!==-1&&(n|=R.T),e.search($a)!==-1&&(n|=R.LV),e.search(es)!==-1&&(n|=R.LVT),e.search(ts)!==-1&&(n|=R.ExtPict),n};function ct(e,t){return(e&t)!==0}var rs=[[R.L,R.L|R.V|R.LV|R.LVT],[R.LV|R.V,R.V|R.T],[R.LVT|R.T,R.T],[R.Any,R.Extend|R.ZWJ],[R.Any,R.SpacingMark],[R.Prepend,R.Any],[R.ZWJ,R.ExtPict],[R.RI,R.RI]];function us(e,t){return rs.findIndex(n=>ct(e,n[0])&&ct(t,n[1]))===-1}var as=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,mr=e=>e.search(as)!==-1,ss=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,is=e=>{var t=e.match(ss);if(t===null)return!1;var n=t[0].length/2;return n%2===1},Er=e=>de(e)&&O.isNodeList(e.children)&&!f.isEditor(e),G={isAncestor(e){return de(e)&&O.isNodeList(e.children)},isElement:Er,isElementList(e){return Array.isArray(e)&&e.every(t=>G.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Er(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},os=["text"],ls=["text"];function Ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ar(Object(n),!0).forEach(function(r){Ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ar(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Fr=new WeakMap,f={above(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:r="lowest",at:u=e.selection,match:a}=t;if(!!u){var s=f.path(e,u),o=r==="lowest";for(var[i,l]of f.levels(e,{at:s,voids:n,match:a,reverse:o}))if(!N.isText(i)&&!g.equals(s,l))return[i,l]}},addMark(e,t,n){e.addMark(t,n)},after(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=f.point(e,t,{edge:"end"}),u=f.end(e,[]),a={anchor:r,focus:u},{distance:s=1}=n,o=0,i;for(var l of f.positions(e,ot(ot({},n),{},{at:a}))){if(o>s)break;o!==0&&(i=l),o++}return i},before(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=f.start(e,[]),u=f.point(e,t,{edge:"start"}),a={anchor:r,focus:u},{distance:s=1}=n,o=0,i;for(var l of f.positions(e,ot(ot({},n),{},{at:a,reverse:!0}))){if(o>s)break;o!==0&&(i=l),o++}return i},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{direction:n="forward"}=t;e.deleteFragment(n)},edges(e,t){return[f.start(e,t),f.end(e,t)]},end(e,t){return f.point(e,t,{edge:"end"})},first(e,t){var n=f.path(e,t,{edge:"start"});return f.node(e,n)},fragment(e,t){var n=f.range(e,t),r=O.fragment(e,n);return r},hasBlocks(e,t){return t.children.some(n=>f.isBlock(e,n))},hasInlines(e,t){return t.children.some(n=>N.isText(n)||f.isInline(e,n))},hasTexts(e,t){return t.children.every(n=>N.isText(n))},insertBreak(e){e.insertBreak()},insertSoftBreak(e){e.insertSoftBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock(e,t){return G.isElement(t)&&!e.isInline(t)},isEditor(e){if(!de(e))return!1;var t=Fr.get(e);if(t!==void 0)return t;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteBackward=="function"&&typeof e.deleteForward=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isInline=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&(e.marks===null||de(e.marks))&&(e.selection===null||E.isRange(e.selection))&&O.isNodeList(e.children)&&Je.isOperationList(e.operations);return Fr.set(e,n),n},isEnd(e,t,n){var r=f.end(e,n);return H.equals(t,r)},isEdge(e,t,n){return f.isStart(e,t,n)||f.isEnd(e,t,n)},isEmpty(e,t){var{children:n}=t,[r]=n;return n.length===0||n.length===1&&N.isText(r)&&r.text===""&&!e.isVoid(t)},isInline(e,t){return G.isElement(t)&&e.isInline(t)},isNormalizing(e){var t=Cr.get(e);return t===void 0?!0:t},isStart(e,t,n){if(t.offset!==0)return!1;var r=f.start(e,n);return H.equals(t,r)},isVoid(e,t){return G.isElement(t)&&e.isVoid(t)},last(e,t){var n=f.path(e,t,{edge:"end"});return f.node(e,n)},leaf(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=f.path(e,t,n),u=O.leaf(e,r);return[u,r]},*levels(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,reverse:r=!1,voids:u=!1}=t,{match:a}=t;if(a==null&&(a=()=>!0),!!n){var s=[],o=f.path(e,n);for(var[i,l]of O.levels(e,o))if(!!a(i,l)&&(s.push([i,l]),!u&&f.isVoid(e,i)))break;r&&s.reverse(),yield*s}},marks(e){var{marks:t,selection:n}=e;if(!n)return null;if(t)return t;if(E.isExpanded(n)){var[r]=f.nodes(e,{match:N.isText});if(r){var[u]=r,a=Ge(u,os);return a}else return{}}var{anchor:s}=n,{path:o}=s,[i]=f.leaf(e,o);if(s.offset===0){var l=f.previous(e,{at:o,match:N.isText}),c=f.above(e,{match:m=>f.isBlock(e,m)});if(l&&c){var[D,C]=l,[,h]=c;g.isAncestor(h,C)&&(i=D)}}var v=Ge(i,ls);return v},next(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:u,at:a=e.selection}=t;if(!!a){var s=f.after(e,a,{voids:r});if(!!s){var[,o]=f.last(e,[]),i=[s.path,o];if(g.isPath(a)&&a.length===0)throw new Error("Cannot get the next node from the root node!");if(u==null)if(g.isPath(a)){var[l]=f.parent(e,a);u=D=>l.children.includes(D)}else u=()=>!0;var[c]=f.nodes(e,{at:i,match:u,mode:n,voids:r});return c}}},node(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=f.path(e,t,n),u=O.get(e,r);return[u,r]},*nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,mode:r="all",universal:u=!1,reverse:a=!1,voids:s=!1}=t,{match:o}=t;if(o||(o=()=>!0),!!n){var i,l;if(fs.isSpan(n))i=n[0],l=n[1];else{var c=f.path(e,n,{edge:"start"}),D=f.path(e,n,{edge:"end"});i=a?D:c,l=a?c:D}var C=O.nodes(e,{reverse:a,from:i,to:l,pass:b=>{var[k]=b;return s?!1:f.isVoid(e,k)}}),h=[],v;for(var[m,A]of C){var w=v&&g.compare(A,v[1])===0;if(!(r==="highest"&&w)){if(!o(m,A)){if(u&&!w&&N.isText(m))return;continue}if(r==="lowest"&&w){v=[m,A];continue}var F=r==="lowest"?v:[m,A];F&&(u?h.push(F):yield F),v=[m,A]}}r==="lowest"&&v&&(u?h.push(v):yield v),u&&(yield*h)}},normalize(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1}=t,r=i=>Vt.get(i)||[],u=i=>Ht.get(i)||new Set,a=i=>{var l=r(i).pop(),c=l.join(",");return u(i).delete(c),l};if(!!f.isNormalizing(e)){if(n){var s=Array.from(O.nodes(e),i=>{var[,l]=i;return l}),o=new Set(s.map(i=>i.join(",")));Vt.set(e,s),Ht.set(e,o)}r(e).length!==0&&f.withoutNormalizing(e,()=>{for(var i of r(e))if(O.has(e,i)){var l=f.node(e,i),[c,D]=l;G.isElement(c)&&c.children.length===0&&e.normalizeNode(l)}for(var C=r(e).length*42,h=0;r(e).length!==0;){if(h>C)throw new Error(`
            Could not completely normalize the editor after `.concat(C,` iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.
          `));var v=a(e);if(O.has(e,v)){var m=f.node(e,v);e.normalizeNode(m)}h++}})}},parent(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=f.path(e,t,n),u=g.parent(r),a=f.node(e,u);return a},path(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:r,edge:u}=n;if(g.isPath(t)){if(u==="start"){var[,a]=O.first(e,t);t=a}else if(u==="end"){var[,s]=O.last(e,t);t=s}}return E.isRange(t)&&(u==="start"?t=E.start(t):u==="end"?t=E.end(t):t=g.common(t.anchor.path,t.focus.path)),H.isPoint(t)&&(t=t.path),r!=null&&(t=t.slice(0,r)),t},hasPath(e,t){return O.has(e,t)},pathRef(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:r="forward"}=n,u={current:t,affinity:r,unref(){var{current:s}=u,o=f.pathRefs(e);return o.delete(u),u.current=null,s}},a=f.pathRefs(e);return a.add(u),u},pathRefs(e){var t=hr.get(e);return t||(t=new Set,hr.set(e,t)),t},point(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:r="start"}=n;if(g.isPath(t)){var u;if(r==="end"){var[,a]=O.last(e,t);u=a}else{var[,s]=O.first(e,t);u=s}var o=O.get(e,u);if(!N.isText(o))throw new Error("Cannot get the ".concat(r," point in the node at path [").concat(t,"] because it has no ").concat(r," text node."));return{path:u,offset:r==="end"?o.text.length:0}}if(E.isRange(t)){var[i,l]=E.edges(t);return r==="start"?i:l}return t},pointRef(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:r="forward"}=n,u={current:t,affinity:r,unref(){var{current:s}=u,o=f.pointRefs(e);return o.delete(u),u.current=null,s}},a=f.pointRefs(e);return a.add(u),u},pointRefs(e){var t=gr.get(e);return t||(t=new Set,gr.set(e,t)),t},*positions(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,unit:r="offset",reverse:u=!1,voids:a=!1}=t;if(!n)return;var s=f.range(e,n),[o,i]=E.edges(s),l=u?i:o,c=!1,D="",C=0,h=0,v=0;for(var[m,A]of f.nodes(e,{at:n,reverse:u,voids:a})){if(G.isElement(m)){if(!a&&e.isVoid(m)){yield f.start(e,A);continue}if(e.isInline(m))continue;if(f.hasInlines(e,m)){var w=g.isAncestor(A,i.path)?i:f.end(e,A),F=g.isAncestor(A,o.path)?o:f.start(e,A);D=f.string(e,{anchor:F,focus:w},{voids:a}),c=!0}}if(N.isText(m)){var b=g.equals(A,l.path);for(b?(h=u?l.offset:m.text.length-l.offset,v=l.offset):(h=m.text.length,v=u?h:0),(b||c||r==="offset")&&(yield{path:A,offset:v},c=!1);;){if(C===0){if(D==="")break;C=k(D,r,u),D=Wn(D,C,u)[1]}if(v=u?v-C:v+C,h=h-C,h<0){C=-h;break}C=0,yield{path:A,offset:v}}}}function k(_,y,T){return y==="character"?qn(_,T):y==="word"?za(_,T):y==="line"||y==="block"?_.length:1}},previous(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:u,at:a=e.selection}=t;if(!!a){var s=f.before(e,a,{voids:r});if(!!s){var[,o]=f.first(e,[]),i=[s.path,o];if(g.isPath(a)&&a.length===0)throw new Error("Cannot get the previous node from the root node!");if(u==null)if(g.isPath(a)){var[l]=f.parent(e,a);u=D=>l.children.includes(D)}else u=()=>!0;var[c]=f.nodes(e,{reverse:!0,at:i,match:u,mode:n,voids:r});return c}}},range(e,t,n){if(E.isRange(t)&&!n)return t;var r=f.start(e,t),u=f.end(e,n||t);return{anchor:r,focus:u}},rangeRef(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:r="forward"}=n,u={current:t,affinity:r,unref(){var{current:s}=u,o=f.rangeRefs(e);return o.delete(u),u.current=null,s}},a=f.rangeRefs(e);return a.add(u),u},rangeRefs(e){var t=Br.get(e);return t||(t=new Set,Br.set(e,t)),t},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){Cr.set(e,t)},start(e,t){return f.point(e,t,{edge:"start"})},string(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:r=!1}=n,u=f.range(e,t),[a,s]=E.edges(u),o="";for(var[i,l]of f.nodes(e,{at:u,match:N.isText,voids:r})){var c=i.text;g.equals(l,s.path)&&(c=c.slice(0,s.offset)),g.equals(l,a.path)&&(c=c.slice(a.offset)),o+=c}return o},unhangRange(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:r=!1}=n,[u,a]=E.edges(t);if(u.offset!==0||a.offset!==0||E.isCollapsed(t))return t;var s=f.above(e,{at:a,match:h=>f.isBlock(e,h)}),o=s?s[1]:[],i=f.start(e,u),l={anchor:i,focus:a},c=!0;for(var[D,C]of f.nodes(e,{at:l,match:N.isText,reverse:!0,voids:r})){if(c){c=!1;continue}if(D.text!==""||g.isBefore(C,o)){a={path:C,offset:D.text.length};break}}return{anchor:u,focus:a}},void(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return f.above(e,ot(ot({},t),{},{match:n=>f.isVoid(e,n)}))},withoutNormalizing(e,t){var n=f.isNormalizing(e);f.setNormalizing(e,!1);try{t()}finally{f.setNormalizing(e,n)}f.normalize(e)}},fs={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(g.isPath)}},cs=["children"],Ds=["text"],pr=new WeakMap,O={ancestor(e,t){var n=O.get(e,t);if(N.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(we.stringify(n)));return n},*ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of g.ancestors(t,n)){var u=O.ancestor(e,r),a=[u,r];yield a}},child(e,t){if(N.isText(e))throw new Error("Cannot get the child of a text node: ".concat(we.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(we.stringify(e)));return n},*children(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:r=!1}=n,u=O.ancestor(e,t),{children:a}=u,s=r?a.length-1:0;r?s>=0:s<a.length;){var o=O.child(u,s),i=t.concat(s);yield[o,i],s=r?s-1:s+1}},common(e,t,n){var r=g.common(t,n),u=O.get(e,r);return[u,r]},descendant(e,t){var n=O.get(e,t);if(f.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(we.stringify(n)));return n},*descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of O.nodes(e,t))r.length!==0&&(yield[n,r])},*elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of O.nodes(e,t))G.isElement(n)&&(yield[n,r])},extractProps(e){if(G.isAncestor(e)){var t=Ge(e,cs);return t}else{var t=Ge(e,Ds);return t}},first(e,t){for(var n=t.slice(),r=O.get(e,n);r&&!(N.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(N.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(we.stringify(e)));var n=Zt({children:e.children},r=>{var[u,a]=E.edges(t),s=O.nodes(r,{reverse:!0,pass:C=>{var[,h]=C;return!E.includes(t,h)}});for(var[,o]of s){if(!E.includes(t,o)){var i=O.parent(r,o),l=o[o.length-1];i.children.splice(l,1)}if(g.equals(o,a.path)){var c=O.leaf(r,o);c.text=c.text.slice(0,a.offset)}if(g.equals(o,u.path)){var D=O.leaf(r,o);D.text=D.text.slice(u.offset)}}f.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var u=t[r];if(N.isText(n)||!n.children[u])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(we.stringify(e)));n=n.children[u]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var u=t[r];if(N.isText(n)||!n.children[u])return!1;n=n.children[u]}return!0},isNode(e){return N.isText(e)||G.isElement(e)||f.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=pr.get(e);if(t!==void 0)return t;var n=e.every(r=>O.isNode(r));return pr.set(e,n),n},last(e,t){for(var n=t.slice(),r=O.get(e,n);r&&!(N.isText(r)||r.children.length===0);){var u=r.children.length-1;r=r.children[u],n.push(u)}return[r,n]},leaf(e,t){var n=O.get(e,t);if(!N.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(we.stringify(n)));return n},*levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of g.levels(t,n)){var u=O.get(e,r);yield[u,r]}},matches(e,t){return G.isElement(e)&&G.isElementProps(t)&&G.matches(e,t)||N.isText(e)&&N.isTextProps(t)&&N.matches(e,t)},*nodes(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:n,reverse:r=!1}=t,{from:u=[],to:a}=t,s=new Set,o=[],i=e;!(a&&(r?g.isBefore(o,a):g.isAfter(o,a)));){if(s.has(i)||(yield[i,o]),!s.has(i)&&!N.isText(i)&&i.children.length!==0&&(n==null||n([i,o])===!1)){s.add(i);var l=r?i.children.length-1:0;g.isAncestor(o,u)&&(l=u[o.length]),o=o.concat(l),i=O.get(e,o);continue}if(o.length===0)break;if(!r){var c=g.next(o);if(O.has(e,c)){o=c,i=O.get(e,o);continue}}if(r&&o[o.length-1]!==0){var D=g.previous(o);o=D,i=O.get(e,o);continue}o=g.parent(o),i=O.get(e,o),s.add(i)}},parent(e,t){var n=g.parent(t),r=O.get(e,n);if(N.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return N.isText(e)?e.text:e.children.map(O.string).join("")},*texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of O.nodes(e,t))N.isText(n)&&(yield[n,r])}};function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wr(Object(n),!0).forEach(function(r){Ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Je={isNodeOperation(e){return Je.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!de(e))return!1;switch(e.type){case"insert_node":return g.isPath(e.path)&&O.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&g.isPath(e.path);case"merge_node":return typeof e.position=="number"&&g.isPath(e.path)&&de(e.properties);case"move_node":return g.isPath(e.path)&&g.isPath(e.newPath);case"remove_node":return g.isPath(e.path)&&O.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&g.isPath(e.path);case"set_node":return g.isPath(e.path)&&de(e.properties)&&de(e.newProperties);case"set_selection":return e.properties===null&&E.isRange(e.newProperties)||e.newProperties===null&&E.isRange(e.properties)||de(e.properties)&&de(e.newProperties);case"split_node":return g.isPath(e.path)&&typeof e.position=="number"&&de(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>Je.isOperation(t))},isSelectionOperation(e){return Je.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Je.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return ee(ee({},e),{},{type:"remove_node"});case"insert_text":return ee(ee({},e),{},{type:"remove_text"});case"merge_node":return ee(ee({},e),{},{type:"split_node",path:g.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(g.equals(t,n))return e;if(g.isSibling(n,t))return ee(ee({},e),{},{path:t,newPath:n});var r=g.transform(n,e),u=g.transform(g.next(n),e);return ee(ee({},e),{},{path:r,newPath:u})}case"remove_node":return ee(ee({},e),{},{type:"insert_node"});case"remove_text":return ee(ee({},e),{},{type:"insert_text"});case"set_node":{var{properties:a,newProperties:s}=e;return ee(ee({},e),{},{properties:s,newProperties:a})}case"set_selection":{var{properties:o,newProperties:i}=e;return o==null?ee(ee({},e),{},{properties:i,newProperties:null}):i==null?ee(ee({},e),{},{properties:null,newProperties:o}):ee(ee({},e),{},{properties:i,newProperties:o})}case"split_node":return ee(ee({},e),{},{type:"merge_node",path:g.next(e.path)})}}},g={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=g.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var u=e[r],a=t[r];if(u!==a)break;n.push(u)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),u=t.slice(0,n),a=e[n],s=t[n];return g.equals(r,u)&&a>s},endsAt(e,t){var n=e.length,r=e.slice(0,n),u=t.slice(0,n);return g.equals(r,u)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),u=t.slice(0,n),a=e[n],s=t[n];return g.equals(r,u)&&a<s},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return g.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&g.compare(e,t)===0},isBefore(e,t){return g.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&g.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&g.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&g.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&g.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),u=e[e.length-1],a=t[t.length-1];return u!==a&&g.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],u=0;u<=e.length;u++)r.push(e.slice(0,u));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!g.isAncestor(t,e)&&!g.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Zt(e,r=>{var{affinity:u="forward"}=n;if(!(!e||(e==null?void 0:e.length)===0)){if(r===null)return null;switch(t.type){case"insert_node":{var{path:a}=t;(g.equals(a,r)||g.endsBefore(a,r)||g.isAncestor(a,r))&&(r[a.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(g.equals(s,r)||g.isAncestor(s,r))return null;g.endsBefore(s,r)&&(r[s.length-1]-=1);break}case"merge_node":{var{path:o,position:i}=t;g.equals(o,r)||g.endsBefore(o,r)?r[o.length-1]-=1:g.isAncestor(o,r)&&(r[o.length-1]-=1,r[o.length]+=i);break}case"split_node":{var{path:l,position:c}=t;if(g.equals(l,r)){if(u==="forward")r[r.length-1]+=1;else if(u!=="backward")return null}else g.endsBefore(l,r)?r[l.length-1]+=1:g.isAncestor(l,r)&&e[l.length]>=c&&(r[l.length-1]+=1,r[l.length]-=c);break}case"move_node":{var{path:D,newPath:C}=t;if(g.equals(D,C))return;if(g.isAncestor(D,r)||g.equals(D,r)){var h=C.slice();return g.endsBefore(D,C)&&D.length<C.length&&(h[D.length-1]-=1),h.concat(r.slice(D.length))}else g.isSibling(D,C)&&(g.isAncestor(C,r)||g.equals(C,r))?g.endsBefore(D,r)?r[D.length-1]-=1:r[D.length-1]+=1:g.endsBefore(C,r)||g.equals(C,r)||g.isAncestor(C,r)?(g.endsBefore(D,r)&&(r[D.length-1]-=1),r[C.length-1]+=1):g.endsBefore(D,r)&&(g.equals(C,r)&&(r[C.length-1]+=1),r[D.length-1]-=1);break}}}})}},ds={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var u=g.transform(n,t,{affinity:r});e.current=u,u==null&&e.unref()}}};function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yr(Object(n),!0).forEach(function(r){Ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var H={compare(e,t){var n=g.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return H.compare(e,t)===1},isBefore(e,t){return H.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&g.equals(e.path,t.path)},isPoint(e){return de(e)&&typeof e.offset=="number"&&g.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Zt(e,r=>{if(r===null)return null;var{affinity:u="forward"}=n,{path:a,offset:s}=r;switch(t.type){case"insert_node":case"move_node":{r.path=g.transform(a,t,n);break}case"insert_text":{g.equals(t.path,a)&&(t.offset<s||t.offset===s&&u==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{g.equals(t.path,a)&&(r.offset+=t.position),r.path=g.transform(a,t,n);break}case"remove_text":{g.equals(t.path,a)&&t.offset<=s&&(r.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(g.equals(t.path,a)||g.isAncestor(t.path,a))return null;r.path=g.transform(a,t,n);break}case"split_node":{if(g.equals(t.path,a)){if(t.position===s&&u==null)return null;(t.position<s||t.position===s&&u==="forward")&&(r.offset-=t.position,r.path=g.transform(a,t,br(br({},n),{},{affinity:"forward"})))}else r.path=g.transform(a,t,n);break}}})}},Cs={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var u=H.transform(n,t,{affinity:r});e.current=u,u==null&&e.unref()}}},hs=["anchor","focus"];function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Or(Object(n),!0).forEach(function(r){Ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var E={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:u}=e;return E.isBackward(e)===n?[r,u]:[u,r]},end(e){var[,t]=E.edges(e);return t},equals(e,t){return H.equals(e.anchor,t.anchor)&&H.equals(e.focus,t.focus)},includes(e,t){if(E.isRange(t)){if(E.includes(e,t.anchor)||E.includes(e,t.focus))return!0;var[n,r]=E.edges(e),[u,a]=E.edges(t);return H.isBefore(n,u)&&H.isAfter(r,a)}var[s,o]=E.edges(e),i=!1,l=!1;return H.isPoint(t)?(i=H.compare(t,s)>=0,l=H.compare(t,o)<=0):(i=g.compare(t,s.path)>=0,l=g.compare(t,o.path)<=0),i&&l},intersection(e,t){var n=Ge(e,hs),[r,u]=E.edges(e),[a,s]=E.edges(t),o=H.isBefore(r,a)?a:r,i=H.isBefore(u,s)?u:s;return H.isBefore(i,o)?null:gs({anchor:o,focus:i},n)},isBackward(e){var{anchor:t,focus:n}=e;return H.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return H.equals(t,n)},isExpanded(e){return!E.isCollapsed(e)},isForward(e){return!E.isBackward(e)},isRange(e){return de(e)&&H.isPoint(e.anchor)&&H.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=E.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Zt(e,r=>{if(r===null)return null;var{affinity:u="inward"}=n,a,s;if(u==="inward"){var o=E.isCollapsed(r);E.isForward(r)?(a="forward",s=o?a:"backward"):(a="backward",s=o?a:"forward")}else u==="outward"?E.isForward(r)?(a="backward",s="forward"):(a="forward",s="backward"):(a=u,s=u);var i=H.transform(r.anchor,t,{affinity:a}),l=H.transform(r.focus,t,{affinity:s});if(!i||!l)return null;r.anchor=i,r.focus=l})}},Bs={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var u=E.transform(n,t,{affinity:r});e.current=u,u==null&&e.unref()}}},_r=void 0,we={setScrubber(e){_r=e},stringify(e){return JSON.stringify(e,_r)}},gu=(e,t)=>{for(var n in e){var r=e[n],u=t[n];if(de(r)&&de(u)){if(!gu(r,u))return!1}else if(Array.isArray(r)&&Array.isArray(u)){if(r.length!==u.length)return!1;for(var a=0;a<r.length;a++)if(r[a]!==u[a])return!1}else if(r!==u)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0},vs=["text"],ms=["anchor","focus"];function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kr(Object(n),!0).forEach(function(r){Ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var N={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function u(a){var s=Ge(a,vs);return s}return gu(r?u(e):e,r?u(t):t)},isText(e){return de(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>N.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Ke({},e)];for(var r of t){var u=Ge(r,ms),[a,s]=E.edges(r),o=[],i=0;for(var l of n){var{length:c}=l.text,D=i;if(i+=c,a.offset<=D&&s.offset>=i){Object.assign(l,u),o.push(l);continue}if(a.offset!==s.offset&&(a.offset===i||s.offset===D)||a.offset>i||s.offset<D||s.offset===D&&D!==0){o.push(l);continue}var C=l,h=void 0,v=void 0;if(s.offset<i){var m=s.offset-D;v=Ke(Ke({},C),{},{text:C.text.slice(m)}),C=Ke(Ke({},C),{},{text:C.text.slice(0,m)})}if(a.offset>D){var A=a.offset-D;h=Ke(Ke({},C),{},{text:C.text.slice(0,A)}),C=Ke(Ke({},C),{},{text:C.text.slice(A)})}Object.assign(C,u),h&&o.push(h),o.push(C),v&&o.push(v)}n=o}return n}};function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pr(Object(n),!0).forEach(function(r){Ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Es=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:u}=n,a=O.parent(e,r),s=r[r.length-1];if(s>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(a.children.splice(s,0,u),t)for(var[o,i]of E.points(t))t[i]=H.transform(o,n);break}case"insert_text":{var{path:l,offset:c,text:D}=n;if(D.length===0)break;var C=O.leaf(e,l),h=C.text.slice(0,c),v=C.text.slice(c);if(C.text=h+D+v,t)for(var[m,A]of E.points(t))t[A]=H.transform(m,n);break}case"merge_node":{var{path:w}=n,F=O.get(e,w),b=g.previous(w),k=O.get(e,b),_=O.parent(e,w),y=w[w.length-1];if(N.isText(F)&&N.isText(k))k.text+=F.text;else if(!N.isText(F)&&!N.isText(k))k.children.push(...F.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(w,"] to nodes of different interfaces: ").concat(we.stringify(F)," ").concat(we.stringify(k)));if(_.children.splice(y,1),t)for(var[T,d]of E.points(t))t[d]=H.transform(T,n);break}case"move_node":{var{path:L,newPath:Q}=n;if(g.isAncestor(L,Q))throw new Error("Cannot move a path [".concat(L,"] to new path [").concat(Q,"] because the destination is inside itself."));var W=O.get(e,L),ae=O.parent(e,L),K=L[L.length-1];ae.children.splice(K,1);var fe=g.transform(L,n),$=O.get(e,g.parent(fe)),P=fe[fe.length-1];if($.children.splice(P,0,W),t)for(var[ce,le]of E.points(t))t[le]=H.transform(ce,n);break}case"remove_node":{var{path:ie}=n,Oe=ie[ie.length-1],he=O.parent(e,ie);if(he.children.splice(Oe,1),t)for(var[De,pe]of E.points(t)){var z=H.transform(De,n);if(t!=null&&z!=null)t[pe]=z;else{var J=void 0,oe=void 0;for(var[Ee,ke]of O.texts(e))if(g.compare(ke,ie)===-1)J=[Ee,ke];else{oe=[Ee,ke];break}var Pe=!1;J&&oe&&(g.equals(oe[1],ie)?Pe=!g.hasPrevious(oe[1]):Pe=g.common(J[1],ie).length<g.common(oe[1],ie).length),J&&!Pe?(De.path=J[1],De.offset=J[0].text.length):oe?(De.path=oe[1],De.offset=0):t=null}}break}case"remove_text":{var{path:Xe,offset:Me,text:it}=n;if(it.length===0)break;var Bt=O.leaf(e,Xe),un=Bt.text.slice(0,Me),an=Bt.text.slice(Me+it.length);if(Bt.text=un+an,t)for(var[sn,on]of E.points(t))t[on]=H.transform(sn,n);break}case"set_node":{var{path:St,properties:ln,newProperties:B}=n;if(St.length===0)throw new Error("Cannot set properties on the root node!");var x=O.get(e,St);for(var S in B){if(S==="children"||S==="text")throw new Error('Cannot set the "'.concat(S,'" property of nodes!'));var M=B[S];M==null?delete x[S]:x[S]=M}for(var V in ln)B.hasOwnProperty(V)||delete x[V];break}case"set_selection":{var{newProperties:Y}=n;if(Y==null)t=Y;else{if(t==null){if(!E.isRange(Y))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(we.stringify(Y)," when there is no current selection."));t=mt({},Y)}for(var Se in Y){var He=Y[Se];if(He==null){if(Se==="anchor"||Se==="focus")throw new Error('Cannot remove the "'.concat(Se,'" selection property'));delete t[Se]}else t[Se]=He}}break}case"split_node":{var{path:Ze,position:xt,properties:Xn}=n;if(Ze.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ze,"] because the root node cannot be split."));var $e=O.get(e,Ze),ua=O.parent(e,Ze),aa=Ze[Ze.length-1],fn;if(N.isText($e)){var sa=$e.text.slice(0,xt),ia=$e.text.slice(xt);$e.text=sa,fn=mt(mt({},Xn),{},{text:ia})}else{var oa=$e.children.slice(0,xt),la=$e.children.slice(xt);$e.children=oa,fn=mt(mt({},Xn),{},{children:la})}if(ua.children.splice(aa+1,0,fn),t)for(var[fa,ca]of E.points(t))t[ca]=H.transform(fa,n);break}}return t},As={transform(e,t){e.children=Dr(e.children);var n=e.selection&&Dr(e.selection);try{n=Es(e,n,t)}finally{e.children=dr(e.children),n?e.selection=rt(n)?dr(n):n:e.selection=null}}},Fs=["text"],ps=["children"];function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sr(Object(n),!0).forEach(function(r){Ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ws={insertNodes(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:u=!1,mode:a="lowest"}=n,{at:s,match:o,select:i}=n;if(O.isNode(t)&&(t=[t]),t.length!==0){var[l]=t;if(s||(e.selection?s=e.selection:e.children.length>0?s=f.end(e,[]):s=[0],i=!0),i==null&&(i=!1),E.isRange(s))if(r||(s=f.unhangRange(e,s)),E.isCollapsed(s))s=s.anchor;else{var[,c]=E.edges(s),D=f.pointRef(e,c);p.delete(e,{at:s}),s=D.unref()}if(H.isPoint(s)){o==null&&(N.isText(l)?o=y=>N.isText(y):e.isInline(l)?o=y=>N.isText(y)||f.isInline(e,y):o=y=>f.isBlock(e,y));var[C]=f.nodes(e,{at:s.path,match:o,mode:a,voids:u});if(C){var[,h]=C,v=f.pathRef(e,h),m=f.isEnd(e,s,h);p.splitNodes(e,{at:s,match:o,mode:a,voids:u});var A=v.unref();s=m?g.next(A):A}else return}var w=g.parent(s),F=s[s.length-1];if(!(!u&&f.void(e,{at:w}))){for(var b of t){var k=w.concat(F);F++,e.apply({type:"insert_node",path:k,node:b}),s=g.next(s)}if(s=g.previous(s),i){var _=f.end(e,s);_&&p.select(e,_)}}}})},liftNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:r="lowest",voids:u=!1}=t,{match:a}=t;if(a==null&&(a=g.isPath(n)?lt(e,n):b=>f.isBlock(e,b)),!!n){var s=f.nodes(e,{at:n,match:a,mode:r,voids:u}),o=Array.from(s,b=>{var[,k]=b;return f.pathRef(e,k)});for(var i of o){var l=i.unref();if(l.length<2)throw new Error("Cannot lift node at a path [".concat(l,"] because it has a depth of less than `2`."));var c=f.node(e,g.parent(l)),[D,C]=c,h=l[l.length-1],{length:v}=D.children;if(v===1){var m=g.next(C);p.moveNodes(e,{at:l,to:m,voids:u}),p.removeNodes(e,{at:C,voids:u})}else if(h===0)p.moveNodes(e,{at:l,to:C,voids:u});else if(h===v-1){var A=g.next(C);p.moveNodes(e,{at:l,to:A,voids:u})}else{var w=g.next(l),F=g.next(C);p.splitNodes(e,{at:w,voids:u}),p.moveNodes(e,{at:l,to:F,voids:u})}}}})},mergeNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{match:n,at:r=e.selection}=t,{hanging:u=!1,voids:a=!1,mode:s="lowest"}=t;if(!!r){if(n==null)if(g.isPath(r)){var[o]=f.parent(e,r);n=L=>o.children.includes(L)}else n=L=>f.isBlock(e,L);if(!u&&E.isRange(r)&&(r=f.unhangRange(e,r)),E.isRange(r))if(E.isCollapsed(r))r=r.anchor;else{var[,i]=E.edges(r),l=f.pointRef(e,i);p.delete(e,{at:r}),r=l.unref(),t.at==null&&p.select(e,r)}var[c]=f.nodes(e,{at:r,match:n,voids:a,mode:s}),D=f.previous(e,{at:r,match:n,voids:a,mode:s});if(!(!c||!D)){var[C,h]=c,[v,m]=D;if(!(h.length===0||m.length===0)){var A=g.next(m),w=g.common(h,m),F=g.isSibling(h,m),b=Array.from(f.levels(e,{at:h}),L=>{var[Q]=L;return Q}).slice(w.length).slice(0,-1),k=f.above(e,{at:h,mode:"highest",match:L=>b.includes(L)&&Bu(e,L)}),_=k&&f.pathRef(e,k[1]),y,T;if(N.isText(C)&&N.isText(v)){var d=Ge(C,Fs);T=v.text.length,y=d}else if(G.isElement(C)&&G.isElement(v)){var d=Ge(C,ps);T=v.children.length,y=d}else throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(we.stringify(C)," ").concat(we.stringify(v)));F||p.moveNodes(e,{at:h,to:A,voids:a}),_&&p.removeNodes(e,{at:_.current,voids:a}),G.isElement(v)&&f.isEmpty(e,v)||N.isText(v)&&v.text===""&&m[m.length-1]!==0?p.removeNodes(e,{at:m,voids:a}):e.apply({type:"merge_node",path:A,position:T,properties:y}),_&&_.unref()}}}})},moveNodes(e,t){f.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:u="lowest",voids:a=!1}=t,{match:s}=t;if(!!r){s==null&&(s=g.isPath(r)?lt(e,r):h=>f.isBlock(e,h));var o=f.pathRef(e,n),i=f.nodes(e,{at:r,match:s,mode:u,voids:a}),l=Array.from(i,h=>{var[,v]=h;return f.pathRef(e,v)});for(var c of l){var D=c.unref(),C=o.current;D.length!==0&&e.apply({type:"move_node",path:D,newPath:C}),o.current&&g.isSibling(C,D)&&g.isAfter(C,D)&&(o.current=g.next(o.current))}o.unref()}})},removeNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:r=!1,mode:u="lowest"}=t,{at:a=e.selection,match:s}=t;if(!!a){s==null&&(s=g.isPath(a)?lt(e,a):C=>f.isBlock(e,C)),!n&&E.isRange(a)&&(a=f.unhangRange(e,a));var o=f.nodes(e,{at:a,match:s,mode:u,voids:r}),i=Array.from(o,C=>{var[,h]=C;return f.pathRef(e,h)});for(var l of i){var c=l.unref();if(c){var[D]=f.node(e,c);e.apply({type:"remove_node",path:c,node:D})}}}})},setNodes(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{match:r,at:u=e.selection,compare:a,merge:s}=n,{hanging:o=!1,mode:i="lowest",split:l=!1,voids:c=!1}=n;if(!!u){if(r==null&&(r=g.isPath(u)?lt(e,u):T=>f.isBlock(e,T)),!o&&E.isRange(u)&&(u=f.unhangRange(e,u)),l&&E.isRange(u)){if(E.isCollapsed(u)&&f.leaf(e,u.anchor)[0].text.length>0)return;var D=f.rangeRef(e,u,{affinity:"inward"}),[C,h]=E.edges(u),v=i==="lowest"?"lowest":"highest",m=f.isEnd(e,h,h.path);p.splitNodes(e,{at:h,match:r,mode:v,voids:c,always:!m});var A=f.isStart(e,C,C.path);p.splitNodes(e,{at:C,match:r,mode:v,voids:c,always:!A}),u=D.unref(),n.at==null&&p.select(e,u)}a||(a=(T,d)=>T!==d);for(var[w,F]of f.nodes(e,{at:u,match:r,mode:i,voids:c})){var b={},k={};if(F.length!==0){var _=!1;for(var y in t)y==="children"||y==="text"||a(t[y],w[y])&&(_=!0,w.hasOwnProperty(y)&&(b[y]=w[y]),s?t[y]!=null&&(k[y]=s(w[y],t[y])):t[y]!=null&&(k[y]=t[y]));_&&e.apply({type:"set_node",path:F,properties:b,newProperties:k})}}}})},splitNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{mode:n="lowest",voids:r=!1}=t,{match:u,at:a=e.selection,height:s=0,always:o=!1}=t;if(u==null&&(u=le=>f.isBlock(e,le)),E.isRange(a)&&(a=ys(e,a)),g.isPath(a)){var i=a,l=f.point(e,i),[c]=f.parent(e,i);u=le=>le===c,s=l.path.length-i.length+1,a=l,o=!0}if(!!a){var D=f.pointRef(e,a,{affinity:"backward"}),C;try{var[h]=f.nodes(e,{at:a,match:u,mode:n,voids:r});if(!h)return;var v=f.void(e,{at:a,mode:"highest"}),m=0;if(!r&&v){var[A,w]=v;if(G.isElement(A)&&e.isInline(A)){var F=f.after(e,w);if(!F){var b={text:""},k=g.next(w);p.insertNodes(e,b,{at:k,voids:r}),F=f.point(e,k)}a=F,o=!0}var _=a.path.length-w.length;s=_+1,o=!0}C=f.pointRef(e,a);var y=a.path.length-s,[,T]=h,d=a.path.slice(0,y),L=s===0?a.offset:a.path[y]+m;for(var[Q,W]of f.levels(e,{at:d,reverse:!0,voids:r})){var ae=!1;if(W.length<T.length||W.length===0||!r&&f.isVoid(e,Q))break;var K=D.current,fe=f.isEnd(e,K,W);if(o||!D||!f.isEdge(e,K,W)){ae=!0;var $=O.extractProps(Q);e.apply({type:"split_node",path:W,position:L,properties:$})}L=W[W.length-1]+(ae||fe?1:0)}if(t.at==null){var P=C.current||f.end(e,[]);p.select(e,P)}}finally{var ce;D.unref(),(ce=C)===null||ce===void 0||ce.unref()}}})},unsetNodes(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(t)||(t=[t]);var r={};for(var u of t)r[u]=null;p.setNodes(e,r,n)},unwrapNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{mode:n="lowest",split:r=!1,voids:u=!1}=t,{at:a=e.selection,match:s}=t;if(!!a){s==null&&(s=g.isPath(a)?lt(e,a):C=>f.isBlock(e,C)),g.isPath(a)&&(a=f.range(e,a));var o=E.isRange(a)?f.rangeRef(e,a):null,i=f.nodes(e,{at:a,match:s,mode:n,voids:u}),l=Array.from(i,C=>{var[,h]=C;return f.pathRef(e,h)}).reverse(),c=function(h){var v=h.unref(),[m]=f.node(e,v),A=f.range(e,v);r&&o&&(A=E.intersection(o.current,A)),p.liftNodes(e,{at:A,match:w=>G.isAncestor(m)&&m.children.includes(w),voids:u})};for(var D of l)c(D);o&&o.unref()}})},wrapNodes(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{mode:r="lowest",split:u=!1,voids:a=!1}=n,{match:s,at:o=e.selection}=n;if(!!o){if(s==null&&(g.isPath(o)?s=lt(e,o):e.isInline(t)?s=A=>f.isInline(e,A)||N.isText(A):s=A=>f.isBlock(e,A)),u&&E.isRange(o)){var[i,l]=E.edges(o),c=f.rangeRef(e,o,{affinity:"inward"});p.splitNodes(e,{at:l,match:s,voids:a}),p.splitNodes(e,{at:i,match:s,voids:a}),o=c.unref(),n.at==null&&p.select(e,o)}var D=Array.from(f.nodes(e,{at:o,match:e.isInline(t)?A=>f.isBlock(e,A):A=>f.isEditor(A),mode:"lowest",voids:a}));for(var[,C]of D){var h=E.isRange(o)?E.intersection(o,f.range(e,C)):o;if(!!h){var v=Array.from(f.nodes(e,{at:h,match:s,mode:r,voids:a}));if(v.length>0){var m=function(){var[A]=v,w=v[v.length-1],[,F]=A,[,b]=w;if(F.length===0&&b.length===0)return"continue";var k=g.equals(F,b)?g.parent(F):g.common(F,b),_=f.range(e,F,b),y=f.node(e,k),[T]=y,d=k.length+1,L=g.next(b.slice(0,d)),Q=xr(xr({},t),{},{children:[]});p.insertNodes(e,Q,{at:L,voids:a}),p.moveNodes(e,{at:_,match:W=>G.isAncestor(T)&&T.children.includes(W),to:L.concat(0),voids:a})}();if(m==="continue")continue}}}}})}},Bu=(e,t)=>{if(G.isElement(t)){var n=t;return f.isVoid(e,t)?!0:n.children.length===1?Bu(e,n.children[0]):!1}else return!f.isEditor(t)},ys=(e,t)=>{if(E.isCollapsed(t))return t.anchor;var[,n]=E.edges(t),r=f.pointRef(e,n);return p.delete(e,{at:t}),r.unref()},lt=(e,t)=>{var[n]=f.node(e,t);return r=>r===n};function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nr(Object(n),!0).forEach(function(r){Ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var bs={collapse(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=t,{selection:r}=e;if(r){if(n==="anchor")p.select(e,r.anchor);else if(n==="focus")p.select(e,r.focus);else if(n==="start"){var[u]=E.edges(r);p.select(e,u)}else if(n==="end"){var[,a]=E.edges(r);p.select(e,a)}}else return},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e,{distance:r=1,unit:u="character",reverse:a=!1}=t,{edge:s=null}=t;if(!!n){s==="start"&&(s=E.isBackward(n)?"focus":"anchor"),s==="end"&&(s=E.isBackward(n)?"anchor":"focus");var{anchor:o,focus:i}=n,l={distance:r,unit:u},c={};if(s==null||s==="anchor"){var D=a?f.before(e,o,l):f.after(e,o,l);D&&(c.anchor=D)}if(s==null||s==="focus"){var C=a?f.before(e,i,l):f.after(e,i,l);C&&(c.focus=C)}p.setSelection(e,c)}},select(e,t){var{selection:n}=e;if(t=f.range(e,t),n){p.setSelection(e,t);return}if(!E.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(we.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})},setPoint(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:r}=e,{edge:u="both"}=n;if(!!r){u==="start"&&(u=E.isBackward(r)?"focus":"anchor"),u==="end"&&(u=E.isBackward(r)?"anchor":"focus");var{anchor:a,focus:s}=r,o=u==="anchor"?a:s;p.setSelection(e,{[u==="anchor"?"anchor":"focus"]:Tr(Tr({},o),t)})}},setSelection(e,t){var{selection:n}=e,r={},u={};if(!!n){for(var a in t)(a==="anchor"&&t.anchor!=null&&!H.equals(t.anchor,n.anchor)||a==="focus"&&t.focus!=null&&!H.equals(t.focus,n.focus)||a!=="anchor"&&a!=="focus"&&t[a]!==n[a])&&(r[a]=n[a],u[a]=t[a]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:u})}}},Os={delete(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{reverse:n=!1,unit:r="character",distance:u=1,voids:a=!1}=t,{at:s=e.selection,hanging:o=!1}=t;if(!!s){if(E.isRange(s)&&E.isCollapsed(s)&&(s=s.anchor),H.isPoint(s)){var i=f.void(e,{at:s,mode:"highest"});if(!a&&i){var[,l]=i;s=l}else{var c={unit:r,distance:u},D=n?f.before(e,s,c)||f.start(e,[]):f.after(e,s,c)||f.end(e,[]);s={anchor:s,focus:D},o=!0}}if(g.isPath(s)){p.removeNodes(e,{at:s,voids:a});return}if(!E.isCollapsed(s)){if(!o){var[,C]=E.edges(s),h=f.end(e,[]);H.equals(C,h)||(s=f.unhangRange(e,s,{voids:a}))}var[v,m]=E.edges(s),A=f.above(e,{match:Me=>f.isBlock(e,Me),at:v,voids:a}),w=f.above(e,{match:Me=>f.isBlock(e,Me),at:m,voids:a}),F=A&&w&&!g.equals(A[1],w[1]),b=g.equals(v.path,m.path),k=a?null:f.void(e,{at:v,mode:"highest"}),_=a?null:f.void(e,{at:m,mode:"highest"});if(k){var y=f.before(e,v);y&&A&&g.isAncestor(A[1],y.path)&&(v=y)}if(_){var T=f.after(e,m);T&&w&&g.isAncestor(w[1],T.path)&&(m=T)}var d=[],L;for(var Q of f.nodes(e,{at:s,voids:a})){var[W,ae]=Q;L&&g.compare(ae,L)===0||(!a&&f.isVoid(e,W)||!g.isCommon(ae,v.path)&&!g.isCommon(ae,m.path))&&(d.push(Q),L=ae)}var K=Array.from(d,Me=>{var[,it]=Me;return f.pathRef(e,it)}),fe=f.pointRef(e,v),$=f.pointRef(e,m);if(!b&&!k){var P=fe.current,[ce]=f.leaf(e,P),{path:le}=P,{offset:ie}=v,Oe=ce.text.slice(ie);Oe.length>0&&e.apply({type:"remove_text",path:le,offset:ie,text:Oe})}for(var he of K){var De=he.unref();p.removeNodes(e,{at:De,voids:a})}if(!_){var pe=$.current,[z]=f.leaf(e,pe),{path:J}=pe,oe=b?v.offset:0,Ee=z.text.slice(oe,m.offset);Ee.length>0&&e.apply({type:"remove_text",path:J,offset:oe,text:Ee})}!b&&F&&$.current&&fe.current&&p.mergeNodes(e,{at:$.current,hanging:!0,voids:a});var ke=fe.unref(),Pe=$.unref(),Xe=n?ke||Pe:Pe||ke;t.at==null&&Xe&&p.select(e,Xe)}}})},insertFragment(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:u=!1}=n,{at:a=e.selection}=n;if(!!t.length){if(a)if(E.isRange(a))if(r||(a=f.unhangRange(e,a)),E.isCollapsed(a))a=a.anchor;else{var[,s]=E.edges(a);if(!u&&f.void(e,{at:s}))return;var o=f.pointRef(e,s);p.delete(e,{at:a}),a=o.unref()}else g.isPath(a)&&(a=f.start(e,a));else return;if(!(!u&&f.void(e,{at:a}))){var i=f.above(e,{at:a,match:z=>f.isInline(e,z),mode:"highest",voids:u});if(i){var[,l]=i;if(f.isEnd(e,a,l)){var c=f.after(e,l);a=c}else if(f.isStart(e,a,l)){var D=f.before(e,l);a=D}}var C=f.above(e,{match:z=>f.isBlock(e,z),at:a,voids:u}),[,h]=C,v=f.isStart(e,a,h),m=f.isEnd(e,a,h),A=v&&m,w=!v||v&&m,F=!m,[,b]=O.first({children:t},[]),[,k]=O.last({children:t},[]),_=[],y=z=>{var[J,oe]=z,Ee=oe.length===0;return Ee?!1:A?!0:!(w&&g.isAncestor(oe,b)&&G.isElement(J)&&!e.isVoid(J)&&!e.isInline(J)||F&&g.isAncestor(oe,k)&&G.isElement(J)&&!e.isVoid(J)&&!e.isInline(J))};for(var T of O.nodes({children:t},{pass:y}))y(T)&&_.push(T);var d=[],L=[],Q=[],W=!0,ae=!1;for(var[K]of _)G.isElement(K)&&!e.isInline(K)?(W=!1,ae=!0,L.push(K)):W?d.push(K):Q.push(K);var[fe]=f.nodes(e,{at:a,match:z=>N.isText(z)||f.isInline(e,z),mode:"highest",voids:u}),[,$]=fe,P=f.isStart(e,a,$),ce=f.isEnd(e,a,$),le=f.pathRef(e,m?g.next(h):h),ie=f.pathRef(e,ce?g.next($):$),Oe=f.pathRef(e,h);p.splitNodes(e,{at:a,match:z=>ae?f.isBlock(e,z):N.isText(z)||f.isInline(e,z),mode:ae?"lowest":"highest",voids:u});var he=f.pathRef(e,!P||P&&ce?g.next($):$);if(p.insertNodes(e,d,{at:he.current,match:z=>N.isText(z)||f.isInline(e,z),mode:"highest",voids:u}),A&&L.length&&p.delete(e,{at:Oe.unref(),voids:u}),p.insertNodes(e,L,{at:le.current,match:z=>f.isBlock(e,z),mode:"lowest",voids:u}),p.insertNodes(e,Q,{at:ie.current,match:z=>N.isText(z)||f.isInline(e,z),mode:"highest",voids:u}),!n.at){var De;Q.length>0?De=g.previous(ie.current):L.length>0?De=g.previous(le.current):De=g.previous(he.current);var pe=f.end(e,De);p.select(e,pe)}he.unref(),le.unref(),ie.unref()}}})},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:u=e.selection}=n;if(!!u){if(g.isPath(u)&&(u=f.range(e,u)),E.isRange(u))if(E.isCollapsed(u))u=u.anchor;else{var a=E.end(u);if(!r&&f.void(e,{at:a}))return;var s=E.start(u),o=f.pointRef(e,s),i=f.pointRef(e,a);p.delete(e,{at:u,voids:r});var l=o.unref(),c=i.unref();u=l||c,p.setSelection(e,{anchor:u,focus:u})}if(!(!r&&f.void(e,{at:u}))){var{path:D,offset:C}=u;t.length>0&&e.apply({type:"insert_text",path:D,offset:C,text:t})}}})}};function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rr(Object(n),!0).forEach(function(r){Ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var p=jt(jt(jt(jt({},As),ws),bs),Os);const vu="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",mu="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",_s=new RegExp("^[^"+mu+"]*["+vu+"]"),ks=new RegExp("^[^"+vu+"]*["+mu+"]");function Eu(e){const t=String(e||"");return _s.test(t)?"rtl":ks.test(t)?"ltr":"neutral"}function Au(e){return function(n,r,u,a,s,o,i){return e(n,r,i)}}function Jt(e){return function(n,r,u,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,u,a);var s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);var i=e(n,r,u,a);return a.delete(n),a.delete(r),i}}function Fu(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function jr(e){return e.constructor===Object||e.constructor==null}function Ir(e){return typeof e.then=="function"}function Qt(e,t){return e===t||e!==e&&t!==t}var Ps="[object Arguments]",Ss="[object Boolean]",xs="[object Date]",Ns="[object RegExp]",Ts="[object Map]",Rs="[object Number]",js="[object Object]",Is="[object Set]",Ls="[object String]",Lr=Object.prototype.toString;function $t(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,u=e.areObjectsEqual,a=e.areRegExpsEqual,s=e.areSetsEqual,o=e.createIsNestedEqual,i=o(l);function l(c,D,C){if(c===D)return!0;if(!c||!D||typeof c!="object"||typeof D!="object")return c!==c&&D!==D;if(jr(c)&&jr(D))return u(c,D,i,C);var h=Array.isArray(c),v=Array.isArray(D);if(h||v)return h===v&&t(c,D,i,C);var m=Lr.call(c);return m!==Lr.call(D)?!1:m===xs?n(c,D,i,C):m===Ns?a(c,D,i,C):m===Ts?r(c,D,i,C):m===Is?s(c,D,i,C):m===js||m===Ps?Ir(c)||Ir(D)?c===D:u(c,D,i,C):m===Ss||m===Rs||m===Ls?Qt(c.valueOf(),D.valueOf()):c===D}return l}function pu(e,t,n,r){var u=e.length;if(t.length!==u)return!1;for(;u-- >0;)if(!n(e[u],t[u],u,u,e,t,r))return!1;return!0}var Ms=Jt(pu);function wu(e,t){return Qt(e.valueOf(),t.valueOf())}function yu(e,t,n,r){var u=e.size===t.size;if(!u)return!1;if(!e.size)return!0;var a={},s=0;return e.forEach(function(o,i){if(!!u){var l=!1,c=0;t.forEach(function(D,C){!l&&!a[c]&&(l=n(i,C,s,c,e,t,r)&&n(o,D,i,C,e,t,r))&&(a[c]=!0),c++}),s++,u=l}}),u}var qs=Jt(yu),Ws="_owner",zs=Object.prototype.hasOwnProperty;function bu(e,t,n,r){var u=Object.keys(e),a=u.length;if(Object.keys(t).length!==a)return!1;for(var s;a-- >0;){if(s=u[a],s===Ws){var o=!!e.$$typeof,i=!!t.$$typeof;if((o||i)&&o!==i)return!1}if(!zs.call(t,s)||!n(e[s],t[s],s,s,e,t,r))return!1}return!0}var Vs=Jt(bu);function Ou(e,t){return e.source===t.source&&e.flags===t.flags}function _u(e,t,n,r){var u=e.size===t.size;if(!u)return!1;if(!e.size)return!0;var a={};return e.forEach(function(s,o){if(!!u){var i=!1,l=0;t.forEach(function(c,D){!i&&!a[l]&&(i=n(s,c,o,D,e,t,r))&&(a[l]=!0),l++}),u=i}}),u}var Hs=Jt(_u),ku=Object.freeze({areArraysEqual:pu,areDatesEqual:wu,areMapsEqual:yu,areObjectsEqual:bu,areRegExpsEqual:Ou,areSetsEqual:_u,createIsNestedEqual:Au}),Pu=Object.freeze({areArraysEqual:Ms,areDatesEqual:wu,areMapsEqual:qs,areObjectsEqual:Vs,areRegExpsEqual:Ou,areSetsEqual:Hs,createIsNestedEqual:Au});$t(ku);var Ks=$t(Fu(ku,{createIsNestedEqual:function(){return Qt}}));function Us(e,t){return Ks(e,t,void 0)}$t(Pu);$t(Fu(Pu,{createIsNestedEqual:function(){return Qt}}));let Ys=0;class Gs{constructor(){this.id=`${Ys++}`}toString(){return this.id}}const en=new WeakMap,tn=new WeakMap,kn=new WeakMap,Lt=new WeakMap,nn=new WeakMap,Kt=new WeakMap,Pn=new WeakMap,rn=new WeakMap,zn=new WeakMap,Dt=new WeakMap,Sn=new WeakMap,yt=Symbol("placeholder");function Vn(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||null}function Xs(e){return at(e)&&e.nodeType===8}function Te(e){return at(e)&&e.nodeType===1}function at(e){const t=Vn(e);return!!t&&e instanceof t.Node}function Mr(e){const t=e&&e.anchorNode&&Vn(e.anchorNode);return!!t&&e instanceof t.Selection}function Su(e){return at(e)&&e.nodeType===3}function Zs(e){return e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1}function Js(e){let[t,n]=e;if(Te(t)&&t.childNodes.length){let r=n===t.childNodes.length,u=r?n-1:n;for([t,u]=xu(t,u,r?"backward":"forward"),r=u<n;Te(t)&&t.childNodes.length;){const a=r?t.childNodes.length-1:0;t=$s(t,a,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]}function Qs(){return!!(window.document.activeElement&&window.document.activeElement.shadowRoot)}function xu(e,t,n){const{childNodes:r}=e;let u=r[t],a=t,s=!1,o=!1;for(;(Xs(u)||Te(u)&&u.childNodes.length===0||Te(u)&&u.getAttribute("contenteditable")==="false")&&!(s&&o);){if(a>=r.length){s=!0,a=t-1,n="backward";continue}if(a<0){o=!0,a=t+1,n="forward";continue}u=r[a],t=a,a+=n==="forward"?1:-1}return[u,t]}function $s(e,t,n){const[r]=xu(e,t,n);return r}function Nu(e){let t="";if(Su(e)&&e.nodeValue)return e.nodeValue;if(Te(e)){for(const r of Array.from(e.childNodes))t+=Nu(r);const n=getComputedStyle(e).getPropertyValue("display");(n==="block"||n==="list"||e.tagName==="BR")&&(t+=`
`)}return t}const ei=/data-slate-fragment="(.+?)"/m;function ti(e){const t=e.getData("text/html"),[,n]=t.match(ei)||[];return n}const ni=typeof navigator!="undefined"&&typeof window!="undefined"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,qr=typeof navigator!="undefined"&&/Mac OS X/.test(navigator.userAgent);typeof navigator!="undefined"&&/Android/.test(navigator.userAgent);const xn=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Bn=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),ri=typeof navigator!="undefined"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),Tu=typeof navigator!="undefined"&&/Chrome/i.test(navigator.userAgent),ui=typeof navigator!="undefined"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),ai=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),si=typeof navigator!="undefined"&&/.*QQBrowser/.test(navigator.userAgent),Wr=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",zr=!ui&&!ri&&typeof globalThis!="undefined"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function";function Hn(e){const t=kn.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t}function nt(e){let t=Pn.get(e);return t||(t=new Gs,Pn.set(e,t)),t}function ht(e){const t=[];let n=e;for(;;){const r=tn.get(n);if(r==null){if(f.isEditor(n))return t;break}const u=en.get(n);if(u==null)break;t.unshift(u),n=r}throw new Error(`Unable to find the path for Slate node: ${JSON.stringify(e)}`)}function At(e){const t=Ue(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument}function Vr(e){return!!Dt.get(e)}function No(e){return!!zn.get(e)}function ii(e){const t=Ue(e,e),n=At(e);Dt.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})}function Kn(e,t,n={}){const{editable:r=!1}=n,u=Ue(e,e);let a=null;try{a=Te(t)?t:t.parentElement}catch(s){if(!s.message.includes('Permission denied to access property "nodeType"'))throw s}return a?a.closest("[data-svelte-editor]")===u&&(!r||a.isContentEditable?!0:typeof a.isContentEditable=="boolean"&&a.closest('[contenteditable="false"]')===u||!!a.getAttribute("data-slate-zero-width")):!1}function Ue(e,t,n=!0){const r=rn.get(e),u=f.isEditor(t)?Lt.get(e):r==null?void 0:r.get(nt(t));if(!u&&n)throw new Error(`Cannot resolve a DOM node from Slate node: ${JSON.stringify(t)}`);return u}function Hr(e,t,n=!0){const[r]=f.node(e,t.path),u=Ue(e,r,n);let a;f.void(e,{at:t})&&(t={path:t.path,offset:0});const s="[data-slate-string], [data-slate-zero-width]",o=u?Array.from(u.querySelectorAll(s)):[];let i=0;for(const l of o){const c=l.childNodes[0];if(c==null||c.textContent==null)continue;const{length:D}=c.textContent,C=l.getAttribute("data-slate-length"),h=C==null?D:parseInt(C,10),v=i+h;if(t.offset<=v){const m=Math.min(D,Math.max(0,t.offset-i));a=[c,m];break}i=v}if(!a&&n)throw new Error(`Cannot resolve a DOM point from Slate point: ${JSON.stringify(t)}`);return a}function Ut(e,t,n=!0){const{anchor:r,focus:u}=t,a=E.isBackward(t),s=Hr(e,r,n);if(!s)return;const o=E.isCollapsed(t)?s:Hr(e,u),l=Hn(e).document.createRange(),[c,D]=a?o:s,[C,h]=a?s:o,m=!!(Te(c)?c:c.parentElement).getAttribute("data-slate-zero-width"),w=!!(Te(C)?C:C.parentElement).getAttribute("data-slate-zero-width");return l.setStart(c,m?1:D),l.setEnd(C,w?1:h),l}function tt(e){let t=Te(e)?e:e.parentElement;t&&!t.hasAttribute("data-slate-node")&&(t=t.closest("[data-slate-node]"));const n=t?nn.get(t):null;if(!n)throw new Error(`Cannot resolve a Slate node from DOM node: ${t}`);return n}function oi(e,t){const{clientX:n,clientY:r,target:u}=t;if(n==null||r==null)throw new Error(`Cannot resolve a Slate range from a DOM event: ${t}`);const a=tt(t.target),s=ht(a);if(f.isVoid(e,a)){const c=u.getBoundingClientRect(),D=e.isInline(a)?n-c.left<c.left+c.width-n:r-c.top<c.top+c.height-r,C=f.point(e,s,{edge:D?"start":"end"}),h=D?f.before(e,C):f.after(e,C);if(h)return f.range(e,h)}let o=null;const{document:i}=Hn(e);if(i.caretRangeFromPoint)o=i.caretRangeFromPoint(n,r);else{const c=i.caretPositionFromPoint(n,r);c&&(o=i.createRange(),o.setStart(c.offsetNode,c.offset),o.setEnd(c.offsetNode,c.offset))}if(!o)throw new Error(`Cannot resolve a Slate range from a DOM event: ${t}`);return Ft(e,o,{exactMatch:!1,suppressThrow:!1})}function Kr(e,t,n){var C,h,v,m;const{exactMatch:r,suppressThrow:u}=n,[a,s]=r?t:Js(t),o=a.parentNode;let i=null,l=0;if(o){const A=o.closest('[data-slate-void="true"]');let w=o.closest("[data-slate-leaf]"),F=null;if(w){if(i=w.closest('[data-slate-node="text"]'),i){const k=Hn(e).document.createRange();k.setStart(i,0),k.setEnd(a,s);const _=k.cloneContents();[...Array.prototype.slice.call(_.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(_.querySelectorAll("[contenteditable=false]"))].forEach(T=>{T.parentNode.removeChild(T)}),l=((C=_==null?void 0:_.textContent)==null?void 0:C.length)||0,F=i}}else A&&(w=A.querySelector("[data-slate-leaf]"),w?(i=w.closest('[data-slate-node="text"]'),F=w,l=((h=F==null?void 0:F.textContent)==null?void 0:h.length)||0,F.querySelectorAll("[data-slate-zero-width]").forEach(b=>{var k;l-=((k=b==null?void 0:b.textContent)==null?void 0:k.length)||0})):l=1);F&&l===((v=F==null?void 0:F.textContent)==null?void 0:v.length)&&(o.hasAttribute("data-slate-zero-width")||xn&&((m=F.textContent)==null?void 0:m.endsWith(`

`)))&&l--}if(!i){if(u)return null;throw new Error(`Cannot resolve a Slate point from DOM point: ${t}`)}const c=tt(i);return{path:ht(c),offset:l}}function Ft(e,t,n){const{exactMatch:r,suppressThrow:u}=n,a=Mr(t)?t.anchorNode:t.startContainer;let s=null,o=0,i=null,l=0,c=!1;if(a&&(Mr(t)?(s=t.anchorNode,o=t.anchorOffset,i=t.focusNode,l=t.focusOffset,Tu&&Qs()?c=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:c=t.isCollapsed):(s=t.startContainer,o=t.startOffset,i=t.endContainer,l=t.endOffset,c=t.collapsed)),s==null||i==null||o==null||l==null)throw new Error(`Cannot resolve a Slate range from DOM range: ${t}`);const D=Kr(e,[s,o],{exactMatch:r,suppressThrow:u});if(!D)return null;const C=c?D:Kr(e,[i,l],{exactMatch:r,suppressThrow:u});if(!C)return null;let h={anchor:D,focus:C};return E.isExpanded(h)&&E.isForward(h)&&Te(i)&&f.void(e,{at:h.focus,mode:"highest"})&&(h=f.unhangRange(e,h,{voids:!0})),h}function li(e,t){const{anchor:n,focus:r}=t;return f.hasPath(e,n.path)&&f.hasPath(e,r.path)}function Ru(e,t){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(let u=0;u<e.length;u++){const a=e[u],s=t[u],n=a,{anchor:o,focus:i}=n,l=Dn(n,["anchor","focus"]),r=s,{anchor:c,focus:D}=r,C=Dn(r,["anchor","focus"]);if(!E.equals(a,s)||a[yt]!==s[yt]||!Us(l,C))return!1}return!0}function ju(e,t){return e===t||!!e&&!!t&&E.equals(e,t)}function Le(){return{}}function Re(e){const t=ga(e);if(!t)throw new Error("Must be used inside the component's context.");return t}function xe(e,t){const n=ya(t);return ha(e,n),n}function fi(e){let t;const n=e[7].default,r=Ot(n,e,e[6],null);return{c(){r&&r.c()},l(u){r&&r.l(u)},m(u,a){r&&r.m(u,a),t=!0},p(u,[a]){r&&r.p&&(!t||a&64)&&_t(r,n,u,u[6],t?Pt(n,u[6],a,null):kt(u[6]),null)},i(u){t||(j(r,u),t=!0)},o(u){I(r,u),t=!1},d(u){r&&r.d(u)}}}const Iu=Le(),Lu=Le(),Mu=Le(),qu=Le(),Wu=Le(),zu=Le(),Vu=Le();function To(e,t){const n=Uu();ou(()=>(n.update(r=>{const u=r[e]||[];return cn(Tt({},r),{[e]:[...u,t]})}),()=>{n.update(r=>{const u=r[e]||[],a=u.indexOf(t);if(a===-1)return r;{const s=u.slice();return s.splice(a,1),cn(Tt({},r),{[e]:s})}})}))}function Be(e,t,n){const u=iu(e)[t]||[];for(const a of u){const s=a(n);if(s===!1||n.cancelBubble)return s}}function Hu(){return Re(Iu)}function st(){return iu(Hu())}function Ku(){return Re(Lu)}function ci(){return Re(Mu)}function Un(){return Re(qu)}function Di(){return Re(Wu)}function Uu(){return Re(zu)}function di(){return Re(Vu)}function Yu(e){return[]}function Ci(e,t,n){let{$$slots:r={},$$scope:u}=t,{editor:a}=t,{value:s=a.children}=t,{selection:o=a.selection}=t;const i=xe(Iu,a),l=xe(Wu,a.selection);xe(Lu,!0),xe(Mu,!1),xe(qu,Yu),xe(zu,{}),xe(Vu,void 0);function c(){n(1,o=a.selection),n(0,s=a.children)}Sn.set(a,c);let D=a,C,h;return e.$$set=v=>{"editor"in v&&n(2,a=v.editor),"value"in v&&n(0,s=v.value),"selection"in v&&n(1,o=v.selection),"$$scope"in v&&n(6,u=v.$$scope)},e.$$.update=()=>{e.$$.dirty&17&&C!==s&&(i.update(v=>(v.children=s,v)),n(4,C=s)),e.$$.dirty&12&&D!==a&&(n(3,D=a),Sn.set(a,c),i.set(a)),e.$$.dirty&38&&(ju(h,o)||(l.set(o),i.set(a),n(5,h=o)))},[s,o,a,D,C,h,u,r]}class Ro extends Ae{constructor(t){super(),Fe(this,t,Ci,fi,We,{editor:2,value:0,selection:1})}}function Ur(e){let t=`
`,n;return{c(){n=Yt(t)},l(r){n=Gt(r,t)},m(r,u){Z(r,n,u)},d(r){r&&q(n)}}}function hi(e){let t,n=e[0].text+"",r,u=e[1]&&Ur();return{c(){t=je("span"),r=Yt(n),u&&u.c(),this.h()},l(a){t=Ie(a,"SPAN",{"data-slate-string":!0});var s=ze(t);r=Gt(s,n),u&&u.l(s),s.forEach(q),this.h()},h(){U(t,"data-slate-string","true")},m(a,s){Z(a,t,s),lu(t,r),u&&u.m(t,null),e[3](t)},p(a,[s]){s&1&&n!==(n=a[0].text+"")&&fu(r,n),a[1]?u||(u=Ur(),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},i:Ct,o:Ct,d(a){a&&q(t),u&&u.d(),e[3](null)}}}function gi(e,t,n){let{leaf:r}=t,{isTrailing:u=!1}=t,a;Ba(()=>{a&&n(2,a.textContent=r.text,a)});function s(o){Ye[o?"unshift":"push"](()=>{a=o,n(2,a)})}return e.$$set=o=>{"leaf"in o&&n(0,r=o.leaf),"isTrailing"in o&&n(1,u=o.isTrailing)},[r,u,a,s]}class Bi extends Ae{constructor(t){super(),Fe(this,t,gi,hi,We,{leaf:0,isTrailing:1})}}function Yr(e){let t;return{c(){t=je("br")},l(n){t=Ie(n,"BR",{})},m(n,r){Z(n,t,r)},d(n){n&&q(t)}}}function vi(e){let t,n="\uFEFF",r,u,a=e[1]&&Yr();return{c(){t=je("span"),r=Yt(n),a&&a.c(),this.h()},l(s){t=Ie(s,"SPAN",{"data-slate-zero-width":!0,"data-slate-length":!0});var o=ze(t);r=Gt(o,n),a&&a.l(o),o.forEach(q),this.h()},h(){U(t,"data-slate-zero-width",u=e[1]?"n":"z"),U(t,"data-slate-length",e[0])},m(s,o){Z(s,t,o),lu(t,r),a&&a.m(t,null)},p(s,[o]){s[1]?a||(a=Yr(),a.c(),a.m(t,null)):a&&(a.d(1),a=null),o&2&&u!==(u=s[1]?"n":"z")&&U(t,"data-slate-zero-width",u),o&1&&U(t,"data-slate-length",s[0])},i:Ct,o:Ct,d(s){s&&q(t),a&&a.d()}}}function mi(e,t,n){let{length:r=0}=t,{isLineBreak:u=!1}=t;return e.$$set=a=>{"length"in a&&n(0,r=a.length),"isLineBreak"in a&&n(1,u=a.isLineBreak)},[r,u]}class Yn extends Ae{constructor(t){super(),Fe(this,t,mi,vi,We,{length:0,isLineBreak:1})}}function Ei(e){let t,n;return t=new Bi({props:{isTrailing:e[5],leaf:e[0]}}),{c(){te(t.$$.fragment)},l(r){Ce(t.$$.fragment,r)},m(r,u){ne(t,r,u),n=!0},p(r,u){const a={};u&32&&(a.isTrailing=r[5]),u&1&&(a.leaf=r[0]),t.$set(a)},i(r){n||(j(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){re(t,r)}}}function Ai(e){let t,n;return t=new Yn({}),{c(){te(t.$$.fragment)},l(r){Ce(t.$$.fragment,r)},m(r,u){ne(t,r,u),n=!0},p:Ct,i(r){n||(j(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){re(t,r)}}}function Fi(e){let t,n;return t=new Yn({props:{isLineBreak:!0}}),{c(){te(t.$$.fragment)},l(r){Ce(t.$$.fragment,r)},m(r,u){ne(t,r,u),n=!0},p:Ct,i(r){n||(j(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){re(t,r)}}}function pi(e){let t,n;return t=new Yn({props:{length:O.string(e[1]).length}}),{c(){te(t.$$.fragment)},l(r){Ce(t.$$.fragment,r)},m(r,u){ne(t,r,u),n=!0},p(r,u){const a={};u&2&&(a.length=O.string(r[1]).length),t.$set(a)},i(r){n||(j(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){re(t,r)}}}function wi(e){let t,n,r,u;const a=[pi,Fi,Ai,Ei],s=[];function o(i,l){return i[4]?0:i[3]?1:i[2]?2:3}return t=o(e),n=s[t]=a[t](e),{c(){n.c(),r=X()},l(i){n.l(i),r=X()},m(i,l){s[t].m(i,l),Z(i,r,l),u=!0},p(i,[l]){let c=t;t=o(i),t===c?s[t].p(i,l):(ve(),I(s[c],1,1,()=>{s[c]=null}),me(),n=s[t],n?n.p(i,l):(n=s[t]=a[t](i),n.c()),j(n,1),n.m(r.parentNode,r))},i(i){u||(j(n),u=!0)},o(i){I(n),u=!1},d(i){s[t].d(i),i&&q(r)}}}function yi(e,t,n){let r,u,a,s,o,i,{isLast:l}=t,{leaf:c}=t,{parent:D}=t,{text:C}=t;const h=st();return e.$$set=v=>{"isLast"in v&&n(6,l=v.isLast),"leaf"in v&&n(0,c=v.leaf),"parent"in v&&n(1,D=v.parent),"text"in v&&n(7,C=v.text)},e.$$.update=()=>{e.$$.dirty&65&&n(5,r=l&&c.text.slice(-1)===`
`),e.$$.dirty&128&&n(9,u=ht(C)),e.$$.dirty&512&&n(8,a=g.parent(u)),e.$$.dirty&2&&n(4,s=h.isVoid(D)),e.$$.dirty&1&&n(2,o=c.text===""),e.$$.dirty&390&&n(3,i=o&&D.children[D.children.length-1]===C&&!h.isInline(D)&&f.string(h,a)==="")},[c,D,o,i,s,r,l,C,a,u]}class bi extends Ae{constructor(t){super(),Fe(this,t,yi,wi,We,{isLast:6,leaf:0,parent:1,text:7})}}function Oi(e,t,n){var r=n||{},u=r.noTrailing,a=u===void 0?!1:u,s=r.noLeading,o=s===void 0?!1:s,i=r.debounceMode,l=i===void 0?void 0:i,c,D=!1,C=0;function h(){c&&clearTimeout(c)}function v(A){var w=A||{},F=w.upcomingOnly,b=F===void 0?!1:F;h(),D=!b}function m(){for(var A=arguments.length,w=new Array(A),F=0;F<A;F++)w[F]=arguments[F];var b=this,k=Date.now()-C;if(D)return;function _(){C=Date.now(),t.apply(b,w)}function y(){c=void 0}!o&&l&&!c&&_(),h(),l===void 0&&k>e?o?(C=Date.now(),a||(c=setTimeout(l?y:_,e))):_():a!==!0&&(c=setTimeout(l?y:_,l===void 0?e-k:e))}return m.cancel=v,m}function _i(e,t,n){var r=n||{},u=r.atBegin,a=u===void 0?!1:u;return Oi(e,t,{debounceMode:a!==!1})}function Gr(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Xr(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function vn(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Xr(n.overflowY,t)||Xr(n.overflowX,t)||function(r){var u=function(a){if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!u&&(u.clientHeight<r.scrollHeight||u.clientWidth<r.scrollWidth)}(e)}return!1}function It(e,t,n,r,u,a,s,o){return a<e&&s>t||a>e&&s<t?0:a<=e&&o<=n||s>=t&&o>=n?a-e-r:s>t&&o<n||a<e&&o>n?s-t+u:0}function Zr(e,t){var n=window,r=t.scrollMode,u=t.block,a=t.inline,s=t.boundary,o=t.skipOverflowHiddenElements,i=typeof s=="function"?s:function(Xe){return Xe!==s};if(!Gr(e))throw new TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,c=[],D=e;Gr(D)&&i(D);){if((D=D.parentElement)===l){c.push(D);break}D!=null&&D===document.body&&vn(D)&&!vn(document.documentElement)||D!=null&&vn(D,o)&&c.push(D)}for(var C=n.visualViewport?n.visualViewport.width:innerWidth,h=n.visualViewport?n.visualViewport.height:innerHeight,v=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,A=e.getBoundingClientRect(),w=A.height,F=A.width,b=A.top,k=A.right,_=A.bottom,y=A.left,T=u==="start"||u==="nearest"?b:u==="end"?_:b+w/2,d=a==="center"?y+F/2:a==="end"?k:y,L=[],Q=0;Q<c.length;Q++){var W=c[Q],ae=W.getBoundingClientRect(),K=ae.height,fe=ae.width,$=ae.top,P=ae.right,ce=ae.bottom,le=ae.left;if(r==="if-needed"&&b>=0&&y>=0&&_<=h&&k<=C&&b>=$&&_<=ce&&y>=le&&k<=P)return L;var ie=getComputedStyle(W),Oe=parseInt(ie.borderLeftWidth,10),he=parseInt(ie.borderTopWidth,10),De=parseInt(ie.borderRightWidth,10),pe=parseInt(ie.borderBottomWidth,10),z=0,J=0,oe="offsetWidth"in W?W.offsetWidth-W.clientWidth-Oe-De:0,Ee="offsetHeight"in W?W.offsetHeight-W.clientHeight-he-pe:0;if(l===W)z=u==="start"?T:u==="end"?T-h:u==="nearest"?It(m,m+h,h,he,pe,m+T,m+T+w,w):T-h/2,J=a==="start"?d:a==="center"?d-C/2:a==="end"?d-C:It(v,v+C,C,Oe,De,v+d,v+d+F,F),z=Math.max(0,z+m),J=Math.max(0,J+v);else{z=u==="start"?T-$-he:u==="end"?T-ce+pe+Ee:u==="nearest"?It($,ce,K,he,pe+Ee,T,T+w,w):T-($+K/2)+Ee/2,J=a==="start"?d-le-Oe:a==="center"?d-(le+fe/2)+oe/2:a==="end"?d-P+De+oe:It(le,P,fe,Oe,De+oe,d,d+F,F);var ke=W.scrollLeft,Pe=W.scrollTop;T+=Pe-(z=Math.max(0,Math.min(Pe+z,W.scrollHeight-K+Ee))),d+=ke-(J=Math.max(0,Math.min(ke+J,W.scrollWidth-fe+oe)))}L.push({el:W,top:z,left:J})}return L}function Gu(e){return e===Object(e)&&Object.keys(e).length!==0}function ki(e,t){t===void 0&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(r){var u=r.el,a=r.top,s=r.left;u.scroll&&n?u.scroll({top:a,left:s,behavior:t}):(u.scrollTop=a,u.scrollLeft=s)})}function Pi(e){return e===!1?{block:"end",inline:"nearest"}:Gu(e)?e:{block:"start",inline:"nearest"}}function Si(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(Gu(t)&&typeof t.behavior=="function")return t.behavior(n?Zr(e,t):[]);if(!!n){var r=Pi(t);return ki(Zr(e,r),r.behavior)}}function xi(e){let t,n;const r=e[7].default,u=Ot(r,e,e[6],null);return{c(){t=je("div"),u&&u.c(),this.h()},l(a){t=Ie(a,"DIV",{"data-slate-node":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var s=ze(t);u&&u.l(s),s.forEach(q),this.h()},h(){U(t,"data-slate-node","element"),U(t,"data-slate-void",e[2]),U(t,"dir",e[4]),U(t,"contenteditable",e[3]),U(t,"class","svelte-19k8gul")},m(a,s){Z(a,t,s),u&&u.m(t,null),e[9](t),n=!0},p(a,s){u&&u.p&&(!n||s&64)&&_t(u,r,a,a[6],n?Pt(r,a[6],s,null):kt(a[6]),null),(!n||s&4)&&U(t,"data-slate-void",a[2]),(!n||s&16)&&U(t,"dir",a[4]),(!n||s&8)&&U(t,"contenteditable",a[3])},i(a){n||(j(u,a),n=!0)},o(a){I(u,a),n=!1},d(a){a&&q(t),u&&u.d(a),e[9](null)}}}function Ni(e){let t,n;const r=e[7].default,u=Ot(r,e,e[6],null);return{c(){t=je("span"),u&&u.c(),this.h()},l(a){t=Ie(a,"SPAN",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var s=ze(t);u&&u.l(s),s.forEach(q),this.h()},h(){U(t,"data-slate-node","element"),U(t,"data-slate-inline",e[1]),U(t,"data-slate-void",e[2]),U(t,"dir",e[4]),U(t,"contenteditable",e[3]),U(t,"class","svelte-19k8gul")},m(a,s){Z(a,t,s),u&&u.m(t,null),e[8](t),n=!0},p(a,s){u&&u.p&&(!n||s&64)&&_t(u,r,a,a[6],n?Pt(r,a[6],s,null):kt(a[6]),null),(!n||s&2)&&U(t,"data-slate-inline",a[1]),(!n||s&4)&&U(t,"data-slate-void",a[2]),(!n||s&16)&&U(t,"dir",a[4]),(!n||s&8)&&U(t,"contenteditable",a[3])},i(a){n||(j(u,a),n=!0)},o(a){I(u,a),n=!1},d(a){a&&q(t),u&&u.d(a),e[8](null)}}}function Ti(e){let t,n,r,u;const a=[Ni,xi],s=[];function o(i,l){return i[1]?0:1}return t=o(e),n=s[t]=a[t](e),{c(){n.c(),r=X()},l(i){n.l(i),r=X()},m(i,l){s[t].m(i,l),Z(i,r,l),u=!0},p(i,[l]){let c=t;t=o(i),t===c?s[t].p(i,l):(ve(),I(s[c],1,1,()=>{s[c]=null}),me(),n=s[t],n?n.p(i,l):(n=s[t]=a[t](i),n.c()),j(n,1),n.m(r.parentNode,r))},i(i){u||(j(n),u=!0)},o(i){I(n),u=!1},d(i){s[t].d(i),i&&q(r)}}}function Ri(e,t,n){let{$$slots:r={},$$scope:u}=t,{element:a}=t,{isInline:s}=t,{isVoid:o}=t,{contenteditable:i}=t,{ref:l=void 0}=t,{dir:c=void 0}=t;function D(h){Ye[h?"unshift":"push"](()=>{l=h,n(0,l)})}function C(h){Ye[h?"unshift":"push"](()=>{l=h,n(0,l)})}return e.$$set=h=>{"element"in h&&n(5,a=h.element),"isInline"in h&&n(1,s=h.isInline),"isVoid"in h&&n(2,o=h.isVoid),"contenteditable"in h&&n(3,i=h.contenteditable),"ref"in h&&n(0,l=h.ref),"dir"in h&&n(4,c=h.dir),"$$scope"in h&&n(6,u=h.$$scope)},[l,s,o,i,c,a,u,r,D,C]}class ji extends Ae{constructor(t){super(),Fe(this,t,Ri,Ti,We,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Ii(e){let t,n;const r=e[2].default,u=Ot(r,e,e[1],null);return{c(){t=je("span"),u&&u.c(),this.h()},l(a){t=Ie(a,"SPAN",{"data-slate-leaf":!0});var s=ze(t);u&&u.l(s),s.forEach(q),this.h()},h(){U(t,"data-slate-leaf","true")},m(a,s){Z(a,t,s),u&&u.m(t,null),n=!0},p(a,[s]){u&&u.p&&(!n||s&2)&&_t(u,r,a,a[1],n?Pt(r,a[1],s,null):kt(a[1]),null)},i(a){n||(j(u,a),n=!0)},o(a){I(u,a),n=!1},d(a){a&&q(t),u&&u.d(a)}}}function Li(e,t,n){let{$$slots:r={},$$scope:u}=t,{leaf:a}=t;return e.$$set=s=>{"leaf"in s&&n(0,a=s.leaf),"$$scope"in s&&n(1,u=s.$$scope)},[a,u,r]}class Mi extends Ae{constructor(t){super(),Fe(this,t,Li,Ii,We,{leaf:0})}}function qi(e){let t,n,r;const u=e[2].default,a=Ot(u,e,e[1],null);return{c(){t=je("span"),a&&a.c(),this.h()},l(s){t=Ie(s,"SPAN",{"data-slate-placeholder":!0,contenteditable:!0,class:!0});var o=ze(t);a&&a.l(o),o.forEach(q),this.h()},h(){U(t,"data-slate-placeholder","true"),U(t,"contenteditable","false"),U(t,"class","svelte-lqbb94"),va(()=>e[3].call(t))},m(s,o){Z(s,t,o),a&&a.m(t,null),n=ma(t,e[3].bind(t)),r=!0},p(s,[o]){a&&a.p&&(!r||o&2)&&_t(a,u,s,s[1],r?Pt(u,s[1],o,null):kt(s[1]),null)},i(s){r||(j(a,s),r=!0)},o(s){I(a,s),r=!1},d(s){s&&q(t),a&&a.d(s),n()}}}function Wi(e,t,n){let{$$slots:r={},$$scope:u}=t,{clientHeight:a=void 0}=t;function s(){a=this.clientHeight,n(0,a)}return e.$$set=o=>{"clientHeight"in o&&n(0,a=o.clientHeight),"$$scope"in o&&n(1,u=o.$$scope)},[a,u,r,s]}class zi extends Ae{constructor(t){super(),Fe(this,t,Wi,qi,We,{clientHeight:0})}}const Vi=typeof window!="undefined"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),mn={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Xu={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Vi?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Gn={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(let e=1;e<20;e++)Gn["f"+e]=111+e;function Zu(e,t={}){Array.isArray(e)||(e=[e]);const n=e.map(r=>Hi(r,t));return function(u){return n.some(a=>Ki(a,u))}}function jo(e,t,n={}){return Zu(e,n)(t)}function En(e){return Zu(e,{byKey:!0})}function Hi(e,t={}){const n=t&&t.byKey,r={};e=e.replace("++","+add");const u=e.split("+"),{length:a}=u;for(const s in mn)r[mn[s]]=!1;for(let s of u){const o=s.endsWith("?")&&s.length>1;o&&(s=s.slice(0,-1));const i=Ju(s),l=mn[i];if(s.length>1&&!l&&!Xu[s]&&!Gn[i])throw new TypeError(`Unknown modifier: "${s}"`);(a===1||!l)&&(n?r.key=i:r.which=Ui(s)),l&&(r[l]=o?null:!0)}return r}function Ki(e,t){for(const n in e){const r=e[n];let u;if(r!=null&&(n==="key"&&t.key!=null?u=t.key.toLowerCase():n==="which"?u=r===91&&t.which===93?91:t.which:u=t[n],!(u==null&&r===!1)&&u!==r))return!1}return!0}function Ui(e){return e=Ju(e),Gn[e]||e.toUpperCase().charCodeAt(0)}function Ju(e){return e=e.toLowerCase(),e=Xu[e]||e,e}const Yi={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},Gi={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Xi={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]};function ue(e){const t=Yi[e],n=Gi[e],r=Xi[e],u=t&&En(t),a=n&&En(n),s=r&&En(r);return o=>!!(u&&u(o)||qr&&a&&a(o)||!qr&&s&&s(o))}var se={isBold:ue("bold"),isCompose:ue("compose"),isMoveBackward:ue("moveBackward"),isMoveForward:ue("moveForward"),isDeleteBackward:ue("deleteBackward"),isDeleteForward:ue("deleteForward"),isDeleteLineBackward:ue("deleteLineBackward"),isDeleteLineForward:ue("deleteLineForward"),isDeleteWordBackward:ue("deleteWordBackward"),isDeleteWordForward:ue("deleteWordForward"),isExtendBackward:ue("extendBackward"),isExtendForward:ue("extendForward"),isExtendLineBackward:ue("extendLineBackward"),isExtendLineForward:ue("extendLineForward"),isItalic:ue("italic"),isMoveLineBackward:ue("moveLineBackward"),isMoveLineForward:ue("moveLineForward"),isMoveWordBackward:ue("moveWordBackward"),isMoveWordForward:ue("moveWordForward"),isRedo:ue("redo"),isSplitBlock:ue("splitBlock"),isTransposeCharacter:ue("transposeCharacter"),isUndo:ue("undo")};function Zi(e){let t,n,r,u,a,s,o,i;n=new na({props:{node:e[6],selection:e[7],decorations:e[5]}});let l=[e[26],{role:r=e[4].readOnly?void 0:"textbox"},{spellcheck:e[1]},{autocorrect:e[2]},{autocapitalize:e[3]},{"data-svelte-editor":""},{"data-slate-node":"value"},{contenteditable:u=!e[4].readOnly},{"z-index":a=-1}],c={};for(let D=0;D<l.length;D+=1)c=pn(c,l[D]);return{c(){t=je("div"),te(n.$$.fragment),this.h()},l(D){t=Ie(D,"DIV",{role:!0,spellcheck:!0,autocorrect:!0,autocapitalize:!0,"data-svelte-editor":!0,"data-slate-node":!0,contenteditable:!0,"z-index":!0});var C=ze(t);Ce(n.$$.fragment,C),C.forEach(q),this.h()},h(){$n(t,c),er(t,"svelte-m59z04",!0)},m(D,C){Z(D,t,C),ne(n,t,null),e[38](t),s=!0,o||(i=[ge(t,"beforeinput",e[10]),ge(t,"keydown",e[12]),ge(t,"input",e[11]),ge(t,"focus",e[13]),ge(t,"blur",e[14]),ge(t,"click",e[15]),ge(t,"compositionend",e[16]),ge(t,"compositionupdate",e[17]),ge(t,"compositionstart",e[18]),ge(t,"paste",e[19]),ge(t,"copy",e[20]),ge(t,"cut",e[21]),ge(t,"dragover",e[22]),ge(t,"dragstart",e[23]),ge(t,"drop",e[24]),ge(t,"dragend",e[25])],o=!0)},p(D,C){const h={};C[0]&64&&(h.node=D[6]),C[0]&128&&(h.selection=D[7]),C[0]&32&&(h.decorations=D[5]),n.$set(h),$n(t,c=Ea(l,[C[0]&67108864&&D[26],(!s||C[0]&16&&r!==(r=D[4].readOnly?void 0:"textbox"))&&{role:r},(!s||C[0]&2)&&{spellcheck:D[1]},(!s||C[0]&4)&&{autocorrect:D[2]},(!s||C[0]&8)&&{autocapitalize:D[3]},{"data-svelte-editor":""},{"data-slate-node":"value"},(!s||C[0]&16&&u!==(u=!D[4].readOnly))&&{contenteditable:u},{"z-index":a}])),er(t,"svelte-m59z04",!0)},i(D){s||(j(n.$$.fragment,D),s=!0)},o(D){I(n.$$.fragment,D),s=!1},d(D){D&&q(t),re(n),e[38](null),o=!1,Aa(i)}}}const Qu=Le(),$u=Le(),ea=Le();function ft(e,t){return at(t)&&Kn(e,t)}function _e(e,t){return at(t)&&Kn(e,t,{editable:!0})}function Jr(e,t){if(zn.get(e))return!1;{const n=ft(e,t)&&tt(t);return f.isVoid(e,n)}}function Ji(e,t){const n=t.startContainer.parentElement,r=n.getBoundingClientRect;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),Si(n,{scrollMode:"if-needed"}),n.getBoundingClientRect=r}function Qi(e,t,n){const r=["Element","Leaf","Placeholder","placeholder","readOnly","autoFocus","decorate","scrollSelectionIntoView","ref","spellcheck","autocorrect","autocapitalize","onKeyDown"];let u=tr(t,r),a,s,{Element:o=ji}=t,{Leaf:i=Mi}=t,{Placeholder:l=zi}=t,{placeholder:c=void 0}=t,{readOnly:D=!1}=t,{autoFocus:C=!1}=t,{decorate:h=Yu}=t,{scrollSelectionIntoView:v=Ji}=t,{ref:m=void 0}=t,{spellcheck:A=!0}=t,{autocorrect:w="true"}=t,{autocapitalize:F="true"}=t,{onKeyDown:b=()=>{}}=t;const k=di(),_=xe(Qu,o),y=xe($u,i),T=xe(ea,l),d=st(),L=Hu();Qe(e,L,B=>n(6,a=B));const Q=Ku(),W=ci(),ae=Un(),K=Uu(),fe=Di();Qe(e,fe,B=>n(7,s=B));const $=[],P={isComposing:!1,hasInsertPrefixInCompositon:!0,updateSelectionTimeoutId:null,isDraggingInternally:!1,latestElement:null,readOnly:D};let ce=[],le;function ie(){if(P.isComposing||P.isDraggingInternally||P.updateSelectionTimeoutId)he();else{const B=At(d),x=Ue(d,d),S=B.getSelection();if(B.activeElement===x?(n(4,P.latestElement=B.activeElement,P),Dt.set(d,!0),W.set(!0)):(Dt.delete(d),W.set(!1)),!S){p.deselect(d);return}const M=_e(d,S.anchorNode)||Jr(d,S.anchorNode),V=_e(d,S.focusNode)||Jr(d,S.focusNode);if(M&&V){const Y=Ft(d,S,{exactMatch:!1,suppressThrow:!0});if(Y){p.select(d,Y);return}}p.deselect(d)}}const he=_i(0,()=>nr().then(ie));ou(()=>{const B=Vn(m);return B&&(kn.set(d,B),B.document.addEventListener("selectionchange",he)),Lt.set(d,m),Kt.set(d,m),nn.set(m,d),()=>{Lt.delete(d),Kt.delete(d),B&&(kn.delete(d),B.document.removeEventListener("selectionchange",he))}});function De(){const B=At(d),x=B==null?void 0:B.getSelection();if(P.isComposing||!x||!Vr(d))return;const S=x.type!=="None";if(!d.selection&&!S)return;const M=Lt.get(d);let V=!1;if(M.contains(x.anchorNode)&&M.contains(x.focusNode)&&(V=!0),S&&V&&d.selection){const He=Ft(d,x,{exactMatch:!0,suppressThrow:!0});if(He&&E.equals(He,d.selection))return}if(d.selection&&!li(d,d.selection)){n(36,d.selection=Ft(d,x,{exactMatch:!1,suppressThrow:!1}),d),fe.set(d.selection);return}const Y=d.selection&&V&&Ut(d,d.selection);Y?(E.isBackward(d.selection)?x.setBaseAndExtent(Y.endContainer,Y.endOffset,Y.startContainer,Y.startOffset):x.setBaseAndExtent(Y.startContainer,Y.startOffset,Y.endContainer,Y.endOffset),v(d,Y)):x.removeAllRanges(),P.updateSelectionTimeoutId&&clearTimeout(P.updateSelectionTimeoutId);let Se=setTimeout(()=>{Y&&xn&&Ue(d,d).focus(),Object.assign(P,{updateSelectionTimeoutId:null})});Object.assign(P,{updateSelectionTimeoutId:Se})}Fa(()=>nr().then(De));function pe(B){if(!P.readOnly&&_e(d,B.target)){const x=B.inputType,S=B.dataTransfer||B.data||void 0;if(Be(K,"onBeforeInput",B)===!1||B.cancelBubble||x==="insertCompositionText"||x==="deleteCompositionText")return;let M=!1;if(x==="insertText"&&d.selection&&E.isCollapsed(d.selection)&&B.data&&B.data.length===1&&/[a-z ]/i.test(B.data)&&d.selection.anchor.offset!==0){M=!0,d.marks&&(M=!1);const V=f.above(d,{at:d.selection.anchor,match:Y=>f.isInline(d,Y),mode:"highest"});if(V){const[,Y]=V;f.isEnd(d,d.selection.anchor,Y)&&(M=!1)}}if(M||B.preventDefault(),!x.startsWith("delete")||x.startsWith("deleteBy")){const[V]=B.getTargetRanges();if(V){const Y=Ft(d,V,{exactMatch:!1,suppressThrow:!1});(!d.selection||!E.equals(d.selection,Y))&&p.select(d,Y)}}if(d.selection&&E.isExpanded(d.selection)&&x.startsWith("delete")){const V=x.endsWith("Backward")?"backward":"forward";f.deleteFragment(d,{direction:V});return}switch(x){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{f.deleteFragment(d);break}case"deleteContent":case"deleteContentForward":{f.deleteForward(d);break}case"deleteContentBackward":{f.deleteBackward(d);break}case"deleteEntireSoftLine":{f.deleteBackward(d,{unit:"line"}),f.deleteForward(d,{unit:"line"});break}case"deleteHardLineBackward":{f.deleteBackward(d,{unit:"block"});break}case"deleteSoftLineBackward":{f.deleteBackward(d,{unit:"line"});break}case"deleteHardLineForward":{f.deleteForward(d,{unit:"block"});break}case"deleteSoftLineForward":{f.deleteForward(d,{unit:"line"});break}case"deleteWordBackward":{f.deleteBackward(d,{unit:"word"});break}case"deleteWordForward":{f.deleteForward(d,{unit:"word"});break}case"insertLineBreak":{f.insertSoftBreak(d);break}case"insertParagraph":{f.insertBreak(d);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{d.selection&&E.isExpanded(d.selection)&&f.deleteFragment(d),x==="insertFromComposition"&&P.isComposing&&n(4,P.isComposing=!1,P),(S==null?void 0:S.constructor.name)==="DataTransfer"?d.insertData(S):typeof S=="string"&&(M?$.push(()=>f.insertText(d,S)):f.insertText(d,S));break}}}}function z(B){for(const x of $)x();$.length=0}function J(B){if(!P.readOnly&&!P.isComposing&&_e(d,B.target)){const x=d.children[d.selection!==null?d.selection.focus.path[0]:0],S=Eu(O.string(x))==="rtl";if(se.isRedo(B)){B.preventDefault();const M=d;typeof M.redo=="function"&&M.redo()}else if(se.isUndo(B)){B.preventDefault();const M=d;typeof M.undo=="function"&&M.undo()}else if(se.isMoveLineBackward(B))B.preventDefault(),p.move(d,{unit:"line",reverse:!0});else if(se.isMoveLineForward(B))B.preventDefault(),p.move(d,{unit:"line"});else if(se.isExtendLineBackward(B))B.preventDefault(),p.move(d,{unit:"line",edge:"focus",reverse:!0});else if(se.isExtendLineForward(B))B.preventDefault(),p.move(d,{unit:"line",edge:"focus"});else if(se.isMoveBackward(B))B.preventDefault(),d.selection&&E.isCollapsed(d.selection)?p.move(d,{reverse:!S}):p.collapse(d,{edge:"start"});else if(se.isMoveForward(B))B.preventDefault(),d.selection&&E.isCollapsed(d.selection)?p.move(d,{reverse:S}):p.collapse(d,{edge:"end"});else if(se.isMoveWordBackward(B))B.preventDefault(),d.selection&&E.isExpanded(d.selection)&&p.collapse(d,{edge:"focus"}),p.move(d,{unit:"word",reverse:!S});else if(se.isMoveWordForward(B))B.preventDefault(),d.selection&&E.isExpanded(d.selection)&&p.collapse(d,{edge:"focus"}),p.move(d,{unit:"word",reverse:S});else if(zr){if((Tu||Bn)&&d.selection&&(se.isDeleteBackward(B)||se.isDeleteForward(B))&&E.isCollapsed(d.selection)){const V=O.parent(d,d.selection.anchor.path);if(G.isElement(V)&&f.isVoid(d,V)&&f.isInline(d,V)){B.preventDefault(),f.deleteBackward(d,{unit:"block"});return}}const M=b(B);return M===!1||B.cancelBubble?M:Be(K,"onKeyDown",B)}else{se.isBold(B)||se.isItalic(B)||se.isTransposeCharacter(B)?B.preventDefault():se.isSplitBlock(B)?(B.preventDefault(),f.insertBreak(d)):se.isDeleteBackward(B)?(B.preventDefault(),d.selection&&E.isExpanded(d.selection)?f.deleteFragment(d,{direction:"backward"}):f.deleteBackward(d)):se.isDeleteForward(B)?(B.preventDefault(),d.selection&&E.isExpanded(d.selection)?f.deleteFragment(d,{direction:"forward"}):f.deleteForward(d)):se.isDeleteLineBackward(B)?(B.preventDefault(),d.selection&&E.isExpanded(d.selection)?f.deleteFragment(d,{direction:"backward"}):f.deleteBackward(d,{unit:"line"})):se.isDeleteLineForward(B)?(B.preventDefault(),d.selection&&E.isExpanded(d.selection)?f.deleteFragment(d,{direction:"forward"}):f.deleteForward(d,{unit:"line"})):se.isDeleteWordBackward(B)?(B.preventDefault(),d.selection&&E.isExpanded(d.selection)?f.deleteFragment(d,{direction:"backward"}):f.deleteBackward(d,{unit:"word"})):se.isDeleteWordForward(B)&&(B.preventDefault(),d.selection&&E.isExpanded(d.selection)?f.deleteFragment(d,{direction:"forward"}):f.deleteForward(d,{unit:"word"}));const M=b(B);return M===!1||B.cancelBubble?M:Be(K,"onKeyDown",B)}}}function oe(B){if(!P.readOnly&&!P.updateSelectionTimeoutId&&_e(d,B.target)){const x=Ue(d,d),S=At(d);if(n(4,P.latestElement=S.activeElement,P),xn&&B.target!==x){x.focus();return}return Dt.set(d,!0),W.set(!0),Be(K,"onFocus",B)}}function Ee(B){if(P.readOnly||P.updateSelectionTimeoutId||!_e(d,B.target))return;const x=At(d);if(P.latestElement===x.activeElement)return;const S=B.relatedTarget,M=Ue(d,d);if(S!==M&&!(Te(S)&&S.hasAttribute("data-slate-spacer"))){if(S!=null&&at(S)&&Kn(d,S)){const V=tt(S);if(G.isElement(V)&&!d.isVoid(V))return}if(Bn){const V=x.getSelection();V==null||V.removeAllRanges()}return Dt.delete(d),W.set(!1),Be(K,"onBlur",B)}}function ke(B){if(!P.readOnly&&ft(d,B.target)&&at(B.target)){const x=tt(B.target),S=ht(x);if(f.hasPath(d,S)&&O.get(d,S)===x){const V=f.start(d,S),Y=f.end(d,S),Se=f.void(d,{at:V}),He=f.void(d,{at:Y});if(Se&&He&&g.equals(Se[1],He[1])){const Ze=f.range(d,V);p.select(d,Ze)}}return Be(K,"onClick",B)}}function Pe(B){if(_e(d,B.target)){n(4,P.isComposing=!1,P);const x=B.data;if(!Bn&&!ai&&!ni&&!si&&x&&f.insertText(d,x),d.selection&&E.isCollapsed(d.selection)){const S=d.selection.anchor.path,M=O.leaf(d,S);P.hasInsertPrefixInCompositon&&(n(4,P.hasInsertPrefixInCompositon=!1,P),f.withoutNormalizing(d,()=>{const V=M.text.replace(/^\uFEFF/,"");p.delete(d,{distance:M.text.length,reverse:!0}),p.insertText(d,V)}))}return Be(K,"onCompositionEnd",B)}}function Xe(B){if(_e(d,B.target))return n(4,P.isComposing=!0,P),Be(K,"onCompositionUpdate",B)}function Me(B){if(_e(d,B.target)){if(d.selection){if(E.isExpanded(d.selection)){f.deleteFragment(d);return}const x=f.above(d,{match:S=>f.isInline(d,S),mode:"highest"});if(x){const[,S]=x;if(f.isEnd(d,d.selection.anchor,S)){const M=f.after(d,S);p.setSelection(d,{anchor:M,focus:M})}}d.marks&&(n(4,P.hasInsertPrefixInCompositon=!0,P),p.insertNodes(d,Tt({text:"\uFEFF"},d.marks),{select:!0}))}return Be(K,"onCompositionStart",B)}}function it(B){if(!P.readOnly&&_e(d,B.target))return(!zr||Zs(B))&&(B.preventDefault(),B.clipboardData&&d.insertData(B.clipboardData)),Be(K,"onPaste",B)}function Bt(B){if(_e(d,B.target))return B.preventDefault(),d.setFragmentData(B.clipboardData),Be(K,"onCopy",B)}function un(B){if(!P.readOnly&&_e(d,B.target)){if(B.preventDefault(),d.setFragmentData(B.clipboardData),d.selection)if(E.isExpanded(d.selection))f.deleteFragment(d);else{const x=O.parent(d,d.selection.anchor.path);f.isVoid(d,x)&&p.delete(d)}return Be(K,"onCut",B)}}function an(B){if(ft(d,B.target)){const x=tt(B.target);return f.isVoid(d,x)&&B.preventDefault(),Be(K,"onDragOver",B)}}function sn(B){if(!P.readOnly&&ft(d,B.target)){const x=tt(B.target),S=ht(x);if(f.isVoid(d,x)||f.void(d,{at:S,voids:!0})){const V=f.range(d,S);p.select(d,V)}return n(4,P.isDraggingInternally=!0,P),d.setFragmentData(B.dataTransfer),Be(K,"onDragStart",B)}}function on(B){if(!P.readOnly&&ft(d,B.target)){B.preventDefault();const x=d.selection,S=oi(d,B),M=B.dataTransfer;return p.select(d,S),P.isDraggingInternally&&(x&&!E.equals(x,S)&&!f.void(d,{at:S,voids:!0})&&p.delete(d,{at:x}),n(4,P.isDraggingInternally=!1,P)),d.insertData(M),Vr(d)||ii(d),Be(K,"onDrop",B)}}function St(B){if(!P.readOnly&&P.isDraggingInternally&&ft(d,B.target))return n(4,P.isDraggingInternally=!1,P),Be(K,"onDragEnd",B)}function ln(B){Ye[B?"unshift":"push"](()=>{m=B,n(0,m)})}return e.$$set=B=>{t=pn(pn({},t),pa(B)),n(26,u=tr(t,r)),"Element"in B&&n(27,o=B.Element),"Leaf"in B&&n(28,i=B.Leaf),"Placeholder"in B&&n(29,l=B.Placeholder),"placeholder"in B&&n(30,c=B.placeholder),"readOnly"in B&&n(31,D=B.readOnly),"autoFocus"in B&&n(32,C=B.autoFocus),"decorate"in B&&n(33,h=B.decorate),"scrollSelectionIntoView"in B&&n(34,v=B.scrollSelectionIntoView),"ref"in B&&n(0,m=B.ref),"spellcheck"in B&&n(1,A=B.spellcheck),"autocorrect"in B&&n(2,w=B.autocorrect),"autocapitalize"in B&&n(3,F=B.autocapitalize),"onKeyDown"in B&&n(35,b=B.onKeyDown)},e.$$.update=()=>{if(e.$$.dirty[0]&1&&k.set(m),e.$$.dirty[0]&134217728&&_.set(o),e.$$.dirty[0]&268435456&&y.set(i),e.$$.dirty[0]&536870912&&T.set(l),e.$$.dirty[1]&33&&zn.set(d,D),e.$$.dirty[1]&1&&Q.set(D),e.$$.dirty[1]&1&&n(4,P.readOnly=D,P),e.$$.dirty[1]&4&&ae.set(h),e.$$.dirty[0]&1073741936|e.$$.dirty[1]&36)if(a.children.length===1&&Array.from(O.texts(a)).length===1&&O.string(a)===""&&!P.isComposing){const B=f.start(d,[]);n(5,ce=[...h([d,[]]),{[yt]:!0,placeholder:c,anchor:B,focus:B}])}else ce.length&&n(5,ce=h([d,[]]));e.$$.dirty[0]&1|e.$$.dirty[1]&66&&le!==C&&m&&(C&&m.focus(),n(37,le=C))},[m,A,w,F,P,ce,a,s,L,fe,pe,z,J,oe,Ee,ke,Pe,Xe,Me,it,Bt,un,an,sn,on,St,u,o,i,l,c,D,C,h,v,b,d,le,ln]}class Io extends Ae{constructor(t){super(),Fe(this,t,Qi,Zi,Xt,{Element:27,Leaf:28,Placeholder:29,placeholder:30,readOnly:31,autoFocus:32,decorate:33,scrollSelectionIntoView:34,ref:0,spellcheck:1,autocorrect:2,autocapitalize:3,onKeyDown:35},null,[-1,-1])}}function Qr(e){let t,n,r,u;function a(i){e[12](i)}var s=e[5];function o(i){let l={$$slots:{default:[$i]},$$scope:{ctx:i}};return i[4]!==void 0&&(l.clientHeight=i[4]),{props:l}}return s&&(t=new s(o(e)),Ye.push(()=>Mt(t,"clientHeight",a))),{c(){t&&te(t.$$.fragment),r=X()},l(i){t&&Ce(t.$$.fragment,i),r=X()},m(i,l){t&&ne(t,i,l),Z(i,r,l),u=!0},p(i,l){const c={};if(l&8194&&(c.$$scope={dirty:l,ctx:i}),!n&&l&16&&(n=!0,c.clientHeight=i[4],cu(()=>n=!1)),s!==(s=i[5])){if(t){ve();const D=t;I(D.$$.fragment,1,0,()=>{re(D,1)}),me()}s?(t=new s(o(i)),Ye.push(()=>Mt(t,"clientHeight",a)),te(t.$$.fragment),j(t.$$.fragment,1),ne(t,r.parentNode,r)):t=null}else s&&t.$set(c)},i(i){u||(t&&j(t.$$.fragment,i),u=!0)},o(i){t&&I(t.$$.fragment,i),u=!1},d(i){i&&q(r),t&&re(t,i)}}}function $i(e){let t=e[1].placeholder+"",n;return{c(){n=Yt(t)},l(r){n=Gt(r,t)},m(r,u){Z(r,n,u)},p(r,u){u&2&&t!==(t=r[1].placeholder+"")&&fu(n,t)},d(r){r&&q(n)}}}function eo(e){let t,n,r,u=yt in e[1]&&Qr(e);return n=new bi({props:{isLast:e[0],leaf:e[1],parent:e[2],text:e[3]}}),{c(){u&&u.c(),t=X(),te(n.$$.fragment)},l(a){u&&u.l(a),t=X(),Ce(n.$$.fragment,a)},m(a,s){u&&u.m(a,s),Z(a,t,s),ne(n,a,s),r=!0},p(a,s){yt in a[1]?u?(u.p(a,s),s&2&&j(u,1)):(u=Qr(a),u.c(),j(u,1),u.m(t.parentNode,t)):u&&(ve(),I(u,1,1,()=>{u=null}),me());const o={};s&1&&(o.isLast=a[0]),s&2&&(o.leaf=a[1]),s&4&&(o.parent=a[2]),s&8&&(o.text=a[3]),n.$set(o)},i(a){r||(j(u),j(n.$$.fragment,a),r=!0)},o(a){I(u),I(n.$$.fragment,a),r=!1},d(a){u&&u.d(a),a&&q(t),re(n,a)}}}function to(e){let t,n,r;var u=e[6];function a(s){return{props:{leaf:s[1],$$slots:{default:[eo]},$$scope:{ctx:s}}}}return u&&(t=new u(a(e))),{c(){t&&te(t.$$.fragment),n=X()},l(s){t&&Ce(t.$$.fragment,s),n=X()},m(s,o){t&&ne(t,s,o),Z(s,n,o),r=!0},p(s,[o]){const i={};if(o&2&&(i.leaf=s[1]),o&8255&&(i.$$scope={dirty:o,ctx:s}),u!==(u=s[6])){if(t){ve();const l=t;I(l.$$.fragment,1,0,()=>{re(l,1)}),me()}u?(t=new u(a(s)),te(t.$$.fragment),j(t.$$.fragment,1),ne(t,n.parentNode,n)):t=null}else u&&t.$set(i)},i(s){r||(t&&j(t.$$.fragment,s),r=!0)},o(s){t&&I(t.$$.fragment,s),r=!1},d(s){s&&q(n),t&&re(t,s)}}}function no(e,t,n){let r,u,a,s,{isLast:o}=t,{leaf:i}=t,{parent:l}=t,{text:c}=t;const D=Re($u);Qe(e,D,A=>n(11,s=A));const C=Re(ea);Qe(e,C,A=>n(10,a=A));let h,v;wa(()=>{if(Wr){const A=document.querySelector('[data-svelte-editor="true"]');A&&(A.style.minHeight="auto")}});function m(A){h=A,n(4,h)}return e.$$set=A=>{"isLast"in A&&n(0,o=A.isLast),"leaf"in A&&n(1,i=A.leaf),"parent"in A&&n(2,l=A.parent),"text"in A&&n(3,c=A.text)},e.$$.update=()=>{if(e.$$.dirty&2048&&n(6,r=s),e.$$.dirty&1024&&n(5,u=a),e.$$.dirty&528&&v!==h&&Wr){const A=document.querySelector('[data-svelte-editor="true"]');A&&(A.style.minHeight=`${h}px`),n(9,v=h)}},[o,i,l,c,h,u,r,D,C,v,a,s,m]}class $r extends Ae{constructor(t){super(),Fe(this,t,no,to,We,{isLast:0,leaf:1,parent:2,text:3})}}function eu(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function tu(e,t){let n,r,u,a;var s=$r;function o(i){return{props:{isLast:i[0]&&i[11]===i[5].length-1,parent:i[1],leaf:i[9],text:i[2]}}}return s&&(r=new s(o(t))),{key:e,first:null,c(){n=X(),r&&te(r.$$.fragment),u=X(),this.h()},l(i){n=X(),r&&Ce(r.$$.fragment,i),u=X(),this.h()},h(){this.first=n},m(i,l){Z(i,n,l),r&&ne(r,i,l),Z(i,u,l),a=!0},p(i,l){t=i;const c={};if(l&33&&(c.isLast=t[0]&&t[11]===t[5].length-1),l&2&&(c.parent=t[1]),l&32&&(c.leaf=t[9]),l&4&&(c.text=t[2]),s!==(s=$r)){if(r){ve();const D=r;I(D.$$.fragment,1,0,()=>{re(D,1)}),me()}s?(r=new s(o(t)),te(r.$$.fragment),j(r.$$.fragment,1),ne(r,u.parentNode,u)):r=null}else s&&r.$set(c)},i(i){a||(r&&j(r.$$.fragment,i),a=!0)},o(i){r&&I(r.$$.fragment,i),a=!1},d(i){i&&q(n),i&&q(u),r&&re(r,i)}}}function ro(e){let t,n=[],r=new Map,u,a=e[5];const s=o=>`${o[4]}-${o[11]}`;for(let o=0;o<a.length;o+=1){let i=eu(e,a,o),l=s(i);r.set(l,n[o]=tu(l,i))}return{c(){t=je("span");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){t=Ie(o,"SPAN",{"data-slate-node":!0});var i=ze(t);for(let l=0;l<n.length;l+=1)n[l].l(i);i.forEach(q),this.h()},h(){U(t,"data-slate-node","text")},m(o,i){Z(o,t,i);for(let l=0;l<n.length;l+=1)n[l].m(t,null);e[7](t),u=!0},p(o,[i]){i&55&&(a=o[5],ve(),n=Du(n,i,s,1,o,a,r,t,du,tu,null,eu),me())},i(o){if(!u){for(let i=0;i<a.length;i+=1)j(n[i]);u=!0}},o(o){for(let i=0;i<n.length;i+=1)I(n[i]);u=!1},d(o){o&&q(t);for(let i=0;i<n.length;i+=1)n[i].d();e[7](null)}}}function uo(e,t,n){let r,u,{decorations:a}=t,{isLast:s}=t,{parent:o}=t,{text:i}=t;const l=st();let c;function D(C){Ye[C?"unshift":"push"](()=>{c=C,n(3,c)})}return e.$$set=C=>{"decorations"in C&&n(6,a=C.decorations),"isLast"in C&&n(0,s=C.isLast),"parent"in C&&n(1,o=C.parent),"text"in C&&n(2,i=C.text)},e.$$.update=()=>{var C;e.$$.dirty&68&&n(5,r=N.decorations(i,a)),e.$$.dirty&4&&n(4,u=nt(i)),e.$$.dirty&28&&c&&((C=rn.get(l))==null||C.set(u,c),Kt.set(i,c),nn.set(c,i))},[s,o,i,c,u,r,a,D]}class bt extends Ae{constructor(t){super(),Fe(this,t,uo,ro,We,{decorations:6,isLast:0,parent:1,text:2})}}function ao(e){let t,n;return t=new bt({props:{decorations:e[2],isLast:e[3],parent:e[1],text:e[0]}}),{c(){te(t.$$.fragment)},l(r){Ce(t.$$.fragment,r)},m(r,u){ne(t,r,u),n=!0},p(r,[u]){const a={};u&4&&(a.decorations=r[2]),u&8&&(a.isLast=r[3]),u&2&&(a.parent=r[1]),u&1&&(a.text=r[0]),t.$set(a)},i(r){n||(j(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){re(t,r)}}}function so(e,t,n){let r,u,a,s,o,i,{parent:l}=t,{text:c}=t,{path:D}=t,{index:C}=t,{isLeafBlock:h}=t,{decorations:v}=t;const m=Un();Qe(e,m,y=>n(17,i=y));const A=st();let w=C,F=c,b=D,k=l,_=v;return e.$$set=y=>{"parent"in y&&n(5,l=y.parent),"text"in y&&n(6,c=y.text),"path"in y&&n(7,D=y.path),"index"in y&&n(8,C=y.index),"isLeafBlock"in y&&n(9,h=y.isLeafBlock),"decorations"in y&&n(10,v=y.decorations)},e.$$.update=()=>{e.$$.dirty&2304&&w!==C&&n(11,w=C),e.$$.dirty&65&&F!==c&&n(0,F=c),e.$$.dirty&4224&&b!==D&&n(12,b=D),e.$$.dirty&34&&k!==l&&n(1,k=l),e.$$.dirty&9216&&(Ru(_,v)||n(13,_=v)),e.$$.dirty&2049&&en.set(F,w),e.$$.dirty&3&&tn.set(F,k),e.$$.dirty&6144&&n(15,r=b.concat(w)),e.$$.dirty&2562&&n(3,u=h&&w===k.children.length-1),e.$$.dirty&32768&&n(14,a=f.range(A,r)),e.$$.dirty&131072&&n(16,s=i),e.$$.dirty&122881&&n(2,o=ta(s([F,r]),a,_))},[F,k,o,u,m,l,c,D,C,h,v,w,b,_,a,r,s,i]}class io extends Ae{constructor(t){super(),Fe(this,t,so,ao,Xt,{parent:5,text:6,path:7,index:8,isLeafBlock:9,decorations:10})}}function nu(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function oo(e){let t,n;return t=new io({props:{decorations:e[0],parent:e[2],text:e[7],index:e[9],path:e[4],isLeafBlock:e[3]}}),{c(){te(t.$$.fragment)},l(r){Ce(t.$$.fragment,r)},m(r,u){ne(t,r,u),n=!0},p(r,u){const a={};u&1&&(a.decorations=r[0]),u&4&&(a.parent=r[2]),u&4&&(a.text=r[7]),u&4&&(a.index=r[9]),u&16&&(a.path=r[4]),u&8&&(a.isLeafBlock=r[3]),t.$set(a)},i(r){n||(j(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){re(t,r)}}}function lo(e){let t,n;return t=new Fo({props:{decorations:e[0],selection:e[1],element:e[7],parent:e[2],index:e[9],path:e[4]}}),{c(){te(t.$$.fragment)},l(r){Ce(t.$$.fragment,r)},m(r,u){ne(t,r,u),n=!0},p(r,u){const a={};u&1&&(a.decorations=r[0]),u&2&&(a.selection=r[1]),u&4&&(a.element=r[7]),u&4&&(a.parent=r[2]),u&4&&(a.index=r[9]),u&16&&(a.path=r[4]),t.$set(a)},i(r){n||(j(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){re(t,r)}}}function ru(e,t){let n,r,u,a,s,o;const i=[lo,oo],l=[];function c(D,C){return C&4&&(r=null),r==null&&(r=!!G.isElement(D[7])),r?0:1}return u=c(t,-1),a=l[u]=i[u](t),{key:e,first:null,c(){n=X(),a.c(),s=X(),this.h()},l(D){n=X(),a.l(D),s=X(),this.h()},h(){this.first=n},m(D,C){Z(D,n,C),l[u].m(D,C),Z(D,s,C),o=!0},p(D,C){t=D;let h=u;u=c(t,C),u===h?l[u].p(t,C):(ve(),I(l[h],1,1,()=>{l[h]=null}),me(),a=l[u],a?a.p(t,C):(a=l[u]=i[u](t),a.c()),j(a,1),a.m(s.parentNode,s))},i(D){o||(j(a),o=!0)},o(D){I(a),o=!1},d(D){D&&q(n),l[u].d(D),D&&q(s)}}}function fo(e){let t=[],n=new Map,r,u,a=e[2].children;const s=o=>nt(o[7]);for(let o=0;o<a.length;o+=1){let i=nu(e,a,o),l=s(i);n.set(l,t[o]=ru(l,i))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();r=X()},l(o){for(let i=0;i<t.length;i+=1)t[i].l(o);r=X()},m(o,i){for(let l=0;l<t.length;l+=1)t[l].m(o,i);Z(o,r,i),u=!0},p(o,[i]){i&31&&(a=o[2].children,ve(),t=Du(t,i,s,1,o,a,n,r.parentNode,du,ru,r,nu),me())},i(o){if(!u){for(let i=0;i<a.length;i+=1)j(t[i]);u=!0}},o(o){for(let i=0;i<t.length;i+=1)I(t[i]);u=!1},d(o){for(let i=0;i<t.length;i+=1)t[i].d(o);o&&q(r)}}}function ta(e,t,n=[]){for(const r of n){const u=E.intersection(r,t);u&&e.push(u)}return e}function co(e,t,n){let r,u,{node:a}=t,{decorations:s}=t,{selection:o=null}=t;const i=st();let l=a;return e.$$set=c=>{"node"in c&&n(5,a=c.node),"decorations"in c&&n(0,s=c.decorations),"selection"in c&&n(1,o=c.selection)},e.$$.update=()=>{e.$$.dirty&36&&(l!==a||a===i)&&n(2,l=a),e.$$.dirty&4&&n(4,r=ht(l)),e.$$.dirty&4&&n(3,u=G.isElement(l)&&!i.isInline(l)&&f.hasInlines(i,l))},[s,o,l,u,r,a]}class na extends Ae{constructor(t){super(),Fe(this,t,co,fo,Xt,{node:5,decorations:0,selection:1})}}function Do(e){let t,n;return t=new na({props:{node:e[0],decorations:e[1],selection:e[2]}}),{c(){te(t.$$.fragment)},l(r){Ce(t.$$.fragment,r)},m(r,u){ne(t,r,u),n=!0},p(r,u){const a={};u&1&&(a.node=r[0]),u&2&&(a.decorations=r[1]),u&4&&(a.selection=r[2]),t.$set(a)},i(r){n||(j(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){re(t,r)}}}function Co(e){let t,n,r,u;const a=[go,ho],s=[];function o(i,l){return i[4]?0:1}return t=o(e),n=s[t]=a[t](e),{c(){n.c(),r=X()},l(i){n.l(i),r=X()},m(i,l){s[t].m(i,l),Z(i,r,l),u=!0},p(i,l){let c=t;t=o(i),t===c?s[t].p(i,l):(ve(),I(s[c],1,1,()=>{s[c]=null}),me(),n=s[t],n?n.p(i,l):(n=s[t]=a[t](i),n.c()),j(n,1),n.m(r.parentNode,r))},i(i){u||(j(n),u=!0)},o(i){I(n),u=!1},d(i){s[t].d(i),i&&q(r)}}}function ho(e){let t,n,r;var u=bt;function a(s){return{props:{decorations:[],isLast:!1,parent:s[0],text:s[8]}}}return u&&(n=new u(a(e))),{c(){t=je("div"),n&&te(n.$$.fragment),this.h()},l(s){t=Ie(s,"DIV",{"data-slate-spacer":!0,class:!0});var o=ze(t);n&&Ce(n.$$.fragment,o),o.forEach(q),this.h()},h(){U(t,"data-slate-spacer",""),U(t,"class","svelte-yux06v")},m(s,o){Z(s,t,o),n&&ne(n,t,null),r=!0},p(s,o){const i={};if(o&1&&(i.parent=s[0]),o&256&&(i.text=s[8]),u!==(u=bt)){if(n){ve();const l=n;I(l.$$.fragment,1,0,()=>{re(l,1)}),me()}u?(n=new u(a(s)),te(n.$$.fragment),j(n.$$.fragment,1),ne(n,t,null)):n=null}else u&&n.$set(i)},i(s){r||(n&&j(n.$$.fragment,s),r=!0)},o(s){n&&I(n.$$.fragment,s),r=!1},d(s){s&&q(t),n&&re(n)}}}function go(e){let t,n,r;var u=bt;function a(s){return{props:{decorations:[],isLast:!1,parent:s[0],text:s[8]}}}return u&&(n=new u(a(e))),{c(){t=je("span"),n&&te(n.$$.fragment),this.h()},l(s){t=Ie(s,"SPAN",{"data-slate-spacer":!0,class:!0});var o=ze(t);n&&Ce(n.$$.fragment,o),o.forEach(q),this.h()},h(){U(t,"data-slate-spacer",""),U(t,"class","svelte-yux06v")},m(s,o){Z(s,t,o),n&&ne(n,t,null),r=!0},p(s,o){const i={};if(o&1&&(i.parent=s[0]),o&256&&(i.text=s[8]),u!==(u=bt)){if(n){ve();const l=n;I(l.$$.fragment,1,0,()=>{re(l,1)}),me()}u?(n=new u(a(s)),te(n.$$.fragment),j(n.$$.fragment,1),ne(n,t,null)):n=null}else u&&n.$set(i)},i(s){r||(n&&j(n.$$.fragment,s),r=!0)},o(s){n&&I(n.$$.fragment,s),r=!1},d(s){s&&q(t),n&&re(n)}}}function Bo(e){let t,n,r,u;const a=[Co,Do],s=[];function o(i,l){return i[6]&&!i[5]?0:1}return t=o(e),n=s[t]=a[t](e),{c(){n.c(),r=X()},l(i){n.l(i),r=X()},m(i,l){s[t].m(i,l),Z(i,r,l),u=!0},p(i,l){let c=t;t=o(i),t===c?s[t].p(i,l):(ve(),I(s[c],1,1,()=>{s[c]=null}),me(),n=s[t],n?n.p(i,l):(n=s[t]=a[t](i),n.c()),j(n,1),n.m(r.parentNode,r))},i(i){u||(j(n),u=!0)},o(i){I(n),u=!1},d(i){s[t].d(i),i&&q(r)}}}function vo(e){let t,n,r,u;function a(i){e[16](i)}var s=e[10];function o(i){let l={isVoid:i[6],isInline:i[4],contenteditable:i[9],element:i[0],dir:i[7],$$slots:{default:[Bo]},$$scope:{ctx:i}};return i[3]!==void 0&&(l.ref=i[3]),{props:l}}return s&&(t=new s(o(e)),Ye.push(()=>Mt(t,"ref",a))),{c(){t&&te(t.$$.fragment),r=X()},l(i){t&&Ce(t.$$.fragment,i),r=X()},m(i,l){t&&ne(t,i,l),Z(i,r,l),u=!0},p(i,[l]){const c={};if(l&64&&(c.isVoid=i[6]),l&16&&(c.isInline=i[4]),l&512&&(c.contenteditable=i[9]),l&1&&(c.element=i[0]),l&128&&(c.dir=i[7]),l&262519&&(c.$$scope={dirty:l,ctx:i}),!n&&l&8&&(n=!0,c.ref=i[3],cu(()=>n=!1)),s!==(s=i[10])){if(t){ve();const D=t;I(D.$$.fragment,1,0,()=>{re(D,1)}),me()}s?(t=new s(o(i)),Ye.push(()=>Mt(t,"ref",a)),te(t.$$.fragment),j(t.$$.fragment,1),ne(t,r.parentNode,r)):t=null}else s&&t.$set(c)},i(i){u||(t&&j(t.$$.fragment,i),u=!0)},o(i){t&&I(t.$$.fragment,i),u=!1},d(i){i&&q(r),t&&re(t,i)}}}function mo(e,t,n){let r,u,a,s,o,i,l,c,{element:D}=t,{decorations:C}=t,{selection:h=null}=t;const v=Re(Qu);Qe(e,v,_=>n(15,c=_));const m=st(),A=Ku();Qe(e,A,_=>n(14,l=_));let w,F,b;function k(_){b=_,n(3,b)}return e.$$set=_=>{"element"in _&&n(0,D=_.element),"decorations"in _&&n(1,C=_.decorations),"selection"in _&&n(2,h=_.selection)},e.$$.update=()=>{var _;if(e.$$.dirty&32768&&n(10,r=c),e.$$.dirty&16384&&n(5,u=l),e.$$.dirty&1&&n(4,a=m.isInline(D)),e.$$.dirty&1&&n(13,s=nt(D)),e.$$.dirty&17&&!a&&f.hasInlines(m,D)){const y=Eu(O.string(D));y==="rtl"&&n(7,w=y)}if(e.$$.dirty&1&&n(6,o=f.isVoid(m,D)),e.$$.dirty&32&&n(9,i=!u),e.$$.dirty&113&&o){!u&&a&&n(9,i=!1);const[[y]]=O.texts(D);n(8,F=y),en.set(y,0),tn.set(y,D)}e.$$.dirty&8201&&b&&((_=rn.get(m))==null||_.set(s,b),Kt.set(D,b),nn.set(b,D))},[D,C,h,b,a,u,o,w,F,i,r,v,A,s,l,c,k]}class uu extends Ae{constructor(t){super(),Fe(this,t,mo,vo,We,{element:0,decorations:1,selection:2})}}function Eo(e){let t,n,r;var u=uu;function a(s){return{props:{decorations:s[2],element:s[0],selection:s[1]}}}return u&&(t=new u(a(e))),{c(){t&&te(t.$$.fragment),n=X()},l(s){t&&Ce(t.$$.fragment,s),n=X()},m(s,o){t&&ne(t,s,o),Z(s,n,o),r=!0},p(s,[o]){const i={};if(o&4&&(i.decorations=s[2]),o&1&&(i.element=s[0]),o&2&&(i.selection=s[1]),u!==(u=uu)){if(t){ve();const l=t;I(l.$$.fragment,1,0,()=>{re(l,1)}),me()}u?(t=new u(a(s)),te(t.$$.fragment),j(t.$$.fragment,1),ne(t,n.parentNode,n)):t=null}else u&&t.$set(i)},i(s){r||(t&&j(t.$$.fragment,s),r=!0)},o(s){t&&I(t.$$.fragment,s),r=!1},d(s){s&&q(n),t&&re(t,s)}}}const ra=Le();function Lo(){return Re(ra)}function Ao(e,t,n){let r,u,a,s,o,i,{parent:l}=t,{element:c}=t,{path:D}=t,{index:C}=t,{decorations:h}=t,{selection:v=null}=t;const m=Un();Qe(e,m,d=>n(18,i=d));const A=xe(ra,!1),w=st();let F=C,b=l,k=c,_=D,y=h,T=v;return e.$$set=d=>{"parent"in d&&n(4,l=d.parent),"element"in d&&n(5,c=d.element),"path"in d&&n(6,D=d.path),"index"in d&&n(7,C=d.index),"decorations"in d&&n(8,h=d.decorations),"selection"in d&&n(9,v=d.selection)},e.$$.update=()=>{e.$$.dirty&1152&&F!==C&&n(10,F=C),e.$$.dirty&2064&&b!==l&&n(11,b=l),e.$$.dirty&33&&k!==c&&n(0,k=c),e.$$.dirty&4160&&_!==D&&n(12,_=D),e.$$.dirty&8448&&(Ru(y,h)||n(13,y=h)),e.$$.dirty&16896&&(ju(T,v)||n(14,T=v)),e.$$.dirty&1025&&en.set(k,F),e.$$.dirty&2049&&tn.set(k,b),e.$$.dirty&5120&&n(16,r=_.concat(F)),e.$$.dirty&65536&&n(15,u=f.range(w,r)),e.$$.dirty&262144&&n(17,a=i),e.$$.dirty&237569&&n(2,s=ta(a([k,r]),u,y)),e.$$.dirty&49152&&n(1,o=T&&E.intersection(u,T)),e.$$.dirty&2&&A.set(!!o)},[k,o,s,m,l,c,D,C,h,v,F,b,_,y,T,u,r,a,i]}class Fo extends Ae{constructor(t){super(),Fe(this,t,Ao,Eo,Xt,{parent:4,element:5,path:6,index:7,decorations:8,selection:9})}}function au(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n}function su(e,t,n){var a,s;const r=(a=Ut(e,t))==null?void 0:a.getBoundingClientRect(),u=(s=Ut(e,n))==null?void 0:s.getBoundingClientRect();return au(r,u)&&au(u,r)}function po(e,t){const n=f.range(e,E.end(t)),r=Array.from(f.positions(e,{at:t}));let u=0,a=r.length,s=Math.floor(a/2);if(su(e,f.range(e,r[u]),n))return f.range(e,r[u],n);if(r.length<2)return f.range(e,r[r.length-1],n);for(;s!==r.length&&s!==u;)su(e,f.range(e,r[s]),n)?a=s:u=s,s=Math.floor((u+a)/2);return f.range(e,r[a],n)}function Mo(e){const t=e,{apply:n,onChange:r,deleteBackward:u}=t;return rn.set(t,new WeakMap),t.deleteBackward=a=>{if(a!=="line")return u(a);if(e.selection&&E.isCollapsed(e.selection)){const s=f.above(e,{match:o=>f.isBlock(e,o),at:e.selection});if(s){const[,o]=s,i=f.range(e,o,e.selection.anchor),l=po(t,i);E.isCollapsed(l)||p.delete(e,{at:l})}}},t.apply=a=>{const s=[];switch(a.type){case"insert_text":case"remove_text":case"set_node":{for(const[o,i]of f.levels(t,{at:a.path})){const l=nt(o);s.push([i,l])}break}case"insert_node":case"remove_node":case"merge_node":case"split_node":{for(const[o,i]of f.levels(t,{at:g.parent(a.path)})){const l=nt(o);s.push([i,l])}break}case"move_node":{for(const[o,i]of f.levels(t,{at:g.common(g.parent(a.path),g.parent(a.newPath))})){const l=nt(o);s.push([i,l])}break}}n(a);for(const[o,i]of s){const[l]=f.node(t,o);Pn.set(l,i)}},t.setFragmentData=a=>{const{selection:s}=t;if(!s)return;const[o,i]=E.edges(s),l=f.void(t,{at:o.path}),c=f.void(t,{at:i.path});if(E.isCollapsed(s)&&!l)return;const D=Ut(t,s);if(!D)return;let C=D.cloneContents(),h=C.childNodes[0];if(C.childNodes.forEach(F=>{F.textContent&&F.textContent.trim()!==""&&(h=F)}),c){const[F]=c,b=D.cloneRange(),k=Ue(t,F);b.setEndAfter(k),C=b.cloneContents()}if(l&&(h=C.querySelector("[data-slate-spacer]")),Array.from(C.querySelectorAll("[data-slate-zero-width]")).forEach(F=>{const b=F.getAttribute("data-slate-zero-width")==="n";F.textContent=b?`
`:""}),Su(h)){const F=document.createElement("span");F.style.whiteSpace="pre",F.appendChild(h),C.appendChild(F),h=F}const v=t.getFragment(),m=JSON.stringify(v),A=window.btoa(encodeURIComponent(m));h.setAttribute("data-slate-fragment",A),a.setData("application/x-slate-fragment",A);const w=document.createElement("div");return w.appendChild(C),w.setAttribute("hidden","true"),document.body.appendChild(w),a.setData("text/html",w.innerHTML),a.setData("text/plain",Nu(w)),document.body.removeChild(w),a},t.insertData=a=>{t.insertFragmentData(a)||t.insertTextData(a)},t.insertFragmentData=a=>{const s=a.getData("application/x-slate-fragment")||ti(a);if(s){const o=decodeURIComponent(window.atob(s)),i=JSON.parse(o);return t.insertFragment(i),!0}return!1},t.insertTextData=a=>{const s=a.getData("text/plain");if(s){const o=s.split(/\r\n|\r|\n/);let i=!1;for(const l of o)i&&p.splitNodes(t,{always:!0}),t.insertText(l),i=!0;return!0}return!1},t.onChange=()=>{const a=Sn.get(t);a&&a(),r()},t}var wo={isHistory(e){return de(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(e.redos.length===0||Je.isOperationList(e.redos[0]))&&(e.undos.length===0||Je.isOperationList(e.undos[0]))}},An=new WeakMap,Fn=new WeakMap,dt={isHistoryEditor(e){return wo.isHistory(e.history)&&f.isEditor(e)},isMerging(e){return Fn.get(e)},isSaving(e){return An.get(e)},redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var n=dt.isMerging(e);Fn.set(e,!1),t(),Fn.set(e,n)},withoutSaving(e,t){var n=dt.isSaving(e);An.set(e,!1),t(),An.set(e,n)}},qo=e=>{var t=e,{apply:n}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:r}=t,{redos:u}=r;if(u.length>0){var a=u[u.length-1];dt.withoutSaving(t,()=>{f.withoutNormalizing(t,()=>{for(var s of a)t.apply(s)})}),r.redos.pop(),r.undos.push(a)}},t.undo=()=>{var{history:r}=t,{undos:u}=r;if(u.length>0){var a=u[u.length-1];dt.withoutSaving(t,()=>{f.withoutNormalizing(t,()=>{var s=a.map(Je.inverse).reverse();for(var o of s)t.apply(o)})}),r.redos.push(a),r.undos.pop()}},t.apply=r=>{var{operations:u,history:a}=t,{undos:s}=a,o=s[s.length-1],i=o&&o[o.length-1],l=Oo(r,i),c=dt.isSaving(t),D=dt.isMerging(t);if(c==null&&(c=bo(r)),c){if(D==null&&(o==null?D=!1:u.length!==0?D=!0:D=yo(r,i)||l),o&&D)l&&o.pop(),o.push(r);else{var C=[r];s.push(C)}for(;s.length>100;)s.shift();_o(r)&&(a.redos=[])}n(r)},t},yo=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&g.equals(e.path,t.path)||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&g.equals(e.path,t.path)),bo=(e,t)=>!(e.type==="set_selection"&&(e.properties==null||e.newProperties==null)),Oo=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),_o=e=>e.type!=="set_selection";export{ji as D,f as E,$u as L,O as N,g as P,E as R,Ro as S,p as T,Mo as a,xe as b,xo as c,Le as d,Io as e,st as f,Re as g,zi as h,No as i,Hu as j,Di as k,ci as l,di as m,Lo as n,Ku as o,ht as p,jo as q,G as r,H as s,Qu as t,To as u,qu as v,qo as w,N as x};
