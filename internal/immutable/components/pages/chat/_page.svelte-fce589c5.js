import{S as V,i as j,s as J,N as T,O as D,h as C,n as W,r as l,j as F,k as L,p as X,d as M,u as m,l as P,a as A,I as Q,v as u,P as q,b as i,t as g,w as c,Q as Z,R as y,T as x}from"../../../chunks/index-c487c846.js";import{S as ee,H as te,E as ne,l as re,D as ae,M as $e,a as se,w as oe,b as fe}from"../../../chunks/MathButton-6c699d6c.js";import{w as le,a as me,c as ue,E as S,i as ie}from"../../../chunks/withSvelte-609181e7.js";import{I as ge,a as ce,w as pe,C as de,b as _e,c as he,i as be}from"../../../chunks/CodeElement-abba0579.js";import{M as B,B as I,I as we,a as ke,b as ve,c as Ee,d as Me,e as Ie,f as Be,g as Ce,h as Fe,i as Le}from"../../../chunks/MdFormatQuote-40723523.js";import{C as Pe,a as Se}from"../../../chunks/CheckListItemButton-46859109.js";function Te(s){let t,n;return t=new ke({}),{c(){l(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){u(t,e,r),n=!0},i(e){n||(i(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){c(t,e)}}}function De(s){let t,n;return t=new ve({}),{c(){l(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){u(t,e,r),n=!0},i(e){n||(i(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){c(t,e)}}}function qe(s){let t,n;return t=new Ee({}),{c(){l(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){u(t,e,r),n=!0},i(e){n||(i(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){c(t,e)}}}function Ae(s){let t,n;return t=new Me({}),{c(){l(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){u(t,e,r),n=!0},i(e){n||(i(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){c(t,e)}}}function He(s){let t,n;return t=new Ie({}),{c(){l(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){u(t,e,r),n=!0},i(e){n||(i(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){c(t,e)}}}function Oe(s){let t,n;return t=new Be({}),{c(){l(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){u(t,e,r),n=!0},i(e){n||(i(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){c(t,e)}}}function Ke(s){let t,n;return t=new Ce({}),{c(){l(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){u(t,e,r),n=!0},i(e){n||(i(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){c(t,e)}}}function Ne(s){let t,n;return t=new Fe({}),{c(){l(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){u(t,e,r),n=!0},i(e){n||(i(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){c(t,e)}}}function Re(s){let t,n;return t=new Le({}),{c(){l(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){u(t,e,r),n=!0},i(e){n||(i(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){c(t,e)}}}function Ue(s){let t,n,e,r,_,p,b,k,f,d,w,v,$,h,E;return n=new B({props:{format:"bold",$$slots:{default:[Te]},$$scope:{ctx:s}}}),e=new B({props:{format:"italic",$$slots:{default:[De]},$$scope:{ctx:s}}}),r=new B({props:{format:"underline",$$slots:{default:[qe]},$$scope:{ctx:s}}}),_=new B({props:{format:"code",$$slots:{default:[Ae]},$$scope:{ctx:s}}}),p=new I({props:{format:"heading1",$$slots:{default:[He]},$$scope:{ctx:s}}}),b=new I({props:{format:"heading2",$$slots:{default:[Oe]},$$scope:{ctx:s}}}),k=new I({props:{format:"block-quote",$$slots:{default:[Ke]},$$scope:{ctx:s}}}),f=new I({props:{format:"numbered-list",$$slots:{default:[Ne]},$$scope:{ctx:s}}}),d=new I({props:{format:"bulleted-list",$$slots:{default:[Re]},$$scope:{ctx:s}}}),w=new we({}),v=new Pe({}),$=new Se({}),h=new fe({}),{c(){t=C("div"),l(n.$$.fragment),l(e.$$.fragment),l(r.$$.fragment),l(_.$$.fragment),l(p.$$.fragment),l(b.$$.fragment),l(k.$$.fragment),l(f.$$.fragment),l(d.$$.fragment),l(w.$$.fragment),l(v.$$.fragment),l($.$$.fragment),l(h.$$.fragment),this.h()},l(a){t=F(a,"DIV",{class:!0});var o=L(t);m(n.$$.fragment,o),m(e.$$.fragment,o),m(r.$$.fragment,o),m(_.$$.fragment,o),m(p.$$.fragment,o),m(b.$$.fragment,o),m(k.$$.fragment,o),m(f.$$.fragment,o),m(d.$$.fragment,o),m(w.$$.fragment,o),m(v.$$.fragment,o),m($.$$.fragment,o),m(h.$$.fragment,o),o.forEach(M),this.h()},h(){P(t,"class","toolbar svelte-mszq1p")},m(a,o){A(a,t,o),u(n,t,null),u(e,t,null),u(r,t,null),u(_,t,null),u(p,t,null),u(b,t,null),u(k,t,null),u(f,t,null),u(d,t,null),u(w,t,null),u(v,t,null),u($,t,null),u(h,t,null),E=!0},p(a,o){const H={};o&1024&&(H.$$scope={dirty:o,ctx:a}),n.$set(H);const O={};o&1024&&(O.$$scope={dirty:o,ctx:a}),e.$set(O);const K={};o&1024&&(K.$$scope={dirty:o,ctx:a}),r.$set(K);const N={};o&1024&&(N.$$scope={dirty:o,ctx:a}),_.$set(N);const R={};o&1024&&(R.$$scope={dirty:o,ctx:a}),p.$set(R);const U={};o&1024&&(U.$$scope={dirty:o,ctx:a}),b.$set(U);const Y={};o&1024&&(Y.$$scope={dirty:o,ctx:a}),k.$set(Y);const z={};o&1024&&(z.$$scope={dirty:o,ctx:a}),f.$set(z);const G={};o&1024&&(G.$$scope={dirty:o,ctx:a}),d.$set(G)},i(a){E||(i(n.$$.fragment,a),i(e.$$.fragment,a),i(r.$$.fragment,a),i(_.$$.fragment,a),i(p.$$.fragment,a),i(b.$$.fragment,a),i(k.$$.fragment,a),i(f.$$.fragment,a),i(d.$$.fragment,a),i(w.$$.fragment,a),i(v.$$.fragment,a),i($.$$.fragment,a),i(h.$$.fragment,a),E=!0)},o(a){g(n.$$.fragment,a),g(e.$$.fragment,a),g(r.$$.fragment,a),g(_.$$.fragment,a),g(p.$$.fragment,a),g(b.$$.fragment,a),g(k.$$.fragment,a),g(f.$$.fragment,a),g(d.$$.fragment,a),g(w.$$.fragment,a),g(v.$$.fragment,a),g($.$$.fragment,a),g(h.$$.fragment,a),E=!1},d(a){a&&M(t),c(n),c(e),c(r),c(_),c(p),c(b),c(k),c(f),c(d),c(w),c(v),c($),c(h)}}}function Ye(s){let t,n,e,r,_,p,b,k;function f($){s[7]($)}let d={container:s[2],$$slots:{default:[Ue]},$$scope:{ctx:s}};s[1]!==void 0&&(d.open=s[1]),t=new te({props:d}),T.push(()=>D(t,"open",f));function w($){s[8]($)}let v={placeholder:"Enter some plain text...",onKeyDown:s[5]};return s[2]!==void 0&&(v.ref=s[2]),r=new ne({props:v}),T.push(()=>D(r,"ref",w)),{c(){l(t.$$.fragment),e=C("div"),l(r.$$.fragment),this.h()},l($){m(t.$$.fragment,$),e=F($,"DIV",{class:!0});var h=L(e);m(r.$$.fragment,h),h.forEach(M),this.h()},h(){P(e,"class","editor svelte-mszq1p")},m($,h){u(t,$,h),A($,e,h),u(r,e,null),p=!0,b||(k=[Z(re.call(null,e)),y(e,"longpress",s[6])],b=!0)},p($,h){const E={};h&4&&(E.container=$[2]),h&1024&&(E.$$scope={dirty:h,ctx:$}),!n&&h&2&&(n=!0,E.open=$[1],q(()=>n=!1)),t.$set(E);const a={};!_&&h&4&&(_=!0,a.ref=$[2],q(()=>_=!1)),r.$set(a)},i($){p||(i(t.$$.fragment,$),i(r.$$.fragment,$),p=!0)},o($){g(t.$$.fragment,$),g(r.$$.fragment,$),p=!1},d($){c(t,$),$&&M(e),c(r),b=!1,x(k)}}}function ze(s){let t,n,e,r,_,p;function b(f){s[9](f)}let k={editor:s[3],plugins:s[4],$$slots:{default:[Ye]},$$scope:{ctx:s}};return s[0]!==void 0&&(k.value=s[0]),r=new ee({props:k}),T.push(()=>D(r,"value",b)),{c(){t=C("p"),n=C("a"),e=W("Source"),l(r.$$.fragment),this.h()},l(f){t=F(f,"P",{});var d=L(t);n=F(d,"A",{target:!0,href:!0});var w=L(n);e=X(w,"Source"),w.forEach(M),d.forEach(M),m(r.$$.fragment,f),this.h()},h(){P(n,"target","_blank"),P(n,"href","https://github.com/nathanfaucett/svelte-slate/blob/main/src/routes/chat.svelte")},m(f,d){A(f,t,d),Q(t,n),Q(n,e),u(r,f,d),p=!0},p(f,[d]){const w={};d&1030&&(w.$$scope={dirty:d,ctx:f}),!_&&d&1&&(_=!0,w.value=f[0],q(()=>_=!1)),r.$set(w)},i(f){p||(i(r.$$.fragment,f),p=!0)},o(f){g(r.$$.fragment,f),p=!1},d(f){f&&M(t),c(r,f)}}}function Ge(s,t,n){const e=le(me(ue()));let r={...ae,[ge]:{component:ce,withFn:pe},[de]:{component:_e,withFn:he},[$e]:{component:se,withFn:oe}},_=[{type:"paragraph",children:[{text:""}]}],p=!1,b;function k($){if($.key==="Enter"&&!$.shiftKey)return S.deleteBackward(e),!1}function f(){if(!ie(e)){const[$]=Array.from(S.nodes(e,{at:S.unhangRange(e,e.selection),match:be}));$||n(1,p=!0)}}function d($){p=$,n(1,p)}function w($){b=$,n(2,b)}function v($){_=$,n(0,_)}return[_,p,b,e,r,k,f,d,w,v]}class Ze extends V{constructor(t){super(),j(this,t,Ge,ze,J,{})}}export{Ze as default};
