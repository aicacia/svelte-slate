var qn=Object.getOwnPropertySymbols;var Ur=Object.prototype.hasOwnProperty,Yr=Object.prototype.propertyIsEnumerable;var un=(e,t)=>{var n={};for(var u in e)Ur.call(e,u)&&t.indexOf(u)<0&&(n[u]=e[u]);if(e!=null&&qn)for(var u of qn(e))t.indexOf(u)<0&&Yr.call(e,u)&&(n[u]=e[u]);return n};import{r as Jr,R as Xr,S as Ae,i as Fe,s as bt,I as Ot,L as _t,M as kt,N as Pt,q as j,o as I,T as Zr,U as He,t as Ht,h as Kt,g as J,d as M,e as xe,c as Ne,a as je,b as K,K as er,j as tr,E as dt,V as Gr,O as ze,l as Y,n as ge,p as Be,w as $,x as de,y as ee,B as te,W as Qr,X as $r,C as hn,Y as Hn,Z as Kn,_ as he,z as ea,$ as ta,a0 as Un,a1 as Xe,v as na,u as ua,D as Yn,F as ra,a2 as aa,Q as nr,P as jt,a3 as ur,a4 as rr}from"./index-cff64fc9.js";import{w as ia}from"./index-17136efe.js";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Jn(e){return Object.prototype.toString.call(e)==="[object Object]"}function De(e){var t,n;return Jn(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(Jn(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function Pe(e){for(var t=arguments.length,n=Array(t>1?t-1:0),u=1;u<t;u++)n[u-1]=arguments[u];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(r){return"'"+r+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function tt(e){return!!e&&!!e[ye]}function nt(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var u=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return u===Object||typeof u=="function"&&Function.toString.call(u)===Ca}(e)||Array.isArray(e)||!!e[nu]||!!e.constructor[nu]||yn(e)||bn(e))}function pt(e,t,n){n===void 0&&(n=!1),gt(e)===0?(n?Object.keys:Sn)(e).forEach(function(u){n&&typeof u=="symbol"||t(u,e[u],e)}):e.forEach(function(u,r){return t(r,u,e)})}function gt(e){var t=e[ye];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:yn(e)?2:bn(e)?3:0}function gn(e,t){return gt(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sa(e,t){return gt(e)===2?e.get(t):e[t]}function ar(e,t,n){var u=gt(e);u===2?e.set(t,n):u===3?(e.delete(t),e.add(n)):e[t]=n}function oa(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function yn(e){return Da&&e instanceof Map}function bn(e){return da&&e instanceof Set}function Qe(e){return e.o||e.t}function On(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ha(e);delete t[ye];for(var n=Sn(t),u=0;u<n.length;u++){var r=n[u],a=t[r];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[r]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function _n(e,t){return t===void 0&&(t=!1),kn(e)||tt(e)||!nt(e)||(gt(e)>1&&(e.set=e.add=e.clear=e.delete=la),Object.freeze(e),t&&pt(e,function(n,u){return _n(u,!0)},!0)),e}function la(){Pe(2)}function kn(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Re(e){var t=ga[e];return t||Pe(18,e),t}function Xn(){return wt}function rn(e,t){t&&(Re("Patches"),e.u=[],e.s=[],e.v=t)}function It(e){Bn(e),e.p.forEach(fa),e.p=null}function Bn(e){e===wt&&(wt=e.l)}function Zn(e){return wt={p:[],l:wt,h:e,m:!0,_:0}}function fa(e){var t=e[ye];t.i===0||t.i===1?t.j():t.O=!0}function an(e,t){t._=t.p.length;var n=t.p[0],u=e!==void 0&&e!==n;return t.h.g||Re("ES5").S(t,e,u),u?(n[ye].P&&(It(t),Pe(4)),nt(e)&&(e=Lt(t,e),t.l||Mt(t,e)),t.u&&Re("Patches").M(n[ye].t,e,t.u,t.s)):e=Lt(t,n,[]),It(t),t.u&&t.v(t.u,t.s),e!==ir?e:void 0}function Lt(e,t,n){if(kn(t))return t;var u=t[ye];if(!u)return pt(t,function(a,i){return Gn(e,u,t,a,i,n)},!0),t;if(u.A!==e)return t;if(!u.P)return Mt(e,u.t,!0),u.t;if(!u.I){u.I=!0,u.A._--;var r=u.i===4||u.i===5?u.o=On(u.k):u.o;pt(u.i===3?new Set(r):r,function(a,i){return Gn(e,u,r,a,i,n)}),Mt(e,r,!1),n&&e.u&&Re("Patches").R(u,n,e.u,e.s)}return u.o}function Gn(e,t,n,u,r,a){if(tt(r)){var i=Lt(e,r,a&&t&&t.i!==3&&!gn(t.D,u)?a.concat(u):void 0);if(ar(n,u,i),!tt(i))return;e.m=!1}if(nt(r)&&!kn(r)){if(!e.h.F&&e._<1)return;Lt(e,r),t&&t.A.l||Mt(e,r)}}function Mt(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&_n(t,n)}function sn(e,t){var n=e[ye];return(n?Qe(n):e)[t]}function Qn(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var u=Object.getOwnPropertyDescriptor(n,t);if(u)return u;n=Object.getPrototypeOf(n)}}function vn(e){e.P||(e.P=!0,e.l&&vn(e.l))}function on(e){e.o||(e.o=On(e.t))}function mn(e,t,n){var u=yn(t)?Re("MapSet").N(t,n):bn(t)?Re("MapSet").T(t,n):e.g?function(r,a){var i=Array.isArray(r),s={i:i?1:0,A:a?a.A:Xn(),P:!1,I:!1,D:{},l:a,t:r,k:null,o:null,j:null,C:!1},o=s,l=En;i&&(o=[s],l=Et);var D=Proxy.revocable(o,l),d=D.revoke,C=D.proxy;return s.k=C,s.j=d,C}(t,n):Re("ES5").J(t,n);return(n?n.A:Xn()).p.push(u),u}function ca(e){return tt(e)||Pe(22,e),function t(n){if(!nt(n))return n;var u,r=n[ye],a=gt(n);if(r){if(!r.P&&(r.i<4||!Re("ES5").K(r)))return r.t;r.I=!0,u=$n(n,a),r.I=!1}else u=$n(n,a);return pt(u,function(i,s){r&&sa(r.t,i)===s||ar(u,i,t(s))}),a===3?new Set(u):u}(e)}function $n(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return On(e)}var eu,wt,Pn=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",Da=typeof Map!="undefined",da=typeof Set!="undefined",tu=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",ir=Pn?Symbol.for("immer-nothing"):((eu={})["immer-nothing"]=!0,eu),nu=Pn?Symbol.for("immer-draftable"):"__$immer_draftable",ye=Pn?Symbol.for("immer-state"):"__$immer_state",Ca=""+Object.prototype.constructor,Sn=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ha=Object.getOwnPropertyDescriptors||function(e){var t={};return Sn(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},ga={},En={get:function(e,t){if(t===ye)return e;var n=Qe(e);if(!gn(n,t))return function(r,a,i){var s,o=Qn(a,i);return o?"value"in o?o.value:(s=o.get)===null||s===void 0?void 0:s.call(r.k):void 0}(e,n,t);var u=n[t];return e.I||!nt(u)?u:u===sn(e.t,t)?(on(e),e.o[t]=mn(e.A.h,u,e)):u},has:function(e,t){return t in Qe(e)},ownKeys:function(e){return Reflect.ownKeys(Qe(e))},set:function(e,t,n){var u=Qn(Qe(e),t);if(u!=null&&u.set)return u.set.call(e.k,n),!0;if(!e.P){var r=sn(Qe(e),t),a=r==null?void 0:r[ye];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(oa(n,r)&&(n!==void 0||gn(e.t,t)))return!0;on(e),vn(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return sn(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,on(e),vn(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Qe(e),u=Reflect.getOwnPropertyDescriptor(n,t);return u&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:u.enumerable,value:n[t]}},defineProperty:function(){Pe(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Pe(12)}},Et={};pt(En,function(e,t){Et[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Et.deleteProperty=function(e,t){return Et.set.call(this,e,t,void 0)},Et.set=function(e,t,n){return En.set.call(this,e[0],t,n,e[0])};var Ba=function(){function e(n){var u=this;this.g=tu,this.F=!0,this.produce=function(r,a,i){if(typeof r=="function"&&typeof a!="function"){var s=a;a=r;var o=u;return function(E){var A=this;E===void 0&&(E=s);for(var y=arguments.length,w=Array(y>1?y-1:0),O=1;O<y;O++)w[O-1]=arguments[O];return o.produce(E,function(_){var N;return(N=a).call.apply(N,[A,_].concat(w))})}}var l;if(typeof a!="function"&&Pe(6),i!==void 0&&typeof i!="function"&&Pe(7),nt(r)){var D=Zn(u),d=mn(u,r,void 0),C=!0;try{l=a(d),C=!1}finally{C?It(D):Bn(D)}return typeof Promise!="undefined"&&l instanceof Promise?l.then(function(E){return rn(D,i),an(E,D)},function(E){throw It(D),E}):(rn(D,i),an(l,D))}if(!r||typeof r!="object"){if((l=a(r))===void 0&&(l=r),l===ir&&(l=void 0),u.F&&_n(l,!0),i){var h=[],v=[];Re("Patches").M(r,l,h,v),i(h,v)}return l}Pe(21,r)},this.produceWithPatches=function(r,a){if(typeof r=="function")return function(l){for(var D=arguments.length,d=Array(D>1?D-1:0),C=1;C<D;C++)d[C-1]=arguments[C];return u.produceWithPatches(l,function(h){return r.apply(void 0,[h].concat(d))})};var i,s,o=u.produce(r,a,function(l,D){i=l,s=D});return typeof Promise!="undefined"&&o instanceof Promise?o.then(function(l){return[l,i,s]}):[o,i,s]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){nt(n)||Pe(8),tt(n)&&(n=ca(n));var u=Zn(this),r=mn(this,n,void 0);return r[ye].C=!0,Bn(u),r},t.finishDraft=function(n,u){var r=n&&n[ye],a=r.A;return rn(a,u),an(void 0,a)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!tu&&Pe(20),this.g=n},t.applyPatches=function(n,u){var r;for(r=u.length-1;r>=0;r--){var a=u[r];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}r>-1&&(u=u.slice(r+1));var i=Re("Patches").$;return tt(n)?i(n,u):this.produce(n,function(s){return i(s,u)})},e}(),be=new Ba,Ut=be.produce;be.produceWithPatches.bind(be);be.setAutoFreeze.bind(be);be.setUseProxies.bind(be);be.applyPatches.bind(be);var uu=be.createDraft.bind(be),ru=be.finishDraft.bind(be);function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wt=new WeakMap,zt=new WeakMap,vt=new WeakMap,au=new WeakMap,iu=new WeakMap,su=new WeakMap,ou=new WeakMap;function lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,u)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lu(Object(n),!0).forEach(function(u){Ie(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lu(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var ao=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:t=>{for(var n of f.pathRefs(e))Ja.transform(n,t);for(var u of f.pointRefs(e))Xa.transform(u,t);for(var r of f.rangeRefs(e))Qa.transform(r,t);var a=Wt.get(e)||[],i=zt.get(e)||new Set,s,o,l=v=>{if(v){var E=v.join(",");o.has(E)||(o.add(E),s.push(v))}};if(g.operationCanTransformPath(t)){s=[],o=new Set;for(var D of a){var d=g.transform(D,t);l(d)}}else s=a,o=i;var C=va(t);for(var h of C)l(h);Wt.set(e,s),zt.set(e,o),p.transform(e,t),e.operations.push(t),f.normalize(e),t.type==="set_selection"&&(e.marks=null),vt.get(e)||(vt.set(e,!0),Promise.resolve().then(()=>{vt.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(t,n)=>{var{selection:u}=e;if(u)if(m.isExpanded(u))p.setNodes(e,{[t]:n},{match:S.isText,split:!0});else{var r=xt(xt({},f.marks(e)||{}),{},{[t]:n});e.marks=r,vt.get(e)||e.onChange()}},deleteBackward:t=>{var{selection:n}=e;n&&m.isCollapsed(n)&&p.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:n}=e;n&&m.isCollapsed(n)&&p.delete(e,{unit:t})},deleteFragment:t=>{var{selection:n}=e;n&&m.isExpanded(n)&&p.delete(e,{reverse:t==="backward"})},getFragment:()=>{var{selection:t}=e;return t?b.fragment(e,t):[]},insertBreak:()=>{p.splitNodes(e,{always:!0})},insertSoftBreak:()=>{p.splitNodes(e,{always:!0})},insertFragment:t=>{p.insertFragment(e,t)},insertNode:t=>{p.insertNodes(e,t)},insertText:t=>{var{selection:n,marks:u}=e;if(n){if(u){var r=xt({text:t},u);p.insertNodes(e,r)}else p.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[n,u]=t;if(!S.isText(n)){if(U.isElement(n)&&n.children.length===0){var r={text:""};p.insertNodes(e,r,{at:u.concat(0),voids:!0});return}for(var a=f.isEditor(n)?!1:U.isElement(n)&&(e.isInline(n)||n.children.length===0||S.isText(n.children[0])||e.isInline(n.children[0])),i=0,s=0;s<n.children.length;s++,i++){var o=b.get(e,u);if(!S.isText(o)){var l=n.children[s],D=o.children[i-1],d=s===n.children.length-1,C=S.isText(l)||U.isElement(l)&&e.isInline(l);if(C!==a)p.removeNodes(e,{at:u.concat(i),voids:!0}),i--;else if(U.isElement(l)){if(e.isInline(l)){if(D==null||!S.isText(D)){var h={text:""};p.insertNodes(e,h,{at:u.concat(i),voids:!0}),i++}else if(d){var v={text:""};p.insertNodes(e,v,{at:u.concat(i+1),voids:!0}),i++}}}else D!=null&&S.isText(D)&&(S.equals(l,D,{loose:!0})?(p.mergeNodes(e,{at:u.concat(i),voids:!0}),i--):D.text===""?(p.removeNodes(e,{at:u.concat(i-1),voids:!0}),i--):l.text===""&&(p.removeNodes(e,{at:u.concat(i),voids:!0}),i--))}}}},removeMark:t=>{var{selection:n}=e;if(n)if(m.isExpanded(n))p.unsetNodes(e,t,{match:S.isText,split:!0});else{var u=xt({},f.marks(e)||{});delete u[t],e.marks=u,vt.get(e)||e.onChange()}}};return e},va=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:t}=e;return g.levels(t)}case"insert_node":{var{node:n,path:u}=e,r=g.levels(u),a=S.isText(n)?[]:Array.from(b.nodes(n),L=>{var[,X]=L;return u.concat(X)});return[...r,...a]}case"merge_node":{var{path:i}=e,s=g.ancestors(i),o=g.previous(i);return[...s,o]}case"move_node":{var{path:l,newPath:D}=e;if(g.equals(l,D))return[];var d=[],C=[];for(var h of g.ancestors(l)){var v=g.transform(h,e);d.push(v)}for(var E of g.ancestors(D)){var A=g.transform(E,e);C.push(A)}var y=C[C.length-1],w=D[D.length-1],O=y.concat(w);return[...d,...C,O]}case"remove_node":{var{path:_}=e,N=g.ancestors(_);return[...N]}case"split_node":{var{path:F}=e,c=g.levels(F),T=g.next(F);return[...c,T]}default:return[]}};function ma(e,t){if(e==null)return{};var n={},u=Object.keys(e),r,a;for(a=0;a<u.length;a++)r=u[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Ve(e,t){if(e==null)return{};var n=ma(e,t),u,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)u=a[r],!(t.indexOf(u)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,u)||(n[u]=e[u]))}return n}var xn=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=!n,r=n?ya(t):t,a=R.None,i=R.None,s=0,o=null,l=null;for(var D of r){var d=D.codePointAt(0);if(!d)break;var C=Ia(D,d);if([a,i]=u?[i,C]:[C,a],ft(a,R.ZWJ)&&ft(i,R.ExtPict)&&(u?o=fu(t.substring(0,s)):o=fu(t.substring(0,t.length-s)),!o)||ft(a,R.RI)&&ft(i,R.RI)&&(l!==null?l=!l:u?l=!0:l=Va(t.substring(0,t.length-s)),!l)||a!==R.None&&i!==R.None&&Ma(a,i))break;s+=D.length}return s||1},Ea=/\s/,Aa=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Fa=/['\u2018\u2019]/,pa=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=0,r=!1;t.length>0;){var a=xn(t,n),[i,s]=Nn(t,a,n);if(wa(i,s,n))r=!0,u+=a;else if(!r)u+=a;else break;t=s}return u},Nn=(e,t,n)=>{if(n){var u=e.length-t;return[e.slice(u,e.length),e.slice(0,u)]}return[e.slice(0,t),e.slice(t)]},wa=function e(t,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Ea.test(t))return!1;if(Fa.test(t)){var r=xn(n,u),[a,i]=Nn(n,r,u);if(e(a,i,u))return!0}return!Aa.test(t)},ya=function*(t){for(var n=t.length-1,u=0;u<t.length;u++){var r=t.charAt(n-u);if(Oa(r.charCodeAt(0))){var a=t.charAt(n-u-1);if(ba(a.charCodeAt(0))){yield a+r,u++;continue}}yield r}},ba=e=>e>=55296&&e<=56319,Oa=e=>e>=56320&&e<=57343,R;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(R||(R={}));var _a=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,ka=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,Pa=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Sa=/^[\u1100-\u115F\uA960-\uA97C]$/,xa=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Na=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,Ta=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Ra=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,ja=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Ia=(e,t)=>{var n=R.Any;return e.search(_a)!==-1&&(n|=R.Extend),t===8205&&(n|=R.ZWJ),t>=127462&&t<=127487&&(n|=R.RI),e.search(ka)!==-1&&(n|=R.Prepend),e.search(Pa)!==-1&&(n|=R.SpacingMark),e.search(Sa)!==-1&&(n|=R.L),e.search(xa)!==-1&&(n|=R.V),e.search(Na)!==-1&&(n|=R.T),e.search(Ta)!==-1&&(n|=R.LV),e.search(Ra)!==-1&&(n|=R.LVT),e.search(ja)!==-1&&(n|=R.ExtPict),n};function ft(e,t){return(e&t)!==0}var La=[[R.L,R.L|R.V|R.LV|R.LVT],[R.LV|R.V,R.V|R.T],[R.LVT|R.T,R.T],[R.Any,R.Extend|R.ZWJ],[R.Any,R.SpacingMark],[R.Prepend,R.Any],[R.ZWJ,R.ExtPict],[R.RI,R.RI]];function Ma(e,t){return La.findIndex(n=>ft(e,n[0])&&ft(t,n[1]))===-1}var Wa=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,fu=e=>e.search(Wa)!==-1,za=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Va=e=>{var t=e.match(za);if(t===null)return!1;var n=t[0].length/2;return n%2===1},cu=e=>De(e)&&b.isNodeList(e.children)&&!f.isEditor(e),U={isAncestor(e){return De(e)&&b.isNodeList(e.children)},isElement:cu,isElementList(e){return Array.isArray(e)&&e.every(t=>U.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return cu(t)&&t[u]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},qa=["text"],Ha=["text"];function Du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,u)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Du(Object(n),!0).forEach(function(u){Ie(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Du(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var du=new WeakMap,f={above(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:u="lowest",at:r=e.selection,match:a}=t;if(!!r){var i=f.path(e,r),s=u==="lowest";for(var[o,l]of f.levels(e,{at:i,voids:n,match:a,reverse:s}))if(!S.isText(o)&&!g.equals(i,l))return[o,l]}},addMark(e,t,n){e.addMark(t,n)},after(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=f.point(e,t,{edge:"end"}),r=f.end(e,[]),a={anchor:u,focus:r},{distance:i=1}=n,s=0,o;for(var l of f.positions(e,st(st({},n),{},{at:a}))){if(s>i)break;s!==0&&(o=l),s++}return o},before(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=f.start(e,[]),r=f.point(e,t,{edge:"start"}),a={anchor:u,focus:r},{distance:i=1}=n,s=0,o;for(var l of f.positions(e,st(st({},n),{},{at:a,reverse:!0}))){if(s>i)break;s!==0&&(o=l),s++}return o},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{direction:n="forward"}=t;e.deleteFragment(n)},edges(e,t){return[f.start(e,t),f.end(e,t)]},end(e,t){return f.point(e,t,{edge:"end"})},first(e,t){var n=f.path(e,t,{edge:"start"});return f.node(e,n)},fragment(e,t){var n=f.range(e,t),u=b.fragment(e,n);return u},hasBlocks(e,t){return t.children.some(n=>f.isBlock(e,n))},hasInlines(e,t){return t.children.some(n=>S.isText(n)||f.isInline(e,n))},hasTexts(e,t){return t.children.every(n=>S.isText(n))},insertBreak(e){e.insertBreak()},insertSoftBreak(e){e.insertSoftBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock(e,t){return U.isElement(t)&&!e.isInline(t)},isEditor(e){if(!De(e))return!1;var t=du.get(e);if(t!==void 0)return t;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteBackward=="function"&&typeof e.deleteForward=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isInline=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&(e.marks===null||De(e.marks))&&(e.selection===null||m.isRange(e.selection))&&b.isNodeList(e.children)&&Je.isOperationList(e.operations);return du.set(e,n),n},isEnd(e,t,n){var u=f.end(e,n);return q.equals(t,u)},isEdge(e,t,n){return f.isStart(e,t,n)||f.isEnd(e,t,n)},isEmpty(e,t){var{children:n}=t,[u]=n;return n.length===0||n.length===1&&S.isText(u)&&u.text===""&&!e.isVoid(t)},isInline(e,t){return U.isElement(t)&&e.isInline(t)},isNormalizing(e){var t=au.get(e);return t===void 0?!0:t},isStart(e,t,n){if(t.offset!==0)return!1;var u=f.start(e,n);return q.equals(t,u)},isVoid(e,t){return U.isElement(t)&&e.isVoid(t)},last(e,t){var n=f.path(e,t,{edge:"end"});return f.node(e,n)},leaf(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=f.path(e,t,n),r=b.leaf(e,u);return[r,u]},*levels(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,reverse:u=!1,voids:r=!1}=t,{match:a}=t;if(a==null&&(a=()=>!0),!!n){var i=[],s=f.path(e,n);for(var[o,l]of b.levels(e,s))if(!!a(o,l)&&(i.push([o,l]),!r&&f.isVoid(e,o)))break;u&&i.reverse(),yield*i}},marks(e){var{marks:t,selection:n}=e;if(!n)return null;if(t)return t;if(m.isExpanded(n)){var[u]=f.nodes(e,{match:S.isText});if(u){var[r]=u,a=Ve(r,qa);return a}else return{}}var{anchor:i}=n,{path:s}=i,[o]=f.leaf(e,s);if(i.offset===0){var l=f.previous(e,{at:s,match:S.isText}),D=f.above(e,{match:E=>f.isBlock(e,E)});if(l&&D){var[d,C]=l,[,h]=D;g.isAncestor(h,C)&&(o=d)}}var v=Ve(o,Ha);return v},next(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:u=!1}=t,{match:r,at:a=e.selection}=t;if(!!a){var i=f.after(e,a,{voids:u});if(!!i){var[,s]=f.last(e,[]),o=[i.path,s];if(g.isPath(a)&&a.length===0)throw new Error("Cannot get the next node from the root node!");if(r==null)if(g.isPath(a)){var[l]=f.parent(e,a);r=d=>l.children.includes(d)}else r=()=>!0;var[D]=f.nodes(e,{at:o,match:r,mode:n,voids:u});return D}}},node(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=f.path(e,t,n),r=b.get(e,u);return[r,u]},*nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,mode:u="all",universal:r=!1,reverse:a=!1,voids:i=!1}=t,{match:s}=t;if(s||(s=()=>!0),!!n){var o,l;if(Ka.isSpan(n))o=n[0],l=n[1];else{var D=f.path(e,n,{edge:"start"}),d=f.path(e,n,{edge:"end"});o=a?d:D,l=a?D:d}var C=b.nodes(e,{reverse:a,from:o,to:l,pass:O=>{var[_]=O;return i?!1:f.isVoid(e,_)}}),h=[],v;for(var[E,A]of C){var y=v&&g.compare(A,v[1])===0;if(!(u==="highest"&&y)){if(!s(E,A)){if(r&&!y&&S.isText(E))return;continue}if(u==="lowest"&&y){v=[E,A];continue}var w=u==="lowest"?v:[E,A];w&&(r?h.push(w):yield w),v=[E,A]}}u==="lowest"&&v&&(r?h.push(v):yield v),r&&(yield*h)}},normalize(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1}=t,u=o=>Wt.get(o)||[],r=o=>zt.get(o)||new Set,a=o=>{var l=u(o).pop(),D=l.join(",");return r(o).delete(D),l};if(!!f.isNormalizing(e)){if(n){var i=Array.from(b.nodes(e),o=>{var[,l]=o;return l}),s=new Set(i.map(o=>o.join(",")));Wt.set(e,i),zt.set(e,s)}u(e).length!==0&&f.withoutNormalizing(e,()=>{for(var o of u(e))if(b.has(e,o)){var l=f.node(e,o),[D,d]=l;U.isElement(D)&&D.children.length===0&&e.normalizeNode(l)}for(var C=u(e).length*42,h=0;u(e).length!==0;){if(h>C)throw new Error(`
            Could not completely normalize the editor after `.concat(C,` iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.
          `));var v=a(e);if(b.has(e,v)){var E=f.node(e,v);e.normalizeNode(E)}h++}})}},parent(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=f.path(e,t,n),r=g.parent(u),a=f.node(e,r);return a},path(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:u,edge:r}=n;if(g.isPath(t)){if(r==="start"){var[,a]=b.first(e,t);t=a}else if(r==="end"){var[,i]=b.last(e,t);t=i}}return m.isRange(t)&&(r==="start"?t=m.start(t):r==="end"?t=m.end(t):t=g.common(t.anchor.path,t.focus.path)),q.isPoint(t)&&(t=t.path),u!=null&&(t=t.slice(0,u)),t},hasPath(e,t){return b.has(e,t)},pathRef(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,r={current:t,affinity:u,unref(){var{current:i}=r,s=f.pathRefs(e);return s.delete(r),r.current=null,i}},a=f.pathRefs(e);return a.add(r),r},pathRefs(e){var t=iu.get(e);return t||(t=new Set,iu.set(e,t)),t},point(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:u="start"}=n;if(g.isPath(t)){var r;if(u==="end"){var[,a]=b.last(e,t);r=a}else{var[,i]=b.first(e,t);r=i}var s=b.get(e,r);if(!S.isText(s))throw new Error("Cannot get the ".concat(u," point in the node at path [").concat(t,"] because it has no ").concat(u," text node."));return{path:r,offset:u==="end"?s.text.length:0}}if(m.isRange(t)){var[o,l]=m.edges(t);return u==="start"?o:l}return t},pointRef(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,r={current:t,affinity:u,unref(){var{current:i}=r,s=f.pointRefs(e);return s.delete(r),r.current=null,i}},a=f.pointRefs(e);return a.add(r),r},pointRefs(e){var t=su.get(e);return t||(t=new Set,su.set(e,t)),t},*positions(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,unit:u="offset",reverse:r=!1,voids:a=!1}=t;if(!n)return;var i=f.range(e,n),[s,o]=m.edges(i),l=r?o:s,D=!1,d="",C=0,h=0,v=0;for(var[E,A]of f.nodes(e,{at:n,reverse:r,voids:a})){if(U.isElement(E)){if(!a&&e.isVoid(E)){yield f.start(e,A),D=!1;continue}if(e.isInline(E))continue;if(f.hasInlines(e,E)){var y=g.isAncestor(A,o.path)?o:f.end(e,A),w=g.isAncestor(A,s.path)?s:f.start(e,A);d=f.string(e,{anchor:w,focus:y},{voids:a}),D=!0}}if(S.isText(E)){var O=g.equals(A,l.path);for(O?(h=r?l.offset:E.text.length-l.offset,v=l.offset):(h=E.text.length,v=r?h:0),(O||D||u==="offset")&&(yield{path:A,offset:v},D=!1);;){if(C===0){if(d==="")break;C=_(d,u,r),d=Nn(d,C,r)[1]}if(v=r?v-C:v+C,h=h-C,h<0){C=-h;break}C=0,yield{path:A,offset:v}}}}function _(N,F,c){return F==="character"?xn(N,c):F==="word"?pa(N,c):F==="line"||F==="block"?N.length:1}},previous(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:u=!1}=t,{match:r,at:a=e.selection}=t;if(!!a){var i=f.before(e,a,{voids:u});if(!!i){var[,s]=f.first(e,[]),o=[i.path,s];if(g.isPath(a)&&a.length===0)throw new Error("Cannot get the previous node from the root node!");if(r==null)if(g.isPath(a)){var[l]=f.parent(e,a);r=d=>l.children.includes(d)}else r=()=>!0;var[D]=f.nodes(e,{reverse:!0,at:o,match:r,mode:n,voids:u});return D}}},range(e,t,n){if(m.isRange(t)&&!n)return t;var u=f.start(e,t),r=f.end(e,n||t);return{anchor:u,focus:r}},rangeRef(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,r={current:t,affinity:u,unref(){var{current:i}=r,s=f.rangeRefs(e);return s.delete(r),r.current=null,i}},a=f.rangeRefs(e);return a.add(r),r},rangeRefs(e){var t=ou.get(e);return t||(t=new Set,ou.set(e,t)),t},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){au.set(e,t)},start(e,t){return f.point(e,t,{edge:"start"})},string(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:u=!1}=n,r=f.range(e,t),[a,i]=m.edges(r),s="";for(var[o,l]of f.nodes(e,{at:r,match:S.isText,voids:u})){var D=o.text;g.equals(l,i.path)&&(D=D.slice(0,i.offset)),g.equals(l,a.path)&&(D=D.slice(a.offset)),s+=D}return s},unhangRange(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:u=!1}=n,[r,a]=m.edges(t);if(r.offset!==0||a.offset!==0||m.isCollapsed(t))return t;var i=f.above(e,{at:a,match:h=>f.isBlock(e,h)}),s=i?i[1]:[],o=f.start(e,r),l={anchor:o,focus:a},D=!0;for(var[d,C]of f.nodes(e,{at:l,match:S.isText,reverse:!0,voids:u})){if(D){D=!1;continue}if(d.text!==""||g.isBefore(C,s)){a={path:C,offset:d.text.length};break}}return{anchor:r,focus:a}},void(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return f.above(e,st(st({},t),{},{match:n=>f.isVoid(e,n)}))},withoutNormalizing(e,t){var n=f.isNormalizing(e);f.setNormalizing(e,!1);try{t()}finally{f.setNormalizing(e,n)}f.normalize(e)}},Ka={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(g.isPath)}},Ua=["children"],Ya=["text"],Cu=new WeakMap,b={ancestor(e,t){var n=b.get(e,t);if(S.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(n));return n},*ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var u of g.ancestors(t,n)){var r=b.ancestor(e,u),a=[r,u];yield a}},child(e,t){if(S.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return n},*children(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:u=!1}=n,r=b.ancestor(e,t),{children:a}=r,i=u?a.length-1:0;u?i>=0:i<a.length;){var s=b.child(r,i),o=t.concat(i);yield[s,o],i=u?i-1:i+1}},common(e,t,n){var u=g.common(t,n),r=b.get(e,u);return[r,u]},descendant(e,t){var n=b.get(e,t);if(f.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(n));return n},*descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of b.nodes(e,t))u.length!==0&&(yield[n,u])},*elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of b.nodes(e,t))U.isElement(n)&&(yield[n,u])},extractProps(e){if(U.isAncestor(e)){var t=Ve(e,Ua);return t}else{var t=Ve(e,Ya);return t}},first(e,t){for(var n=t.slice(),u=b.get(e,n);u&&!(S.isText(u)||u.children.length===0);)u=u.children[0],n.push(0);return[u,n]},fragment(e,t){if(S.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));var n=Ut({children:e.children},u=>{var[r,a]=m.edges(t),i=b.nodes(u,{reverse:!0,pass:C=>{var[,h]=C;return!m.includes(t,h)}});for(var[,s]of i){if(!m.includes(t,s)){var o=b.parent(u,s),l=s[s.length-1];o.children.splice(l,1)}if(g.equals(s,a.path)){var D=b.leaf(u,s);D.text=D.text.slice(0,a.offset)}if(g.equals(s,r.path)){var d=b.leaf(u,s);d.text=d.text.slice(r.offset)}}f.isEditor(u)&&(u.selection=null)});return n.children},get(e,t){for(var n=e,u=0;u<t.length;u++){var r=t[u];if(S.isText(n)||!n.children[r])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));n=n.children[r]}return n},has(e,t){for(var n=e,u=0;u<t.length;u++){var r=t[u];if(S.isText(n)||!n.children[r])return!1;n=n.children[r]}return!0},isNode(e){return S.isText(e)||U.isElement(e)||f.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=Cu.get(e);if(t!==void 0)return t;var n=e.every(u=>b.isNode(u));return Cu.set(e,n),n},last(e,t){for(var n=t.slice(),u=b.get(e,n);u&&!(S.isText(u)||u.children.length===0);){var r=u.children.length-1;u=u.children[r],n.push(r)}return[u,n]},leaf(e,t){var n=b.get(e,t);if(!S.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(n));return n},*levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var u of g.levels(t,n)){var r=b.get(e,u);yield[r,u]}},matches(e,t){return U.isElement(e)&&U.isElementProps(t)&&U.matches(e,t)||S.isText(e)&&S.isTextProps(t)&&S.matches(e,t)},*nodes(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:n,reverse:u=!1}=t,{from:r=[],to:a}=t,i=new Set,s=[],o=e;!(a&&(u?g.isBefore(s,a):g.isAfter(s,a)));){if(i.has(o)||(yield[o,s]),!i.has(o)&&!S.isText(o)&&o.children.length!==0&&(n==null||n([o,s])===!1)){i.add(o);var l=u?o.children.length-1:0;g.isAncestor(s,r)&&(l=r[s.length]),s=s.concat(l),o=b.get(e,s);continue}if(s.length===0)break;if(!u){var D=g.next(s);if(b.has(e,D)){s=D,o=b.get(e,s);continue}}if(u&&s[s.length-1]!==0){var d=g.previous(s);s=d,o=b.get(e,s);continue}s=g.parent(s),o=b.get(e,s),i.add(o)}},parent(e,t){var n=g.parent(t),u=b.get(e,n);if(S.isText(u))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return u},string(e){return S.isText(e)?e.text:e.children.map(b.string).join("")},*texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of b.nodes(e,t))S.isText(n)&&(yield[n,u])}};function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,u)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hu(Object(n),!0).forEach(function(u){Ie(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var Je={isNodeOperation(e){return Je.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!De(e))return!1;switch(e.type){case"insert_node":return g.isPath(e.path)&&b.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&g.isPath(e.path);case"merge_node":return typeof e.position=="number"&&g.isPath(e.path)&&De(e.properties);case"move_node":return g.isPath(e.path)&&g.isPath(e.newPath);case"remove_node":return g.isPath(e.path)&&b.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&g.isPath(e.path);case"set_node":return g.isPath(e.path)&&De(e.properties)&&De(e.newProperties);case"set_selection":return e.properties===null&&m.isRange(e.newProperties)||e.newProperties===null&&m.isRange(e.properties)||De(e.properties)&&De(e.newProperties);case"split_node":return g.isPath(e.path)&&typeof e.position=="number"&&De(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>Je.isOperation(t))},isSelectionOperation(e){return Je.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Je.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return ue(ue({},e),{},{type:"remove_node"});case"insert_text":return ue(ue({},e),{},{type:"remove_text"});case"merge_node":return ue(ue({},e),{},{type:"split_node",path:g.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(g.equals(t,n))return e;if(g.isSibling(n,t))return ue(ue({},e),{},{path:t,newPath:n});var u=g.transform(n,e),r=g.transform(g.next(n),e);return ue(ue({},e),{},{path:u,newPath:r})}case"remove_node":return ue(ue({},e),{},{type:"insert_node"});case"remove_text":return ue(ue({},e),{},{type:"insert_text"});case"set_node":{var{properties:a,newProperties:i}=e;return ue(ue({},e),{},{properties:i,newProperties:a})}case"set_selection":{var{properties:s,newProperties:o}=e;return s==null?ue(ue({},e),{},{properties:o,newProperties:null}):o==null?ue(ue({},e),{},{properties:null,newProperties:s}):ue(ue({},e),{},{properties:o,newProperties:s})}case"split_node":return ue(ue({},e),{},{type:"merge_node",path:g.next(e.path)})}}},g={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,u=g.levels(e,t);return n?u=u.slice(1):u=u.slice(0,-1),u},common(e,t){for(var n=[],u=0;u<e.length&&u<t.length;u++){var r=e[u],a=t[u];if(r!==a)break;n.push(r)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),u=0;u<n;u++){if(e[u]<t[u])return-1;if(e[u]>t[u])return 1}return 0},endsAfter(e,t){var n=e.length-1,u=e.slice(0,n),r=t.slice(0,n),a=e[n],i=t[n];return g.equals(u,r)&&a>i},endsAt(e,t){var n=e.length,u=e.slice(0,n),r=t.slice(0,n);return g.equals(u,r)},endsBefore(e,t){var n=e.length-1,u=e.slice(0,n),r=t.slice(0,n),a=e[n],i=t[n];return g.equals(u,r)&&a<i},equals(e,t){return e.length===t.length&&e.every((n,u)=>n===t[u])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return g.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&g.compare(e,t)===0},isBefore(e,t){return g.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&g.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&g.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&g.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&g.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),u=t.slice(0,-1),r=e[e.length-1],a=t[t.length-1];return r!==a&&g.equals(n,u)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,u=[],r=0;r<=e.length;r++)u.push(e.slice(0,r));return n&&u.reverse(),u},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!g.isAncestor(t,e)&&!g.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ut(e,u=>{var{affinity:r="forward"}=n;if(!(!e||(e==null?void 0:e.length)===0)){if(u===null)return null;switch(t.type){case"insert_node":{var{path:a}=t;(g.equals(a,u)||g.endsBefore(a,u)||g.isAncestor(a,u))&&(u[a.length-1]+=1);break}case"remove_node":{var{path:i}=t;if(g.equals(i,u)||g.isAncestor(i,u))return null;g.endsBefore(i,u)&&(u[i.length-1]-=1);break}case"merge_node":{var{path:s,position:o}=t;g.equals(s,u)||g.endsBefore(s,u)?u[s.length-1]-=1:g.isAncestor(s,u)&&(u[s.length-1]-=1,u[s.length]+=o);break}case"split_node":{var{path:l,position:D}=t;if(g.equals(l,u)){if(r==="forward")u[u.length-1]+=1;else if(r!=="backward")return null}else g.endsBefore(l,u)?u[l.length-1]+=1:g.isAncestor(l,u)&&e[l.length]>=D&&(u[l.length-1]+=1,u[l.length]-=D);break}case"move_node":{var{path:d,newPath:C}=t;if(g.equals(d,C))return;if(g.isAncestor(d,u)||g.equals(d,u)){var h=C.slice();return g.endsBefore(d,C)&&d.length<C.length&&(h[d.length-1]-=1),h.concat(u.slice(d.length))}else g.isSibling(d,C)&&(g.isAncestor(C,u)||g.equals(C,u))?g.endsBefore(d,u)?u[d.length-1]-=1:u[d.length-1]+=1:g.endsBefore(C,u)||g.equals(C,u)||g.isAncestor(C,u)?(g.endsBefore(d,u)&&(u[d.length-1]-=1),u[C.length-1]+=1):g.endsBefore(d,u)&&(g.equals(C,u)&&(u[C.length-1]+=1),u[d.length-1]-=1);break}}}})}},Ja={transform(e,t){var{current:n,affinity:u}=e;if(n!=null){var r=g.transform(n,t,{affinity:u});e.current=r,r==null&&e.unref()}}};function gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,u)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gu(Object(n),!0).forEach(function(u){Ie(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gu(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var q={compare(e,t){var n=g.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return q.compare(e,t)===1},isBefore(e,t){return q.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&g.equals(e.path,t.path)},isPoint(e){return De(e)&&typeof e.offset=="number"&&g.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ut(e,u=>{if(u===null)return null;var{affinity:r="forward"}=n,{path:a,offset:i}=u;switch(t.type){case"insert_node":case"move_node":{u.path=g.transform(a,t,n);break}case"insert_text":{g.equals(t.path,a)&&(t.offset<i||t.offset===i&&r==="forward")&&(u.offset+=t.text.length);break}case"merge_node":{g.equals(t.path,a)&&(u.offset+=t.position),u.path=g.transform(a,t,n);break}case"remove_text":{g.equals(t.path,a)&&t.offset<=i&&(u.offset-=Math.min(i-t.offset,t.text.length));break}case"remove_node":{if(g.equals(t.path,a)||g.isAncestor(t.path,a))return null;u.path=g.transform(a,t,n);break}case"split_node":{if(g.equals(t.path,a)){if(t.position===i&&r==null)return null;(t.position<i||t.position===i&&r==="forward")&&(u.offset-=t.position,u.path=g.transform(a,t,Bu(Bu({},n),{},{affinity:"forward"})))}else u.path=g.transform(a,t,n);break}}})}},Xa={transform(e,t){var{current:n,affinity:u}=e;if(n!=null){var r=q.transform(n,t,{affinity:u});e.current=r,r==null&&e.unref()}}},Za=["anchor","focus"];function vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,u)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vu(Object(n),!0).forEach(function(u){Ie(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vu(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var m={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:u,focus:r}=e;return m.isBackward(e)===n?[u,r]:[r,u]},end(e){var[,t]=m.edges(e);return t},equals(e,t){return q.equals(e.anchor,t.anchor)&&q.equals(e.focus,t.focus)},includes(e,t){if(m.isRange(t)){if(m.includes(e,t.anchor)||m.includes(e,t.focus))return!0;var[n,u]=m.edges(e),[r,a]=m.edges(t);return q.isBefore(n,r)&&q.isAfter(u,a)}var[i,s]=m.edges(e),o=!1,l=!1;return q.isPoint(t)?(o=q.compare(t,i)>=0,l=q.compare(t,s)<=0):(o=g.compare(t,i.path)>=0,l=g.compare(t,s.path)<=0),o&&l},intersection(e,t){var n=Ve(e,Za),[u,r]=m.edges(e),[a,i]=m.edges(t),s=q.isBefore(u,a)?a:u,o=q.isBefore(r,i)?r:i;return q.isBefore(o,s)?null:Ga({anchor:s,focus:o},n)},isBackward(e){var{anchor:t,focus:n}=e;return q.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return q.equals(t,n)},isExpanded(e){return!m.isCollapsed(e)},isForward(e){return!m.isBackward(e)},isRange(e){return De(e)&&q.isPoint(e.anchor)&&q.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=m.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ut(e,u=>{if(u===null)return null;var{affinity:r="inward"}=n,a,i;if(r==="inward"){var s=m.isCollapsed(u);m.isForward(u)?(a="forward",i=s?a:"backward"):(a="backward",i=s?a:"forward")}else r==="outward"?m.isForward(u)?(a="backward",i="forward"):(a="forward",i="backward"):(a=r,i=r);var o=q.transform(u.anchor,t,{affinity:a}),l=q.transform(u.focus,t,{affinity:i});if(!o||!l)return null;u.anchor=o,u.focus=l})}},Qa={transform(e,t){var{current:n,affinity:u}=e;if(n!=null){var r=m.transform(n,t,{affinity:u});e.current=r,r==null&&e.unref()}}},sr=(e,t)=>{for(var n in e){var u=e[n],r=t[n];if(De(u)&&De(r)){if(!sr(u,r))return!1}else if(Array.isArray(u)&&Array.isArray(r)){if(u.length!==r.length)return!1;for(var a=0;a<u.length;a++)if(u[a]!==r[a])return!1}else if(u!==r)return!1}for(var i in t)if(e[i]===void 0&&t[i]!==void 0)return!1;return!0},$a=["text"],ei=["anchor","focus"];function mu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,u)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mu(Object(n),!0).forEach(function(u){Ie(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mu(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var S={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:u=!1}=n;function r(a){var i=Ve(a,$a);return i}return sr(u?r(e):e,u?r(t):t)},isText(e){return De(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>S.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Le({},e)];for(var u of t){var r=Ve(u,ei),[a,i]=m.edges(u),s=[],o=0;for(var l of n){var{length:D}=l.text,d=o;if(o+=D,a.offset<=d&&i.offset>=o){Object.assign(l,r),s.push(l);continue}if(a.offset!==i.offset&&(a.offset===o||i.offset===d)||a.offset>o||i.offset<d||i.offset===d&&d!==0){s.push(l);continue}var C=l,h=void 0,v=void 0;if(i.offset<o){var E=i.offset-d;v=Le(Le({},C),{},{text:C.text.slice(E)}),C=Le(Le({},C),{},{text:C.text.slice(0,E)})}if(a.offset>d){var A=a.offset-d;h=Le(Le({},C),{},{text:C.text.slice(0,A)}),C=Le(Le({},C),{},{text:C.text.slice(A)})}Object.assign(C,r),h&&s.push(h),s.push(C),v&&s.push(v)}n=s}return n}};function Eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,u)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eu(Object(n),!0).forEach(function(u){Ie(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eu(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var ti=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:u,node:r}=n,a=b.parent(e,u),i=u[u.length-1];if(i>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(u,"] because the destination is past the end of the node."));if(a.children.splice(i,0,r),t)for(var[s,o]of m.points(t))t[o]=q.transform(s,n);break}case"insert_text":{var{path:l,offset:D,text:d}=n;if(d.length===0)break;var C=b.leaf(e,l),h=C.text.slice(0,D),v=C.text.slice(D);if(C.text=h+d+v,t)for(var[E,A]of m.points(t))t[A]=q.transform(E,n);break}case"merge_node":{var{path:y}=n,w=b.get(e,y),O=g.previous(y),_=b.get(e,O),N=b.parent(e,y),F=y[y.length-1];if(S.isText(w)&&S.isText(_))_.text+=w.text;else if(!S.isText(w)&&!S.isText(_))_.children.push(...w.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(y,"] to nodes of different interfaces: ").concat(w," ").concat(_));if(N.children.splice(F,1),t)for(var[c,T]of m.points(t))t[T]=q.transform(c,n);break}case"move_node":{var{path:L,newPath:X}=n;if(g.isAncestor(L,X))throw new Error("Cannot move a path [".concat(L,"] to new path [").concat(X,"] because the destination is inside itself."));var H=b.get(e,L),ne=b.parent(e,L),oe=L[L.length-1];ne.children.splice(oe,1);var k=g.transform(L,n),G=b.get(e,g.parent(k)),fe=k[k.length-1];if(G.children.splice(fe,0,H),t)for(var[Ce,ce]of m.points(t))t[ce]=q.transform(Ce,n);break}case"remove_node":{var{path:re}=n,pe=re[re.length-1],ve=b.parent(e,re);if(ve.children.splice(pe,1),t)for(var[le,we]of m.points(t)){var z=q.transform(le,n);if(t!=null&&z!=null)t[we]=z;else{var Q=void 0,se=void 0;for(var[me,_e]of b.texts(e))if(g.compare(_e,re)===-1)Q=[me,_e];else{se=[me,_e];break}var ke=!1;Q&&se&&(g.equals(se[1],re)?ke=!g.hasPrevious(se[1]):ke=g.common(Q[1],re).length<g.common(se[1],re).length),Q&&!ke?(le.path=Q[1],le.offset=Q[0].text.length):se?(le.path=se[1],le.offset=0):t=null}}break}case"remove_text":{var{path:Ue,offset:Te,text:at}=n;if(at.length===0)break;var Bt=b.leaf(e,Ue),Qt=Bt.text.slice(0,Te),$t=Bt.text.slice(Te+at.length);if(Bt.text=Qt+$t,t)for(var[en,tn]of m.points(t))t[tn]=q.transform(en,n);break}case"set_node":{var{path:B,properties:x,newProperties:P}=n;if(B.length===0)throw new Error("Cannot set properties on the root node!");var W=b.get(e,B);for(var V in P){if(V==="children"||V==="text")throw new Error('Cannot set the "'.concat(V,'" property of nodes!'));var Z=P[V];Z==null?delete W[V]:W[V]=Z}for(var Ze in x)P.hasOwnProperty(Ze)||delete W[Ze];break}case"set_selection":{var{newProperties:Ee}=n;if(Ee==null)t=Ee;else{if(t==null){if(!m.isRange(Ee))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(Ee)," when there is no current selection."));t=mt({},Ee)}for(var Ye in Ee){var zn=Ee[Ye];if(zn==null){if(Ye==="anchor"||Ye==="focus")throw new Error('Cannot remove the "'.concat(Ye,'" selection property'));delete t[Ye]}else t[Ye]=zn}}break}case"split_node":{var{path:it,position:St,properties:Vn}=n;if(it.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(it,"] because the root node cannot be split."));var Ge=b.get(e,it),Lr=b.parent(e,it),Mr=it[it.length-1],nn;if(S.isText(Ge)){var Wr=Ge.text.slice(0,St),zr=Ge.text.slice(St);Ge.text=Wr,nn=mt(mt({},Vn),{},{text:zr})}else{var Vr=Ge.children.slice(0,St),qr=Ge.children.slice(St);Ge.children=Vr,nn=mt(mt({},Vn),{},{children:qr})}if(Lr.children.splice(Mr+1,0,nn),t)for(var[Hr,Kr]of m.points(t))t[Kr]=q.transform(Hr,n);break}}return t},ni={transform(e,t){e.children=uu(e.children);var n=e.selection&&uu(e.selection);try{n=ti(e,n,t)}finally{e.children=ru(e.children),n?e.selection=tt(n)?ru(n):n:e.selection=null}}},ui=["text"],ri=["children"];function Au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,u)}return n}function Fu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Au(Object(n),!0).forEach(function(u){Ie(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Au(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var ai={insertNodes(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{hanging:u=!1,voids:r=!1,mode:a="lowest"}=n,{at:i,match:s,select:o}=n;if(b.isNode(t)&&(t=[t]),t.length!==0){var[l]=t;if(i||(e.selection?i=e.selection:e.children.length>0?i=f.end(e,[]):i=[0],o=!0),o==null&&(o=!1),m.isRange(i))if(u||(i=f.unhangRange(e,i)),m.isCollapsed(i))i=i.anchor;else{var[,D]=m.edges(i),d=f.pointRef(e,D);p.delete(e,{at:i}),i=d.unref()}if(q.isPoint(i)){s==null&&(S.isText(l)?s=F=>S.isText(F):e.isInline(l)?s=F=>S.isText(F)||f.isInline(e,F):s=F=>f.isBlock(e,F));var[C]=f.nodes(e,{at:i.path,match:s,mode:a,voids:r});if(C){var[,h]=C,v=f.pathRef(e,h),E=f.isEnd(e,i,h);p.splitNodes(e,{at:i,match:s,mode:a,voids:r});var A=v.unref();i=E?g.next(A):A}else return}var y=g.parent(i),w=i[i.length-1];if(!(!r&&f.void(e,{at:y}))){for(var O of t){var _=y.concat(w);w++,e.apply({type:"insert_node",path:_,node:O}),i=g.next(i)}if(i=g.previous(i),o){var N=f.end(e,i);N&&p.select(e,N)}}}})},liftNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:u="lowest",voids:r=!1}=t,{match:a}=t;if(a==null&&(a=g.isPath(n)?ot(e,n):O=>f.isBlock(e,O)),!!n){var i=f.nodes(e,{at:n,match:a,mode:u,voids:r}),s=Array.from(i,O=>{var[,_]=O;return f.pathRef(e,_)});for(var o of s){var l=o.unref();if(l.length<2)throw new Error("Cannot lift node at a path [".concat(l,"] because it has a depth of less than `2`."));var D=f.node(e,g.parent(l)),[d,C]=D,h=l[l.length-1],{length:v}=d.children;if(v===1){var E=g.next(C);p.moveNodes(e,{at:l,to:E,voids:r}),p.removeNodes(e,{at:C,voids:r})}else if(h===0)p.moveNodes(e,{at:l,to:C,voids:r});else if(h===v-1){var A=g.next(C);p.moveNodes(e,{at:l,to:A,voids:r})}else{var y=g.next(l),w=g.next(C);p.splitNodes(e,{at:y,voids:r}),p.moveNodes(e,{at:l,to:w,voids:r})}}}})},mergeNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{match:n,at:u=e.selection}=t,{hanging:r=!1,voids:a=!1,mode:i="lowest"}=t;if(!!u){if(n==null)if(g.isPath(u)){var[s]=f.parent(e,u);n=L=>s.children.includes(L)}else n=L=>f.isBlock(e,L);if(!r&&m.isRange(u)&&(u=f.unhangRange(e,u)),m.isRange(u))if(m.isCollapsed(u))u=u.anchor;else{var[,o]=m.edges(u),l=f.pointRef(e,o);p.delete(e,{at:u}),u=l.unref(),t.at==null&&p.select(e,u)}var[D]=f.nodes(e,{at:u,match:n,voids:a,mode:i}),d=f.previous(e,{at:u,match:n,voids:a,mode:i});if(!(!D||!d)){var[C,h]=D,[v,E]=d;if(!(h.length===0||E.length===0)){var A=g.next(E),y=g.common(h,E),w=g.isSibling(h,E),O=Array.from(f.levels(e,{at:h}),L=>{var[X]=L;return X}).slice(y.length).slice(0,-1),_=f.above(e,{at:h,mode:"highest",match:L=>O.includes(L)&&or(e,L)}),N=_&&f.pathRef(e,_[1]),F,c;if(S.isText(C)&&S.isText(v)){var T=Ve(C,ui);c=v.text.length,F=T}else if(U.isElement(C)&&U.isElement(v)){var T=Ve(C,ri);c=v.children.length,F=T}else throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(C)," ").concat(JSON.stringify(v)));w||p.moveNodes(e,{at:h,to:A,voids:a}),N&&p.removeNodes(e,{at:N.current,voids:a}),U.isElement(v)&&f.isEmpty(e,v)||S.isText(v)&&v.text===""&&E[E.length-1]!==0?p.removeNodes(e,{at:E,voids:a}):e.apply({type:"merge_node",path:A,position:c,properties:F}),N&&N.unref()}}}})},moveNodes(e,t){f.withoutNormalizing(e,()=>{var{to:n,at:u=e.selection,mode:r="lowest",voids:a=!1}=t,{match:i}=t;if(!!u){i==null&&(i=g.isPath(u)?ot(e,u):h=>f.isBlock(e,h));var s=f.pathRef(e,n),o=f.nodes(e,{at:u,match:i,mode:r,voids:a}),l=Array.from(o,h=>{var[,v]=h;return f.pathRef(e,v)});for(var D of l){var d=D.unref(),C=s.current;d.length!==0&&e.apply({type:"move_node",path:d,newPath:C}),s.current&&g.isSibling(C,d)&&g.isAfter(C,d)&&(s.current=g.next(s.current))}s.unref()}})},removeNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:u=!1,mode:r="lowest"}=t,{at:a=e.selection,match:i}=t;if(!!a){i==null&&(i=g.isPath(a)?ot(e,a):C=>f.isBlock(e,C)),!n&&m.isRange(a)&&(a=f.unhangRange(e,a));var s=f.nodes(e,{at:a,match:i,mode:r,voids:u}),o=Array.from(s,C=>{var[,h]=C;return f.pathRef(e,h)});for(var l of o){var D=l.unref();if(D){var[d]=f.node(e,D);e.apply({type:"remove_node",path:D,node:d})}}}})},setNodes(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{match:u,at:r=e.selection,compare:a,merge:i}=n,{hanging:s=!1,mode:o="lowest",split:l=!1,voids:D=!1}=n;if(!!r){if(u==null&&(u=g.isPath(r)?ot(e,r):c=>f.isBlock(e,c)),!s&&m.isRange(r)&&(r=f.unhangRange(e,r)),l&&m.isRange(r)){if(m.isCollapsed(r)&&f.leaf(e,r.anchor)[0].text.length>0)return;var d=f.rangeRef(e,r,{affinity:"inward"}),[C,h]=m.edges(r),v=o==="lowest"?"lowest":"highest",E=f.isEnd(e,h,h.path);p.splitNodes(e,{at:h,match:u,mode:v,voids:D,always:!E});var A=f.isStart(e,C,C.path);p.splitNodes(e,{at:C,match:u,mode:v,voids:D,always:!A}),r=d.unref(),n.at==null&&p.select(e,r)}a||(a=(c,T)=>c!==T);for(var[y,w]of f.nodes(e,{at:r,match:u,mode:o,voids:D})){var O={},_={};if(w.length!==0){var N=!1;for(var F in t)F==="children"||F==="text"||a(t[F],y[F])&&(N=!0,y.hasOwnProperty(F)&&(O[F]=y[F]),i?t[F]!=null&&(_[F]=i(y[F],t[F])):t[F]!=null&&(_[F]=t[F]));N&&e.apply({type:"set_node",path:w,properties:O,newProperties:_})}}}})},splitNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{mode:n="lowest",voids:u=!1}=t,{match:r,at:a=e.selection,height:i=0,always:s=!1}=t;if(r==null&&(r=ce=>f.isBlock(e,ce)),m.isRange(a)&&(a=ii(e,a)),g.isPath(a)){var o=a,l=f.point(e,o),[D]=f.parent(e,o);r=ce=>ce===D,i=l.path.length-o.length+1,a=l,s=!0}if(!!a){var d=f.pointRef(e,a,{affinity:"backward"}),C;try{var[h]=f.nodes(e,{at:a,match:r,mode:n,voids:u});if(!h)return;var v=f.void(e,{at:a,mode:"highest"}),E=0;if(!u&&v){var[A,y]=v;if(U.isElement(A)&&e.isInline(A)){var w=f.after(e,y);if(!w){var O={text:""},_=g.next(y);p.insertNodes(e,O,{at:_,voids:u}),w=f.point(e,_)}a=w,s=!0}var N=a.path.length-y.length;i=N+1,s=!0}C=f.pointRef(e,a);var F=a.path.length-i,[,c]=h,T=a.path.slice(0,F),L=i===0?a.offset:a.path[F]+E;for(var[X,H]of f.levels(e,{at:T,reverse:!0,voids:u})){var ne=!1;if(H.length<c.length||H.length===0||!u&&f.isVoid(e,X))break;var oe=d.current,k=f.isEnd(e,oe,H);if(s||!d||!f.isEdge(e,oe,H)){ne=!0;var G=b.extractProps(X);e.apply({type:"split_node",path:H,position:L,properties:G})}L=H[H.length-1]+(ne||k?1:0)}if(t.at==null){var fe=C.current||f.end(e,[]);p.select(e,fe)}}finally{var Ce;d.unref(),(Ce=C)===null||Ce===void 0||Ce.unref()}}})},unsetNodes(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(t)||(t=[t]);var u={};for(var r of t)u[r]=null;p.setNodes(e,u,n)},unwrapNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{mode:n="lowest",split:u=!1,voids:r=!1}=t,{at:a=e.selection,match:i}=t;if(!!a){i==null&&(i=g.isPath(a)?ot(e,a):C=>f.isBlock(e,C)),g.isPath(a)&&(a=f.range(e,a));var s=m.isRange(a)?f.rangeRef(e,a):null,o=f.nodes(e,{at:a,match:i,mode:n,voids:r}),l=Array.from(o,C=>{var[,h]=C;return f.pathRef(e,h)}).reverse(),D=function(h){var v=h.unref(),[E]=f.node(e,v),A=f.range(e,v);u&&s&&(A=m.intersection(s.current,A)),p.liftNodes(e,{at:A,match:y=>U.isAncestor(E)&&E.children.includes(y),voids:r})};for(var d of l)D(d);s&&s.unref()}})},wrapNodes(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{mode:u="lowest",split:r=!1,voids:a=!1}=n,{match:i,at:s=e.selection}=n;if(!!s){if(i==null&&(g.isPath(s)?i=ot(e,s):e.isInline(t)?i=A=>f.isInline(e,A)||S.isText(A):i=A=>f.isBlock(e,A)),r&&m.isRange(s)){var[o,l]=m.edges(s),D=f.rangeRef(e,s,{affinity:"inward"});p.splitNodes(e,{at:l,match:i,voids:a}),p.splitNodes(e,{at:o,match:i,voids:a}),s=D.unref(),n.at==null&&p.select(e,s)}var d=Array.from(f.nodes(e,{at:s,match:e.isInline(t)?A=>f.isBlock(e,A):A=>f.isEditor(A),mode:"lowest",voids:a}));for(var[,C]of d){var h=m.isRange(s)?m.intersection(s,f.range(e,C)):s;if(!!h){var v=Array.from(f.nodes(e,{at:h,match:i,mode:u,voids:a}));if(v.length>0){var E=function(){var[A]=v,y=v[v.length-1],[,w]=A,[,O]=y;if(w.length===0&&O.length===0)return"continue";var _=g.equals(w,O)?g.parent(w):g.common(w,O),N=f.range(e,w,O),F=f.node(e,_),[c]=F,T=_.length+1,L=g.next(O.slice(0,T)),X=Fu(Fu({},t),{},{children:[]});p.insertNodes(e,X,{at:L,voids:a}),p.moveNodes(e,{at:N,match:H=>U.isAncestor(c)&&c.children.includes(H),to:L.concat(0),voids:a})}();if(E==="continue")continue}}}}})}},or=(e,t)=>{if(U.isElement(t)){var n=t;return f.isVoid(e,t)?!0:n.children.length===1?or(e,n.children[0]):!1}else return!f.isEditor(t)},ii=(e,t)=>{if(m.isCollapsed(t))return t.anchor;var[,n]=m.edges(t),u=f.pointRef(e,n);return p.delete(e,{at:t}),u.unref()},ot=(e,t)=>{var[n]=f.node(e,t);return u=>u===n};function pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,u)}return n}function wu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pu(Object(n),!0).forEach(function(u){Ie(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var si={collapse(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=t,{selection:u}=e;if(u){if(n==="anchor")p.select(e,u.anchor);else if(n==="focus")p.select(e,u.focus);else if(n==="start"){var[r]=m.edges(u);p.select(e,r)}else if(n==="end"){var[,a]=m.edges(u);p.select(e,a)}}else return},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e,{distance:u=1,unit:r="character",reverse:a=!1}=t,{edge:i=null}=t;if(!!n){i==="start"&&(i=m.isBackward(n)?"focus":"anchor"),i==="end"&&(i=m.isBackward(n)?"anchor":"focus");var{anchor:s,focus:o}=n,l={distance:u,unit:r},D={};if(i==null||i==="anchor"){var d=a?f.before(e,s,l):f.after(e,s,l);d&&(D.anchor=d)}if(i==null||i==="focus"){var C=a?f.before(e,o,l):f.after(e,o,l);C&&(D.focus=C)}p.setSelection(e,D)}},select(e,t){var{selection:n}=e;if(t=f.range(e,t),n){p.setSelection(e,t);return}if(!m.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})},setPoint(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:u}=e,{edge:r="both"}=n;if(!!u){r==="start"&&(r=m.isBackward(u)?"focus":"anchor"),r==="end"&&(r=m.isBackward(u)?"anchor":"focus");var{anchor:a,focus:i}=u,s=r==="anchor"?a:i;p.setSelection(e,{[r==="anchor"?"anchor":"focus"]:wu(wu({},s),t)})}},setSelection(e,t){var{selection:n}=e,u={},r={};if(!!n){for(var a in t)(a==="anchor"&&t.anchor!=null&&!q.equals(t.anchor,n.anchor)||a==="focus"&&t.focus!=null&&!q.equals(t.focus,n.focus)||a!=="anchor"&&a!=="focus"&&t[a]!==n[a])&&(u[a]=n[a],r[a]=t[a]);Object.keys(u).length>0&&e.apply({type:"set_selection",properties:u,newProperties:r})}}},oi={delete(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{reverse:n=!1,unit:u="character",distance:r=1,voids:a=!1}=t,{at:i=e.selection,hanging:s=!1}=t;if(!!i){if(m.isRange(i)&&m.isCollapsed(i)&&(i=i.anchor),q.isPoint(i)){var o=f.void(e,{at:i,mode:"highest"});if(!a&&o){var[,l]=o;i=l}else{var D={unit:u,distance:r},d=n?f.before(e,i,D)||f.start(e,[]):f.after(e,i,D)||f.end(e,[]);i={anchor:i,focus:d},s=!0}}if(g.isPath(i)){p.removeNodes(e,{at:i,voids:a});return}if(!m.isCollapsed(i)){if(!s){var[,C]=m.edges(i),h=f.end(e,[]);q.equals(C,h)||(i=f.unhangRange(e,i,{voids:a}))}var[v,E]=m.edges(i),A=f.above(e,{match:Te=>f.isBlock(e,Te),at:v,voids:a}),y=f.above(e,{match:Te=>f.isBlock(e,Te),at:E,voids:a}),w=A&&y&&!g.equals(A[1],y[1]),O=g.equals(v.path,E.path),_=a?null:f.void(e,{at:v,mode:"highest"}),N=a?null:f.void(e,{at:E,mode:"highest"});if(_){var F=f.before(e,v);F&&A&&g.isAncestor(A[1],F.path)&&(v=F)}if(N){var c=f.after(e,E);c&&y&&g.isAncestor(y[1],c.path)&&(E=c)}var T=[],L;for(var X of f.nodes(e,{at:i,voids:a})){var[H,ne]=X;L&&g.compare(ne,L)===0||(!a&&f.isVoid(e,H)||!g.isCommon(ne,v.path)&&!g.isCommon(ne,E.path))&&(T.push(X),L=ne)}var oe=Array.from(T,Te=>{var[,at]=Te;return f.pathRef(e,at)}),k=f.pointRef(e,v),G=f.pointRef(e,E);if(!O&&!_){var fe=k.current,[Ce]=f.leaf(e,fe),{path:ce}=fe,{offset:re}=v,pe=Ce.text.slice(re);pe.length>0&&e.apply({type:"remove_text",path:ce,offset:re,text:pe})}for(var ve of oe){var le=ve.unref();p.removeNodes(e,{at:le,voids:a})}if(!N){var we=G.current,[z]=f.leaf(e,we),{path:Q}=we,se=O?v.offset:0,me=z.text.slice(se,E.offset);me.length>0&&e.apply({type:"remove_text",path:Q,offset:se,text:me})}!O&&w&&G.current&&k.current&&p.mergeNodes(e,{at:G.current,hanging:!0,voids:a});var _e=k.unref(),ke=G.unref(),Ue=n?_e||ke:ke||_e;t.at==null&&Ue&&p.select(e,Ue)}}})},insertFragment(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{hanging:u=!1,voids:r=!1}=n,{at:a=e.selection}=n;if(!!t.length){if(a)if(m.isRange(a))if(u||(a=f.unhangRange(e,a)),m.isCollapsed(a))a=a.anchor;else{var[,i]=m.edges(a);if(!r&&f.void(e,{at:i}))return;var s=f.pointRef(e,i);p.delete(e,{at:a}),a=s.unref()}else g.isPath(a)&&(a=f.start(e,a));else return;if(!(!r&&f.void(e,{at:a}))){var o=f.above(e,{at:a,match:z=>f.isInline(e,z),mode:"highest",voids:r});if(o){var[,l]=o;if(f.isEnd(e,a,l)){var D=f.after(e,l);a=D}else if(f.isStart(e,a,l)){var d=f.before(e,l);a=d}}var C=f.above(e,{match:z=>f.isBlock(e,z),at:a,voids:r}),[,h]=C,v=f.isStart(e,a,h),E=f.isEnd(e,a,h),A=v&&E,y=!v||v&&E,w=!E,[,O]=b.first({children:t},[]),[,_]=b.last({children:t},[]),N=[],F=z=>{var[Q,se]=z,me=se.length===0;return me?!1:A?!0:!(y&&g.isAncestor(se,O)&&U.isElement(Q)&&!e.isVoid(Q)&&!e.isInline(Q)||w&&g.isAncestor(se,_)&&U.isElement(Q)&&!e.isVoid(Q)&&!e.isInline(Q))};for(var c of b.nodes({children:t},{pass:F}))F(c)&&N.push(c);var T=[],L=[],X=[],H=!0,ne=!1;for(var[oe]of N)U.isElement(oe)&&!e.isInline(oe)?(H=!1,ne=!0,L.push(oe)):H?T.push(oe):X.push(oe);var[k]=f.nodes(e,{at:a,match:z=>S.isText(z)||f.isInline(e,z),mode:"highest",voids:r}),[,G]=k,fe=f.isStart(e,a,G),Ce=f.isEnd(e,a,G),ce=f.pathRef(e,E?g.next(h):h),re=f.pathRef(e,Ce?g.next(G):G),pe=f.pathRef(e,h);p.splitNodes(e,{at:a,match:z=>ne?f.isBlock(e,z):S.isText(z)||f.isInline(e,z),mode:ne?"lowest":"highest",voids:r});var ve=f.pathRef(e,!fe||fe&&Ce?g.next(G):G);if(p.insertNodes(e,T,{at:ve.current,match:z=>S.isText(z)||f.isInline(e,z),mode:"highest",voids:r}),A&&L.length&&p.delete(e,{at:pe.unref(),voids:r}),p.insertNodes(e,L,{at:ce.current,match:z=>f.isBlock(e,z),mode:"lowest",voids:r}),p.insertNodes(e,X,{at:re.current,match:z=>S.isText(z)||f.isInline(e,z),mode:"highest",voids:r}),!n.at){var le;X.length>0?le=g.previous(re.current):L.length>0?le=g.previous(ce.current):le=g.previous(ve.current);var we=f.end(e,le);p.select(e,we)}ve.unref(),ce.unref(),re.unref()}}})},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{voids:u=!1}=n,{at:r=e.selection}=n;if(!!r){if(g.isPath(r)&&(r=f.range(e,r)),m.isRange(r))if(m.isCollapsed(r))r=r.anchor;else{var a=m.end(r);if(!u&&f.void(e,{at:a}))return;var i=f.pointRef(e,a);p.delete(e,{at:r,voids:u}),r=i.unref(),p.setSelection(e,{anchor:r,focus:r})}if(!(!u&&f.void(e,{at:r}))){var{path:s,offset:o}=r;t.length>0&&e.apply({type:"insert_text",path:s,offset:o,text:t})}}})}};function yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,u)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yu(Object(n),!0).forEach(function(u){Ie(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var p=Nt(Nt(Nt(Nt({},ni),ai),si),oi);const lr="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",fr="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",li=new RegExp("^[^"+fr+"]*["+lr+"]"),fi=new RegExp("^[^"+lr+"]*["+fr+"]");function cr(e){const t=String(e||"");return li.test(t)?"rtl":fi.test(t)?"ltr":"neutral"}var ci=typeof WeakSet=="function",bu=Object.keys;function Tn(e,t){return e===t||e!==e&&t!==t}function Ou(e){return e.constructor===Object||e.constructor==null}function _u(e){return!!e&&typeof e.then=="function"}function ku(e){return!!(e&&e.$$typeof)}function Di(){var e=[];return{add:function(t){e.push(t)},has:function(t){return e.indexOf(t)!==-1}}}var di=function(e){return e?function(){return new WeakSet}:Di}(ci);function Dr(e){return function(n){var u=e||n;return function(a,i,s,o,l,D,d){d===void 0&&(d=di());var C=!!a&&typeof a=="object",h=!!i&&typeof i=="object";if(C||h){var v=C&&d.has(a),E=h&&d.has(i);if(v||E)return v&&E;C&&d.add(a),h&&d.add(i)}return u(a,i,d)}}}function Ci(e,t,n,u){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n(e[r],t[r],r,r,e,t,u))return!1;return!0}function hi(e,t,n,u){var r=e.size===t.size;if(r&&e.size){var a={},i=0;e.forEach(function(s,o){if(r){var l=!1,D=0;t.forEach(function(d,C){!l&&!a[D]&&(l=n(o,C,i,D,e,t,u)&&n(s,d,o,C,e,t,u),l&&(a[D]=!0)),D++}),i++,r=l}})}return r}var gi="_owner",Bi=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function Pu(e,t,n,u){var r=bu(e),a=r.length;if(bu(t).length!==a)return!1;if(a)for(var i=void 0;a-- >0;){if(i=r[a],i===gi){var s=ku(e),o=ku(t);if((s||o)&&s!==o)return!1}if(!Bi(t,i)||!n(e[i],t[i],i,i,e,t,u))return!1}return!0}function vi(e,t){return e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.unicode===t.unicode&&e.sticky===t.sticky&&e.lastIndex===t.lastIndex}function mi(e,t,n,u){var r=e.size===t.size;if(r&&e.size){var a={};e.forEach(function(i,s){if(r){var o=!1,l=0;t.forEach(function(D,d){!o&&!a[l]&&(o=n(i,D,s,d,e,t,u),o&&(a[l]=!0)),l++}),r=o}})}return r}var Ei=typeof Map=="function",Ai=typeof Set=="function";function Yt(e){var t=typeof e=="function"?e(n):function(u,r,a,i,s,o,l){return n(u,r,l)};function n(u,r,a){if(u===r)return!0;if(u&&r&&typeof u=="object"&&typeof r=="object"){if(Ou(u)&&Ou(r))return Pu(u,r,t,a);var i=Array.isArray(u),s=Array.isArray(r);return i||s?i===s&&Ci(u,r,t,a):(i=u instanceof Date,s=r instanceof Date,i||s?i===s&&Tn(u.getTime(),r.getTime()):(i=u instanceof RegExp,s=r instanceof RegExp,i||s?i===s&&vi(u,r):_u(u)||_u(r)?u===r:Ei&&(i=u instanceof Map,s=r instanceof Map,i||s)?i===s&&hi(u,r,t,a):Ai&&(i=u instanceof Set,s=r instanceof Set,i||s)?i===s&&mi(u,r,t,a):Pu(u,r,t,a)))}return u!==u&&r!==r}return n}Yt();var Fi=Yt(function(){return Tn});Yt(Dr());Yt(Dr(Tn));let pi=0;class wi{constructor(){this.id=`${pi++}`}toString(){return this.id}}const Jt=new WeakMap,Xt=new WeakMap,An=new WeakMap,Rt=new WeakMap,Zt=new WeakMap,Vt=new WeakMap,Fn=new WeakMap,Gt=new WeakMap,dr=new WeakMap,ct=new WeakMap,pn=new WeakMap,yt=Symbol("placeholder");function Rn(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||null}function yi(e){return ut(e)&&e.nodeType===8}function Se(e){return ut(e)&&e.nodeType===1}function ut(e){const t=Rn(e);return!!t&&e instanceof t.Node}function Su(e){const t=e&&e.anchorNode&&Rn(e.anchorNode);return!!t&&e instanceof t.Selection}function Cr(e){return ut(e)&&e.nodeType===3}function bi(e){return e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1}function Oi(e){let[t,n]=e;if(Se(t)&&t.childNodes.length){let u=n===t.childNodes.length,r=u?n-1:n;for([t,r]=hr(t,r,u?"backward":"forward"),u=r<n;Se(t)&&t.childNodes.length;){const a=u?t.childNodes.length-1:0;t=ki(t,a,u?"backward":"forward")}n=u&&t.textContent!=null?t.textContent.length:0}return[t,n]}function _i(){return!!(window.document.activeElement&&window.document.activeElement.shadowRoot)}function hr(e,t,n){const{childNodes:u}=e;let r=u[t],a=t,i=!1,s=!1;for(;(yi(r)||Se(r)&&r.childNodes.length===0||Se(r)&&r.getAttribute("contenteditable")==="false")&&!(i&&s);){if(a>=u.length){i=!0,a=t-1,n="backward";continue}if(a<0){s=!0,a=t+1,n="forward";continue}r=u[a],t=a,a+=n==="forward"?1:-1}return[r,t]}function ki(e,t,n){const[u]=hr(e,t,n);return u}function gr(e){let t="";if(Cr(e)&&e.nodeValue)return e.nodeValue;if(Se(e)){for(const u of Array.from(e.childNodes))t+=gr(u);const n=getComputedStyle(e).getPropertyValue("display");(n==="block"||n==="list"||e.tagName==="BR")&&(t+=`
`)}return t}const Pi=/data-slate-fragment="(.+?)"/m;function Si(e){const t=e.getData("text/html"),[,n]=t.match(Pi)||[];return n}const xi=typeof navigator!="undefined"&&typeof window!="undefined"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,xu=typeof navigator!="undefined"&&/Mac OS X/.test(navigator.userAgent);typeof navigator!="undefined"&&/Android/.test(navigator.userAgent);const wn=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ln=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),Ni=typeof navigator!="undefined"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),Br=typeof navigator!="undefined"&&/Chrome/i.test(navigator.userAgent),Ti=typeof navigator!="undefined"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),Ri=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),ji=typeof navigator!="undefined"&&/.*QQBrowser/.test(navigator.userAgent),Nu=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Tu=!Ti&&!Ni&&typeof globalThis!="undefined"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function";function jn(e){const t=An.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t}function et(e){let t=Fn.get(e);return t||(t=new wi,Fn.set(e,t)),t}function Ct(e){const t=[];let n=e;for(;;){const u=Xt.get(n);if(u==null){if(f.isEditor(n))return t;break}const r=Jt.get(n);if(r==null)break;t.unshift(r),n=u}throw new Error(`Unable to find the path for Slate node: ${JSON.stringify(e)}`)}function At(e){const t=We(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument}function Ru(e){return!!ct.get(e)}function Ii(e){const t=We(e,e),n=At(e);ct.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})}function In(e,t,n={}){const{editable:u=!1}=n,r=We(e,e);let a;try{a=Se(t)?t:t.parentElement}catch(i){if(!i.message.includes('Permission denied to access property "nodeType"'))throw i}return a?a.closest("[data-svelte-editor]")===r&&(!u||a.isContentEditable?!0:typeof a.isContentEditable=="boolean"&&a.closest('[contenteditable="false"]')===r||!!a.getAttribute("data-slate-zero-width")):!1}function We(e,t,n=!0){const u=Gt.get(e),r=f.isEditor(t)?Rt.get(e):u==null?void 0:u.get(et(t));if(!r&&n)throw new Error(`Cannot resolve a DOM node from Slate node: ${JSON.stringify(t)}`);return r}function ju(e,t,n=!0){const[u]=f.node(e,t.path),r=We(e,u,n);let a;f.void(e,{at:t})&&(t={path:t.path,offset:0});const i="[data-slate-string], [data-slate-zero-width]",s=r?Array.from(r.querySelectorAll(i)):[];let o=0;for(const l of s){const D=l.childNodes[0];if(D==null||D.textContent==null)continue;const{length:d}=D.textContent,C=l.getAttribute("data-slate-length"),h=C==null?d:parseInt(C,10),v=o+h;if(t.offset<=v){const E=Math.min(d,Math.max(0,t.offset-o));a=[D,E];break}o=v}if(!a&&n)throw new Error(`Cannot resolve a DOM point from Slate point: ${JSON.stringify(t)}`);return a}function qt(e,t,n=!0){const{anchor:u,focus:r}=t,a=m.isBackward(t),i=ju(e,u,n);if(!i)return;const s=m.isCollapsed(t)?i:ju(e,r),l=jn(e).document.createRange(),[D,d]=a?s:i,[C,h]=a?i:s,E=!!(Se(D)?D:D.parentElement).getAttribute("data-slate-zero-width"),y=!!(Se(C)?C:C.parentElement).getAttribute("data-slate-zero-width");return l.setStart(D,E?1:d),l.setEnd(C,y?1:h),l}function $e(e){let t=Se(e)?e:e.parentElement;t&&!t.hasAttribute("data-slate-node")&&(t=t.closest("[data-slate-node]"));const n=t?Zt.get(t):null;if(!n)throw new Error(`Cannot resolve a Slate node from DOM node: ${t}`);return n}function Li(e,t){const{clientX:n,clientY:u,target:r}=t;if(n==null||u==null)throw new Error(`Cannot resolve a Slate range from a DOM event: ${t}`);const a=$e(t.target),i=Ct(a);if(f.isVoid(e,a)){const D=r.getBoundingClientRect(),d=e.isInline(a)?n-D.left<D.left+D.width-n:u-D.top<D.top+D.height-u,C=f.point(e,i,{edge:d?"start":"end"}),h=d?f.before(e,C):f.after(e,C);if(h)return f.range(e,h)}let s;const{document:o}=jn(e);if(o.caretRangeFromPoint)s=o.caretRangeFromPoint(n,u);else{const D=o.caretPositionFromPoint(n,u);D&&(s=o.createRange(),s.setStart(D.offsetNode,D.offset),s.setEnd(D.offsetNode,D.offset))}if(!s)throw new Error(`Cannot resolve a Slate range from a DOM event: ${t}`);return Ft(e,s,{exactMatch:!1,suppressThrow:!1})}function Iu(e,t,n){var C;const{exactMatch:u,suppressThrow:r}=n,[a,i]=u?t:Oi(t),s=a.parentNode;let o=null,l=0;if(s){const h=s.closest('[data-slate-void="true"]');let v=s.closest("[data-slate-leaf]"),E=null;if(v){if(o=v.closest('[data-slate-node="text"]'),o){const y=jn(e).document.createRange();y.setStart(o,0),y.setEnd(a,i);const w=y.cloneContents();[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))].forEach(_=>{_.parentNode.removeChild(_)}),l=w.textContent.length,E=o}}else h&&(v=h.querySelector("[data-slate-leaf]"),v?(o=v.closest('[data-slate-node="text"]'),E=v,l=E.textContent.length,E.querySelectorAll("[data-slate-zero-width]").forEach(A=>{l-=A.textContent.length})):l=1);E&&l===E.textContent.length&&(s.hasAttribute("data-slate-zero-width")||wn&&((C=E.textContent)==null?void 0:C.endsWith(`

`)))&&l--}if(!o){if(r)return null;throw new Error(`Cannot resolve a Slate point from DOM point: ${t}`)}const D=$e(o);return{path:Ct(D),offset:l}}function Ft(e,t,n){const{exactMatch:u,suppressThrow:r}=n,a=Su(t)?t.anchorNode:t.startContainer;let i,s,o,l,D;if(a&&(Su(t)?(i=t.anchorNode,s=t.anchorOffset,o=t.focusNode,l=t.focusOffset,Br&&_i()?D=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:D=t.isCollapsed):(i=t.startContainer,s=t.startOffset,o=t.endContainer,l=t.endOffset,D=t.collapsed)),i==null||o==null||s==null||l==null)throw new Error(`Cannot resolve a Slate range from DOM range: ${t}`);const d=Iu(e,[i,s],{exactMatch:u,suppressThrow:r});if(!d)return null;const C=D?d:Iu(e,[o,l],{exactMatch:u,suppressThrow:r});if(!C)return null;let h={anchor:d,focus:C};return m.isExpanded(h)&&m.isForward(h)&&Se(o)&&f.void(e,{at:h.focus,mode:"highest"})&&(h=f.unhangRange(e,h,{voids:!0})),h}function Mi(e,t){const{anchor:n,focus:u}=t;return f.hasPath(e,n.path)&&f.hasPath(e,u.path)}function vr(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const a=e[r],i=t[r],n=a,{anchor:s,focus:o}=n,l=un(n,["anchor","focus"]),u=i,{anchor:D,focus:d}=u,C=un(u,["anchor","focus"]);if(!m.equals(a,i)||a[yt]!==i[yt]||!Fi(l,C))return!1}return!0}function mr(e,t){return e===t||!!e&&!!t&&m.equals(e,t)}function Ke(){return{}}function qe(e){const t=Xr(e);if(!t)throw new Error("Must be used inside the Slate component's context.");return t}function Me(e,t){const n=ia(t);return Jr(e,n),n}function Wi(e){let t;const n=e[7].default,u=Ot(n,e,e[6],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,a){u&&u.m(r,a),t=!0},p(r,[a]){u&&u.p&&(!t||a&64)&&_t(u,n,r,r[6],t?Pt(n,r[6],a,null):kt(r[6]),null)},i(r){t||(j(u,r),t=!0)},o(r){I(u,r),t=!1},d(r){u&&u.d(r)}}}const Er=Ke(),Ar=Ke(),Fr=Ke(),pr=Ke(),wr=Ke();function yr(){return qe(Er)}function rt(){return Zr(yr())}function br(){return qe(Ar)}function zi(){return qe(Fr)}function Ln(){return qe(pr)}function Vi(){return qe(wr)}function Or(e){return[]}function qi(e,t,n){let{$$slots:u={},$$scope:r}=t,{editor:a}=t,{value:i=a.children}=t,{selection:s=a.selection}=t;const o=Me(Er,a),l=Me(wr,a.selection);Me(Ar,!0),Me(Fr,!1),Me(pr,Or);function D(){n(1,s=a.selection),n(0,i=a.children)}pn.set(a,D);let d=a,C,h;return e.$$set=v=>{"editor"in v&&n(2,a=v.editor),"value"in v&&n(0,i=v.value),"selection"in v&&n(1,s=v.selection),"$$scope"in v&&n(6,r=v.$$scope)},e.$$.update=()=>{e.$$.dirty&17&&C!==i&&(o.update(v=>(v.children=i,v)),n(4,C=i)),e.$$.dirty&12&&d!==a&&(n(3,d=a),pn.set(a,D),o.set(a)),e.$$.dirty&38&&(mr(h,s)||(l.set(s),o.set(a),n(5,h=s)))},[i,s,a,d,C,h,r,u]}class io extends Ae{constructor(t){super(),Fe(this,t,qi,Wi,bt,{editor:2,value:0,selection:1})}}function Lu(e){let t=`
`,n;return{c(){n=Ht(t)},l(u){n=Kt(u,t)},m(u,r){J(u,n,r)},d(u){u&&M(n)}}}function Hi(e){let t,n=e[0].text+"",u,r=e[1]&&Lu();return{c(){t=xe("span"),u=Ht(n),r&&r.c(),this.h()},l(a){t=Ne(a,"SPAN",{"data-slate-string":!0});var i=je(t);u=Kt(i,n),r&&r.l(i),i.forEach(M),this.h()},h(){K(t,"data-slate-string","true")},m(a,i){J(a,t,i),er(t,u),r&&r.m(t,null),e[3](t)},p(a,[i]){i&1&&n!==(n=a[0].text+"")&&tr(u,n),a[1]?r||(r=Lu(),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:dt,o:dt,d(a){a&&M(t),r&&r.d(),e[3](null)}}}function Ki(e,t,n){let{leaf:u}=t,{isTrailing:r=!1}=t,a;Gr(()=>{a&&n(2,a.textContent=u.text,a)});function i(s){ze[s?"unshift":"push"](()=>{a=s,n(2,a)})}return e.$$set=s=>{"leaf"in s&&n(0,u=s.leaf),"isTrailing"in s&&n(1,r=s.isTrailing)},[u,r,a,i]}class Ui extends Ae{constructor(t){super(),Fe(this,t,Ki,Hi,He,{leaf:0,isTrailing:1})}}function Mu(e){let t;return{c(){t=xe("br")},l(n){t=Ne(n,"BR",{})},m(n,u){J(n,t,u)},d(n){n&&M(t)}}}function Yi(e){let t,n="\uFEFF",u,r,a=e[1]&&Mu();return{c(){t=xe("span"),u=Ht(n),a&&a.c(),this.h()},l(i){t=Ne(i,"SPAN",{"data-slate-zero-width":!0,"data-slate-length":!0});var s=je(t);u=Kt(s,n),a&&a.l(s),s.forEach(M),this.h()},h(){K(t,"data-slate-zero-width",r=e[1]?"n":"z"),K(t,"data-slate-length",e[0])},m(i,s){J(i,t,s),er(t,u),a&&a.m(t,null)},p(i,[s]){i[1]?a||(a=Mu(),a.c(),a.m(t,null)):a&&(a.d(1),a=null),s&2&&r!==(r=i[1]?"n":"z")&&K(t,"data-slate-zero-width",r),s&1&&K(t,"data-slate-length",i[0])},i:dt,o:dt,d(i){i&&M(t),a&&a.d()}}}function Ji(e,t,n){let{length:u=0}=t,{isLineBreak:r=!1}=t;return e.$$set=a=>{"length"in a&&n(0,u=a.length),"isLineBreak"in a&&n(1,r=a.isLineBreak)},[u,r]}class Mn extends Ae{constructor(t){super(),Fe(this,t,Ji,Yi,He,{length:0,isLineBreak:1})}}function Xi(e){let t,n;return t=new Ui({props:{isTrailing:e[5],leaf:e[0]}}),{c(){$(t.$$.fragment)},l(u){de(t.$$.fragment,u)},m(u,r){ee(t,u,r),n=!0},p(u,r){const a={};r&32&&(a.isTrailing=u[5]),r&1&&(a.leaf=u[0]),t.$set(a)},i(u){n||(j(t.$$.fragment,u),n=!0)},o(u){I(t.$$.fragment,u),n=!1},d(u){te(t,u)}}}function Zi(e){let t,n;return t=new Mn({}),{c(){$(t.$$.fragment)},l(u){de(t.$$.fragment,u)},m(u,r){ee(t,u,r),n=!0},p:dt,i(u){n||(j(t.$$.fragment,u),n=!0)},o(u){I(t.$$.fragment,u),n=!1},d(u){te(t,u)}}}function Gi(e){let t,n;return t=new Mn({props:{isLineBreak:!0}}),{c(){$(t.$$.fragment)},l(u){de(t.$$.fragment,u)},m(u,r){ee(t,u,r),n=!0},p:dt,i(u){n||(j(t.$$.fragment,u),n=!0)},o(u){I(t.$$.fragment,u),n=!1},d(u){te(t,u)}}}function Qi(e){let t,n;return t=new Mn({props:{length:b.string(e[1]).length}}),{c(){$(t.$$.fragment)},l(u){de(t.$$.fragment,u)},m(u,r){ee(t,u,r),n=!0},p(u,r){const a={};r&2&&(a.length=b.string(u[1]).length),t.$set(a)},i(u){n||(j(t.$$.fragment,u),n=!0)},o(u){I(t.$$.fragment,u),n=!1},d(u){te(t,u)}}}function $i(e){let t,n,u,r;const a=[Qi,Gi,Zi,Xi],i=[];function s(o,l){return o[4]?0:o[3]?1:o[2]?2:3}return t=s(e),n=i[t]=a[t](e),{c(){n.c(),u=Y()},l(o){n.l(o),u=Y()},m(o,l){i[t].m(o,l),J(o,u,l),r=!0},p(o,[l]){let D=t;t=s(o),t===D?i[t].p(o,l):(ge(),I(i[D],1,1,()=>{i[D]=null}),Be(),n=i[t],n?n.p(o,l):(n=i[t]=a[t](o),n.c()),j(n,1),n.m(u.parentNode,u))},i(o){r||(j(n),r=!0)},o(o){I(n),r=!1},d(o){i[t].d(o),o&&M(u)}}}function es(e,t,n){let u,r,a,i,s,o,{isLast:l}=t,{leaf:D}=t,{parent:d}=t,{text:C}=t;const h=rt();return e.$$set=v=>{"isLast"in v&&n(6,l=v.isLast),"leaf"in v&&n(0,D=v.leaf),"parent"in v&&n(1,d=v.parent),"text"in v&&n(7,C=v.text)},e.$$.update=()=>{e.$$.dirty&65&&n(5,u=l&&D.text.slice(-1)===`
`),e.$$.dirty&128&&n(9,r=Ct(C)),e.$$.dirty&512&&n(8,a=g.parent(r)),e.$$.dirty&2&&n(4,i=h.isVoid(d)),e.$$.dirty&1&&n(2,s=D.text===""),e.$$.dirty&390&&n(3,o=s&&d.children[d.children.length-1]===C&&!h.isInline(d)&&f.string(h,a)==="")},[D,d,s,o,i,u,l,C,a,r]}class ts extends Ae{constructor(t){super(),Fe(this,t,es,$i,He,{isLast:6,leaf:0,parent:1,text:7})}}function Wu(e,t,n,u){var r,a=!1,i=0;function s(){r&&clearTimeout(r)}function o(){s(),a=!0}typeof t!="boolean"&&(u=n,n=t,t=void 0);function l(){for(var D=arguments.length,d=new Array(D),C=0;C<D;C++)d[C]=arguments[C];var h=this,v=Date.now()-i;if(a)return;function E(){i=Date.now(),n.apply(h,d)}function A(){r=void 0}u&&!r&&E(),s(),u===void 0&&v>e?E():t!==!0&&(r=setTimeout(u?A:E,u===void 0?e-v:e))}return l.cancel=o,l}function ns(e,t,n){return n===void 0?Wu(e,t,!1):Wu(e,n,t!==!1)}function zu(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Vu(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function fn(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Vu(n.overflowY,t)||Vu(n.overflowX,t)||function(u){var r=function(a){if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}}(u);return!!r&&(r.clientHeight<u.scrollHeight||r.clientWidth<u.scrollWidth)}(e)}return!1}function Tt(e,t,n,u,r,a,i,s){return a<e&&i>t||a>e&&i<t?0:a<=e&&s<=n||i>=t&&s>=n?a-e-u:i>t&&s<n||a<e&&s>n?i-t+r:0}function qu(e,t){var n=window,u=t.scrollMode,r=t.block,a=t.inline,i=t.boundary,s=t.skipOverflowHiddenElements,o=typeof i=="function"?i:function(Ue){return Ue!==i};if(!zu(e))throw new TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,D=[],d=e;zu(d)&&o(d);){if((d=d.parentElement)===l){D.push(d);break}d!=null&&d===document.body&&fn(d)&&!fn(document.documentElement)||d!=null&&fn(d,s)&&D.push(d)}for(var C=n.visualViewport?n.visualViewport.width:innerWidth,h=n.visualViewport?n.visualViewport.height:innerHeight,v=window.scrollX||pageXOffset,E=window.scrollY||pageYOffset,A=e.getBoundingClientRect(),y=A.height,w=A.width,O=A.top,_=A.right,N=A.bottom,F=A.left,c=r==="start"||r==="nearest"?O:r==="end"?N:O+y/2,T=a==="center"?F+w/2:a==="end"?_:F,L=[],X=0;X<D.length;X++){var H=D[X],ne=H.getBoundingClientRect(),oe=ne.height,k=ne.width,G=ne.top,fe=ne.right,Ce=ne.bottom,ce=ne.left;if(u==="if-needed"&&O>=0&&F>=0&&N<=h&&_<=C&&O>=G&&N<=Ce&&F>=ce&&_<=fe)return L;var re=getComputedStyle(H),pe=parseInt(re.borderLeftWidth,10),ve=parseInt(re.borderTopWidth,10),le=parseInt(re.borderRightWidth,10),we=parseInt(re.borderBottomWidth,10),z=0,Q=0,se="offsetWidth"in H?H.offsetWidth-H.clientWidth-pe-le:0,me="offsetHeight"in H?H.offsetHeight-H.clientHeight-ve-we:0;if(l===H)z=r==="start"?c:r==="end"?c-h:r==="nearest"?Tt(E,E+h,h,ve,we,E+c,E+c+y,y):c-h/2,Q=a==="start"?T:a==="center"?T-C/2:a==="end"?T-C:Tt(v,v+C,C,pe,le,v+T,v+T+w,w),z=Math.max(0,z+E),Q=Math.max(0,Q+v);else{z=r==="start"?c-G-ve:r==="end"?c-Ce+we+me:r==="nearest"?Tt(G,Ce,oe,ve,we+me,c,c+y,y):c-(G+oe/2)+me/2,Q=a==="start"?T-ce-pe:a==="center"?T-(ce+k/2)+se/2:a==="end"?T-fe+le+se:Tt(ce,fe,k,pe,le+se,T,T+w,w);var _e=H.scrollLeft,ke=H.scrollTop;c+=ke-(z=Math.max(0,Math.min(ke+z,H.scrollHeight-oe+me))),T+=_e-(Q=Math.max(0,Math.min(_e+Q,H.scrollWidth-k+se)))}L.push({el:H,top:z,left:Q})}return L}function _r(e){return e===Object(e)&&Object.keys(e).length!==0}function us(e,t){t===void 0&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(u){var r=u.el,a=u.top,i=u.left;r.scroll&&n?r.scroll({top:a,left:i,behavior:t}):(r.scrollTop=a,r.scrollLeft=i)})}function rs(e){return e===!1?{block:"end",inline:"nearest"}:_r(e)?e:{block:"start",inline:"nearest"}}function as(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(_r(t)&&typeof t.behavior=="function")return t.behavior(n?qu(e,t):[]);if(!!n){var u=rs(t);return us(qu(e,u),u.behavior)}}function is(e){let t,n;const u=e[7].default,r=Ot(u,e,e[6],null);return{c(){t=xe("div"),r&&r.c(),this.h()},l(a){t=Ne(a,"DIV",{"data-slate-node":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var i=je(t);r&&r.l(i),i.forEach(M),this.h()},h(){K(t,"data-slate-node","element"),K(t,"data-slate-void",e[2]),K(t,"dir",e[4]),K(t,"contenteditable",e[3]),K(t,"class","svelte-19k8gul")},m(a,i){J(a,t,i),r&&r.m(t,null),e[9](t),n=!0},p(a,i){r&&r.p&&(!n||i&64)&&_t(r,u,a,a[6],n?Pt(u,a[6],i,null):kt(a[6]),null),(!n||i&4)&&K(t,"data-slate-void",a[2]),(!n||i&16)&&K(t,"dir",a[4]),(!n||i&8)&&K(t,"contenteditable",a[3])},i(a){n||(j(r,a),n=!0)},o(a){I(r,a),n=!1},d(a){a&&M(t),r&&r.d(a),e[9](null)}}}function ss(e){let t,n;const u=e[7].default,r=Ot(u,e,e[6],null);return{c(){t=xe("span"),r&&r.c(),this.h()},l(a){t=Ne(a,"SPAN",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var i=je(t);r&&r.l(i),i.forEach(M),this.h()},h(){K(t,"data-slate-node","element"),K(t,"data-slate-inline",e[1]),K(t,"data-slate-void",e[2]),K(t,"dir",e[4]),K(t,"contenteditable",e[3]),K(t,"class","svelte-19k8gul")},m(a,i){J(a,t,i),r&&r.m(t,null),e[8](t),n=!0},p(a,i){r&&r.p&&(!n||i&64)&&_t(r,u,a,a[6],n?Pt(u,a[6],i,null):kt(a[6]),null),(!n||i&2)&&K(t,"data-slate-inline",a[1]),(!n||i&4)&&K(t,"data-slate-void",a[2]),(!n||i&16)&&K(t,"dir",a[4]),(!n||i&8)&&K(t,"contenteditable",a[3])},i(a){n||(j(r,a),n=!0)},o(a){I(r,a),n=!1},d(a){a&&M(t),r&&r.d(a),e[8](null)}}}function os(e){let t,n,u,r;const a=[ss,is],i=[];function s(o,l){return o[1]?0:1}return t=s(e),n=i[t]=a[t](e),{c(){n.c(),u=Y()},l(o){n.l(o),u=Y()},m(o,l){i[t].m(o,l),J(o,u,l),r=!0},p(o,[l]){let D=t;t=s(o),t===D?i[t].p(o,l):(ge(),I(i[D],1,1,()=>{i[D]=null}),Be(),n=i[t],n?n.p(o,l):(n=i[t]=a[t](o),n.c()),j(n,1),n.m(u.parentNode,u))},i(o){r||(j(n),r=!0)},o(o){I(n),r=!1},d(o){i[t].d(o),o&&M(u)}}}function ls(e,t,n){let{$$slots:u={},$$scope:r}=t,{element:a}=t,{isInline:i}=t,{isVoid:s}=t,{contenteditable:o}=t,{ref:l=void 0}=t,{dir:D=void 0}=t;function d(h){ze[h?"unshift":"push"](()=>{l=h,n(0,l)})}function C(h){ze[h?"unshift":"push"](()=>{l=h,n(0,l)})}return e.$$set=h=>{"element"in h&&n(5,a=h.element),"isInline"in h&&n(1,i=h.isInline),"isVoid"in h&&n(2,s=h.isVoid),"contenteditable"in h&&n(3,o=h.contenteditable),"ref"in h&&n(0,l=h.ref),"dir"in h&&n(4,D=h.dir),"$$scope"in h&&n(6,r=h.$$scope)},[l,i,s,o,D,a,r,u,d,C]}class fs extends Ae{constructor(t){super(),Fe(this,t,ls,os,He,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function cs(e){let t,n;const u=e[2].default,r=Ot(u,e,e[1],null);return{c(){t=xe("span"),r&&r.c(),this.h()},l(a){t=Ne(a,"SPAN",{"data-slate-leaf":!0});var i=je(t);r&&r.l(i),i.forEach(M),this.h()},h(){K(t,"data-slate-leaf","true")},m(a,i){J(a,t,i),r&&r.m(t,null),n=!0},p(a,[i]){r&&r.p&&(!n||i&2)&&_t(r,u,a,a[1],n?Pt(u,a[1],i,null):kt(a[1]),null)},i(a){n||(j(r,a),n=!0)},o(a){I(r,a),n=!1},d(a){a&&M(t),r&&r.d(a)}}}function Ds(e,t,n){let{$$slots:u={},$$scope:r}=t,{leaf:a}=t;return e.$$set=i=>{"leaf"in i&&n(0,a=i.leaf),"$$scope"in i&&n(1,r=i.$$scope)},[a,r,u]}class ds extends Ae{constructor(t){super(),Fe(this,t,Ds,cs,He,{leaf:0})}}function Cs(e){let t,n,u;const r=e[2].default,a=Ot(r,e,e[1],null);return{c(){t=xe("span"),a&&a.c(),this.h()},l(i){t=Ne(i,"SPAN",{"data-slate-placeholder":!0,contenteditable:!0,class:!0});var s=je(t);a&&a.l(s),s.forEach(M),this.h()},h(){K(t,"data-slate-placeholder","true"),K(t,"contenteditable","false"),K(t,"class","svelte-lqbb94"),Qr(()=>e[3].call(t))},m(i,s){J(i,t,s),a&&a.m(t,null),n=$r(t,e[3].bind(t)),u=!0},p(i,[s]){a&&a.p&&(!u||s&2)&&_t(a,r,i,i[1],u?Pt(r,i[1],s,null):kt(i[1]),null)},i(i){u||(j(a,i),u=!0)},o(i){I(a,i),u=!1},d(i){i&&M(t),a&&a.d(i),n()}}}function hs(e,t,n){let{$$slots:u={},$$scope:r}=t,{clientHeight:a=void 0}=t;function i(){a=this.clientHeight,n(0,a)}return e.$$set=s=>{"clientHeight"in s&&n(0,a=s.clientHeight),"$$scope"in s&&n(1,r=s.$$scope)},[a,r,u,i]}class gs extends Ae{constructor(t){super(),Fe(this,t,hs,Cs,He,{clientHeight:0})}}const Bs=typeof window!="undefined"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),cn={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},kr={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Bs?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Wn={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(let e=1;e<20;e++)Wn["f"+e]=111+e;function Pr(e,t={}){Array.isArray(e)||(e=[e]);const n=e.map(u=>vs(u,t));return function(r){return n.some(a=>ms(a,r))}}function so(e,t,n={}){return Pr(e,n)(t)}function Dn(e){return Pr(e,{byKey:!0})}function vs(e,t={}){const n=t&&t.byKey,u={};e=e.replace("++","+add");const r=e.split("+"),{length:a}=r;for(const i in cn)u[cn[i]]=!1;for(let i of r){const s=i.endsWith("?")&&i.length>1;s&&(i=i.slice(0,-1));const o=Sr(i),l=cn[o];if(i.length>1&&!l&&!kr[i]&&!Wn[o])throw new TypeError(`Unknown modifier: "${i}"`);(a===1||!l)&&(n?u.key=o:u.which=Es(i)),l&&(u[l]=s?null:!0)}return u}function ms(e,t){for(const n in e){const u=e[n];let r;if(u!=null&&(n==="key"&&t.key!=null?r=t.key.toLowerCase():n==="which"?r=u===91&&t.which===93?91:t.which:r=t[n],!(r==null&&u===!1)&&r!==u))return!1}return!0}function Es(e){return e=Sr(e),Wn[e]||e.toUpperCase().charCodeAt(0)}function Sr(e){return e=e.toLowerCase(),e=kr[e]||e,e}const As={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},Fs={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},ps={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]};function ae(e){const t=As[e],n=Fs[e],u=ps[e],r=t&&Dn(t),a=n&&Dn(n),i=u&&Dn(u);return s=>!!(r&&r(s)||xu&&a&&a(s)||!xu&&i&&i(s))}var ie={isBold:ae("bold"),isCompose:ae("compose"),isMoveBackward:ae("moveBackward"),isMoveForward:ae("moveForward"),isDeleteBackward:ae("deleteBackward"),isDeleteForward:ae("deleteForward"),isDeleteLineBackward:ae("deleteLineBackward"),isDeleteLineForward:ae("deleteLineForward"),isDeleteWordBackward:ae("deleteWordBackward"),isDeleteWordForward:ae("deleteWordForward"),isExtendBackward:ae("extendBackward"),isExtendForward:ae("extendForward"),isExtendLineBackward:ae("extendLineBackward"),isExtendLineForward:ae("extendLineForward"),isItalic:ae("italic"),isMoveLineBackward:ae("moveLineBackward"),isMoveLineForward:ae("moveLineForward"),isMoveWordBackward:ae("moveWordBackward"),isMoveWordForward:ae("moveWordForward"),isRedo:ae("redo"),isSplitBlock:ae("splitBlock"),isTransposeCharacter:ae("transposeCharacter"),isUndo:ae("undo")};function ws(e){let t,n,u,r,a,i,s,o;n=new jr({props:{node:e[6],selection:e[7],decorations:e[5]}});let l=[e[26],{role:u=e[4].readOnly?void 0:"textbox"},{spellcheck:e[1]},{autocorrect:e[2]},{autocapitalize:e[3]},{"data-svelte-editor":""},{"data-slate-node":"value"},{contenteditable:r=!e[4].readOnly},{"z-index":a=-1}],D={};for(let d=0;d<l.length;d+=1)D=hn(D,l[d]);return{c(){t=xe("div"),$(n.$$.fragment),this.h()},l(d){t=Ne(d,"DIV",{role:!0,spellcheck:!0,autocorrect:!0,autocapitalize:!0,"data-svelte-editor":!0,"data-slate-node":!0,contenteditable:!0,"z-index":!0});var C=je(t);de(n.$$.fragment,C),C.forEach(M),this.h()},h(){Hn(t,D),Kn(t,"svelte-m59z04",!0)},m(d,C){J(d,t,C),ee(n,t,null),e[38](t),i=!0,s||(o=[he(t,"beforeinput",e[10]),he(t,"keydown",e[12]),he(t,"input",e[11]),he(t,"focus",e[13]),he(t,"blur",e[14]),he(t,"click",e[15]),he(t,"compositionend",e[16]),he(t,"compositionupdate",e[17]),he(t,"compositionstart",e[18]),he(t,"paste",e[19]),he(t,"copy",e[20]),he(t,"cut",e[21]),he(t,"dragover",e[22]),he(t,"dragstart",e[23]),he(t,"drop",e[24]),he(t,"dragend",e[25])],s=!0)},p(d,C){const h={};C[0]&64&&(h.node=d[6]),C[0]&128&&(h.selection=d[7]),C[0]&32&&(h.decorations=d[5]),n.$set(h),Hn(t,D=ea(l,[C[0]&67108864&&d[26],(!i||C[0]&16&&u!==(u=d[4].readOnly?void 0:"textbox"))&&{role:u},(!i||C[0]&2)&&{spellcheck:d[1]},(!i||C[0]&4)&&{autocorrect:d[2]},(!i||C[0]&8)&&{autocapitalize:d[3]},{"data-svelte-editor":""},{"data-slate-node":"value"},(!i||C[0]&16&&r!==(r=!d[4].readOnly))&&{contenteditable:r},{"z-index":a}])),Kn(t,"svelte-m59z04",!0)},i(d){i||(j(n.$$.fragment,d),i=!0)},o(d){I(n.$$.fragment,d),i=!1},d(d){d&&M(t),te(n),e[38](null),s=!1,ta(o)}}}const xr=Ke(),Nr=Ke(),Tr=Ke();function lt(e,t){return ut(t)&&In(e,t)}function Oe(e,t){return ut(t)&&In(e,t,{editable:!0})}function Hu(e,t){if(dr.get(e))return!1;{const n=lt(e,t)&&$e(t);return f.isVoid(e,n)}}function ys(e,t){const n=t.startContainer.parentElement,u=n.getBoundingClientRect;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),as(n,{scrollMode:"if-needed"}),n.getBoundingClientRect=u}function bs(e,t,n){const u=["Element","Leaf","Placeholder","placeholder","readOnly","autoFocus","decorate","scrollSelectionIntoView","ref","spellcheck","autocorrect","autocapitalize","onKeyDown"];let r=Un(t,u),a,i,{Element:s=fs}=t,{Leaf:o=ds}=t,{Placeholder:l=gs}=t,{placeholder:D=void 0}=t,{readOnly:d=!1}=t,{autoFocus:C=!1}=t,{decorate:h=Or}=t,{scrollSelectionIntoView:v=ys}=t,{ref:E=void 0}=t,{spellcheck:A=!0}=t,{autocorrect:y="true"}=t,{autocapitalize:w="true"}=t,{onKeyDown:O=()=>{}}=t;const _=Me(xr,s),N=Me(Nr,o),F=Me(Tr,l),c=rt(),T=yr();Xe(e,T,B=>n(6,a=B));const L=br(),X=zi(),H=Ln(),ne=Vi();Xe(e,ne,B=>n(7,i=B));const oe=[],k={isComposing:!1,hasInsertPrefixInCompositon:!0,updateSelectionTimeoutId:null,isDraggingInternally:!1,latestElement:null,readOnly:d};let G=[],fe;function Ce(){if(k.isComposing||k.isDraggingInternally||k.updateSelectionTimeoutId)re();else{const B=At(c),x=We(c,c),P=B.getSelection();if(B.activeElement===x?(n(4,k.latestElement=B.activeElement,k),ct.set(c,!0),X.set(!0)):(ct.delete(c),X.set(!1)),!P){p.deselect(c);return}const W=Oe(c,P.anchorNode)||Hu(c,P.anchorNode),V=Oe(c,P.focusNode)||Hu(c,P.focusNode);if(W&&V){const Z=Ft(c,P,{exactMatch:!1,suppressThrow:!0});if(Z){p.select(c,Z);return}}p.deselect(c)}}const re=ns(0,()=>Yn().then(Ce));na(()=>{const B=Rn(E);return B&&(An.set(c,B),B.document.addEventListener("selectionchange",re)),Rt.set(c,E),Vt.set(c,E),Zt.set(E,c),()=>{Rt.delete(c),Vt.delete(c),B&&(An.delete(c),B.document.removeEventListener("selectionchange",re))}});function pe(){const B=At(c),x=B==null?void 0:B.getSelection();if(k.isComposing||!x||!Ru(c))return;const P=x.type!=="None";if(!c.selection&&!P)return;const W=Rt.get(c);let V=!1;if(W.contains(x.anchorNode)&&W.contains(x.focusNode)&&(V=!0),P&&V&&c.selection){const Ee=Ft(c,x,{exactMatch:!0,suppressThrow:!0});if(Ee&&m.equals(Ee,c.selection))return}if(c.selection&&!Mi(c,c.selection)){n(36,c.selection=Ft(c,x,{exactMatch:!1,suppressThrow:!1}),c),ne.set(c.selection);return}const Z=c.selection&&V&&qt(c,c.selection);Z?(m.isBackward(c.selection)?x.setBaseAndExtent(Z.endContainer,Z.endOffset,Z.startContainer,Z.startOffset):x.setBaseAndExtent(Z.startContainer,Z.startOffset,Z.endContainer,Z.endOffset),v(c,Z)):x.removeAllRanges(),k.updateSelectionTimeoutId&&clearTimeout(k.updateSelectionTimeoutId);let Ze=setTimeout(()=>{Z&&wn&&We(c,c).focus(),Object.assign(k,{updateSelectionTimeoutId:null})});Object.assign(k,{updateSelectionTimeoutId:Ze})}ua(()=>Yn().then(pe));function ve(B){if(!k.readOnly&&Oe(c,B.target)){const x=B.inputType,P=B.dataTransfer||B.data||void 0;if(x==="insertCompositionText"||x==="deleteCompositionText")return;let W=!1;if(x==="insertText"&&c.selection&&m.isCollapsed(c.selection)&&B.data&&B.data.length===1&&/[a-z ]/i.test(B.data)&&c.selection.anchor.offset!==0){W=!0,c.marks&&(W=!1);const V=f.above(c,{at:c.selection.anchor,match:Z=>f.isInline(c,Z),mode:"highest"});if(V){const[,Z]=V;f.isEnd(c,c.selection.anchor,Z)&&(W=!1)}}if(W||B.preventDefault(),!x.startsWith("delete")||x.startsWith("deleteBy")){const[V]=B.getTargetRanges();if(V){const Z=Ft(c,V,{exactMatch:!1,suppressThrow:!1});(!c.selection||!m.equals(c.selection,Z))&&p.select(c,Z)}}if(c.selection&&m.isExpanded(c.selection)&&x.startsWith("delete")){const V=x.endsWith("Backward")?"backward":"forward";f.deleteFragment(c,{direction:V});return}switch(x){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{f.deleteFragment(c);break}case"deleteContent":case"deleteContentForward":{f.deleteForward(c);break}case"deleteContentBackward":{f.deleteBackward(c);break}case"deleteEntireSoftLine":{f.deleteBackward(c,{unit:"line"}),f.deleteForward(c,{unit:"line"});break}case"deleteHardLineBackward":{f.deleteBackward(c,{unit:"block"});break}case"deleteSoftLineBackward":{f.deleteBackward(c,{unit:"line"});break}case"deleteHardLineForward":{f.deleteForward(c,{unit:"block"});break}case"deleteSoftLineForward":{f.deleteForward(c,{unit:"line"});break}case"deleteWordBackward":{f.deleteBackward(c,{unit:"word"});break}case"deleteWordForward":{f.deleteForward(c,{unit:"word"});break}case"insertLineBreak":{f.insertSoftBreak(c);break}case"insertParagraph":{f.insertBreak(c);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{c.selection&&m.isExpanded(c.selection)&&f.deleteFragment(c),x==="insertFromComposition"&&k.isComposing&&n(4,k.isComposing=!1,k),(P==null?void 0:P.constructor.name)==="DataTransfer"?c.insertData(P):typeof P=="string"&&(W?oe.push(()=>f.insertText(c,P)):f.insertText(c,P));break}}}}function le(B){for(const x of oe)x();oe.length=0}function we(B){if(!k.readOnly&&!k.isComposing&&Oe(c,B.target)){const x=c.children[c.selection!==null?c.selection.focus.path[0]:0],P=cr(b.string(x))==="rtl";if(ie.isRedo(B)){B.preventDefault();const W=c;typeof W.redo=="function"&&W.redo()}else if(ie.isUndo(B)){B.preventDefault();const W=c;typeof W.undo=="function"&&W.undo()}else if(ie.isMoveLineBackward(B))B.preventDefault(),p.move(c,{unit:"line",reverse:!0});else if(ie.isMoveLineForward(B))B.preventDefault(),p.move(c,{unit:"line"});else if(ie.isExtendLineBackward(B))B.preventDefault(),p.move(c,{unit:"line",edge:"focus",reverse:!0});else if(ie.isExtendLineForward(B))B.preventDefault(),p.move(c,{unit:"line",edge:"focus"});else if(ie.isMoveBackward(B))B.preventDefault(),c.selection&&m.isCollapsed(c.selection)?p.move(c,{reverse:!P}):p.collapse(c,{edge:"start"});else if(ie.isMoveForward(B))B.preventDefault(),c.selection&&m.isCollapsed(c.selection)?p.move(c,{reverse:P}):p.collapse(c,{edge:"end"});else if(ie.isMoveWordBackward(B))B.preventDefault(),c.selection&&m.isExpanded(c.selection)&&p.collapse(c,{edge:"focus"}),p.move(c,{unit:"word",reverse:!P});else if(ie.isMoveWordForward(B))B.preventDefault(),c.selection&&m.isExpanded(c.selection)&&p.collapse(c,{edge:"focus"}),p.move(c,{unit:"word",reverse:P});else if(Tu){if((Br||ln)&&c.selection&&(ie.isDeleteBackward(B)||ie.isDeleteForward(B))&&m.isCollapsed(c.selection)){const W=b.parent(c,c.selection.anchor.path);if(U.isElement(W)&&f.isVoid(c,W)&&f.isInline(c,W)){B.preventDefault(),f.deleteBackward(c,{unit:"block"});return}}return O(B)}else return ie.isBold(B)||ie.isItalic(B)||ie.isTransposeCharacter(B)?B.preventDefault():ie.isSplitBlock(B)?(B.preventDefault(),f.insertBreak(c)):ie.isDeleteBackward(B)?(B.preventDefault(),c.selection&&m.isExpanded(c.selection)?f.deleteFragment(c,{direction:"backward"}):f.deleteBackward(c)):ie.isDeleteForward(B)?(B.preventDefault(),c.selection&&m.isExpanded(c.selection)?f.deleteFragment(c,{direction:"forward"}):f.deleteForward(c)):ie.isDeleteLineBackward(B)?(B.preventDefault(),c.selection&&m.isExpanded(c.selection)?f.deleteFragment(c,{direction:"backward"}):f.deleteBackward(c,{unit:"line"})):ie.isDeleteLineForward(B)?(B.preventDefault(),c.selection&&m.isExpanded(c.selection)?f.deleteFragment(c,{direction:"forward"}):f.deleteForward(c,{unit:"line"})):ie.isDeleteWordBackward(B)?(B.preventDefault(),c.selection&&m.isExpanded(c.selection)?f.deleteFragment(c,{direction:"backward"}):f.deleteBackward(c,{unit:"word"})):ie.isDeleteWordForward(B)&&(B.preventDefault(),c.selection&&m.isExpanded(c.selection)?f.deleteFragment(c,{direction:"forward"}):f.deleteForward(c,{unit:"word"})),O(B)}}function z(B){if(!k.readOnly&&!k.updateSelectionTimeoutId&&Oe(c,B.target)){const x=We(c,c),P=At(c);if(n(4,k.latestElement=P.activeElement,k),wn&&B.target!==x){x.focus();return}ct.set(c,!0),X.set(!0)}}function Q(B){if(k.readOnly||k.updateSelectionTimeoutId||!Oe(c,B.target))return;const x=At(c);if(k.latestElement===x.activeElement)return;const P=B.relatedTarget,W=We(c,c);if(P!==W&&!(Se(P)&&P.hasAttribute("data-slate-spacer"))){if(P!=null&&ut(P)&&In(c,P)){const V=$e(P);if(U.isElement(V)&&!c.isVoid(V))return}if(ln){const V=x.getSelection();V==null||V.removeAllRanges()}ct.delete(c),X.set(!1)}}function se(B){if(!k.readOnly&&lt(c,B.target)&&ut(B.target)){const x=$e(B.target),P=Ct(x);if(f.hasPath(c,P)&&b.get(c,P)===x){const V=f.start(c,P),Z=f.end(c,P),Ze=f.void(c,{at:V}),Ee=f.void(c,{at:Z});if(Ze&&Ee&&g.equals(Ze[1],Ee[1])){const Ye=f.range(c,V);p.select(c,Ye)}}}}function me(B){if(Oe(c,B.target)){n(4,k.isComposing=!1,k);const x=B.data;if(!ln&&!Ri&&!xi&&!ji&&x&&f.insertText(c,x),c.selection&&m.isCollapsed(c.selection)){const P=c.selection.anchor.path,W=b.leaf(c,P);k.hasInsertPrefixInCompositon&&(n(4,k.hasInsertPrefixInCompositon=!1,k),f.withoutNormalizing(c,()=>{const V=W.text.replace(/^\uFEFF/,"");p.delete(c,{distance:W.text.length,reverse:!0}),p.insertText(c,V)}))}}}function _e(B){Oe(c,B.target)&&n(4,k.isComposing=!0,k)}function ke(B){if(Oe(c,B.target)&&c.selection){if(m.isExpanded(c.selection)){f.deleteFragment(c);return}const x=f.above(c,{match:P=>f.isInline(c,P),mode:"highest"});if(x){const[,P]=x;if(f.isEnd(c,c.selection.anchor,P)){const W=f.after(c,P);p.setSelection(c,{anchor:W,focus:W})}}c.marks&&(n(4,k.hasInsertPrefixInCompositon=!0,k),p.insertNodes(c,Object.assign({text:"\uFEFF"},c.marks),{select:!0}))}}function Ue(B){!k.readOnly&&Oe(c,B.target)&&(!Tu||bi(B))&&(B.preventDefault(),c.insertData(B.clipboardData))}function Te(B){Oe(c,B.target)&&(B.preventDefault(),c.setFragmentData(B.clipboardData))}function at(B){if(!k.readOnly&&Oe(c,B.target)&&(B.preventDefault(),c.setFragmentData(B.clipboardData),c.selection))if(m.isExpanded(c.selection))f.deleteFragment(c);else{const x=b.parent(c,c.selection.anchor.path);f.isVoid(c,x)&&p.delete(c)}}function Bt(B){if(lt(c,B.target)){const x=$e(B.target);f.isVoid(c,x)&&B.preventDefault()}}function Qt(B){if(!k.readOnly&&lt(c,B.target)){const x=$e(B.target),P=Ct(x);if(f.isVoid(c,x)||f.void(c,{at:P,voids:!0})){const V=f.range(c,P);p.select(c,V)}n(4,k.isDraggingInternally=!0,k),c.setFragmentData(B.dataTransfer)}}function $t(B){if(!k.readOnly&&lt(c,B.target)){B.preventDefault();const x=c.selection,P=Li(c,B),W=B.dataTransfer;p.select(c,P),k.isDraggingInternally&&(x&&!m.equals(x,P)&&!f.void(c,{at:P,voids:!0})&&p.delete(c,{at:x}),n(4,k.isDraggingInternally=!1,k)),c.insertData(W),Ru(c)||Ii(c)}}function en(B){!k.readOnly&&k.isDraggingInternally&&lt(c,B.target)&&n(4,k.isDraggingInternally=!1,k)}function tn(B){ze[B?"unshift":"push"](()=>{E=B,n(0,E)})}return e.$$set=B=>{t=hn(hn({},t),ra(B)),n(26,r=Un(t,u)),"Element"in B&&n(27,s=B.Element),"Leaf"in B&&n(28,o=B.Leaf),"Placeholder"in B&&n(29,l=B.Placeholder),"placeholder"in B&&n(30,D=B.placeholder),"readOnly"in B&&n(31,d=B.readOnly),"autoFocus"in B&&n(32,C=B.autoFocus),"decorate"in B&&n(33,h=B.decorate),"scrollSelectionIntoView"in B&&n(34,v=B.scrollSelectionIntoView),"ref"in B&&n(0,E=B.ref),"spellcheck"in B&&n(1,A=B.spellcheck),"autocorrect"in B&&n(2,y=B.autocorrect),"autocapitalize"in B&&n(3,w=B.autocapitalize),"onKeyDown"in B&&n(35,O=B.onKeyDown)},e.$$.update=()=>{if(e.$$.dirty[0]&134217728&&_.set(s),e.$$.dirty[0]&268435456&&N.set(o),e.$$.dirty[0]&536870912&&F.set(l),e.$$.dirty[1]&33&&dr.set(c,d),e.$$.dirty[1]&1&&L.set(d),e.$$.dirty[1]&1&&n(4,k.readOnly=d,k),e.$$.dirty[1]&4&&H.set(h),e.$$.dirty[0]&1073741936|e.$$.dirty[1]&36)if(a.children.length===1&&Array.from(b.texts(a)).length===1&&b.string(a)===""&&!k.isComposing){const B=f.start(c,[]);n(5,G=[...h([c,[]]),{[yt]:!0,placeholder:D,anchor:B,focus:B}])}else G.length&&n(5,G=h([c,[]]));e.$$.dirty[0]&1|e.$$.dirty[1]&66&&fe!==C&&E&&(C&&E.focus(),n(37,fe=C))},[E,A,y,w,k,G,a,i,T,ne,ve,le,we,z,Q,se,me,_e,ke,Ue,Te,at,Bt,Qt,$t,en,r,s,o,l,D,d,C,h,v,O,c,fe,tn]}class oo extends Ae{constructor(t){super(),Fe(this,t,bs,ws,bt,{Element:27,Leaf:28,Placeholder:29,placeholder:30,readOnly:31,autoFocus:32,decorate:33,scrollSelectionIntoView:34,ref:0,spellcheck:1,autocorrect:2,autocapitalize:3,onKeyDown:35},null,[-1,-1])}}function Ku(e){let t,n,u,r;function a(o){e[12](o)}var i=e[5];function s(o){let l={$$slots:{default:[Os]},$$scope:{ctx:o}};return o[4]!==void 0&&(l.clientHeight=o[4]),{props:l}}return i&&(t=new i(s(e)),ze.push(()=>jt(t,"clientHeight",a))),{c(){t&&$(t.$$.fragment),u=Y()},l(o){t&&de(t.$$.fragment,o),u=Y()},m(o,l){t&&ee(t,o,l),J(o,u,l),r=!0},p(o,l){const D={};if(l&8194&&(D.$$scope={dirty:l,ctx:o}),!n&&l&16&&(n=!0,D.clientHeight=o[4],nr(()=>n=!1)),i!==(i=o[5])){if(t){ge();const d=t;I(d.$$.fragment,1,0,()=>{te(d,1)}),Be()}i?(t=new i(s(o)),ze.push(()=>jt(t,"clientHeight",a)),$(t.$$.fragment),j(t.$$.fragment,1),ee(t,u.parentNode,u)):t=null}else i&&t.$set(D)},i(o){r||(t&&j(t.$$.fragment,o),r=!0)},o(o){t&&I(t.$$.fragment,o),r=!1},d(o){o&&M(u),t&&te(t,o)}}}function Os(e){let t=e[1].placeholder+"",n;return{c(){n=Ht(t)},l(u){n=Kt(u,t)},m(u,r){J(u,n,r)},p(u,r){r&2&&t!==(t=u[1].placeholder+"")&&tr(n,t)},d(u){u&&M(n)}}}function _s(e){let t,n,u,r=yt in e[1]&&Ku(e);return n=new ts({props:{isLast:e[0],leaf:e[1],parent:e[2],text:e[3]}}),{c(){r&&r.c(),t=Y(),$(n.$$.fragment)},l(a){r&&r.l(a),t=Y(),de(n.$$.fragment,a)},m(a,i){r&&r.m(a,i),J(a,t,i),ee(n,a,i),u=!0},p(a,i){yt in a[1]?r?(r.p(a,i),i&2&&j(r,1)):(r=Ku(a),r.c(),j(r,1),r.m(t.parentNode,t)):r&&(ge(),I(r,1,1,()=>{r=null}),Be());const s={};i&1&&(s.isLast=a[0]),i&2&&(s.leaf=a[1]),i&4&&(s.parent=a[2]),i&8&&(s.text=a[3]),n.$set(s)},i(a){u||(j(r),j(n.$$.fragment,a),u=!0)},o(a){I(r),I(n.$$.fragment,a),u=!1},d(a){r&&r.d(a),a&&M(t),te(n,a)}}}function ks(e){let t,n,u;var r=e[6];function a(i){return{props:{leaf:i[1],$$slots:{default:[_s]},$$scope:{ctx:i}}}}return r&&(t=new r(a(e))),{c(){t&&$(t.$$.fragment),n=Y()},l(i){t&&de(t.$$.fragment,i),n=Y()},m(i,s){t&&ee(t,i,s),J(i,n,s),u=!0},p(i,[s]){const o={};if(s&2&&(o.leaf=i[1]),s&8255&&(o.$$scope={dirty:s,ctx:i}),r!==(r=i[6])){if(t){ge();const l=t;I(l.$$.fragment,1,0,()=>{te(l,1)}),Be()}r?(t=new r(a(i)),$(t.$$.fragment),j(t.$$.fragment,1),ee(t,n.parentNode,n)):t=null}else r&&t.$set(o)},i(i){u||(t&&j(t.$$.fragment,i),u=!0)},o(i){t&&I(t.$$.fragment,i),u=!1},d(i){i&&M(n),t&&te(t,i)}}}function Ps(e,t,n){let u,r,a,i,{isLast:s}=t,{leaf:o}=t,{parent:l}=t,{text:D}=t;const d=qe(Nr);Xe(e,d,A=>n(11,i=A));const C=qe(Tr);Xe(e,C,A=>n(10,a=A));let h,v;aa(()=>{if(Nu){const A=document.querySelector('[data-svelte-editor="true"]');A&&(A.style.minHeight="auto")}});function E(A){h=A,n(4,h)}return e.$$set=A=>{"isLast"in A&&n(0,s=A.isLast),"leaf"in A&&n(1,o=A.leaf),"parent"in A&&n(2,l=A.parent),"text"in A&&n(3,D=A.text)},e.$$.update=()=>{if(e.$$.dirty&2048&&n(6,u=i),e.$$.dirty&1024&&n(5,r=a),e.$$.dirty&528&&v!==h&&Nu){const A=document.querySelector('[data-svelte-editor="true"]');A&&(A.style.minHeight=`${h}px`),n(9,v=h)}},[s,o,l,D,h,r,u,d,C,v,a,i,E]}class Uu extends Ae{constructor(t){super(),Fe(this,t,Ps,ks,He,{isLast:0,leaf:1,parent:2,text:3})}}function Yu(e,t,n){const u=e.slice();return u[10]=t[n],u[12]=n,u}function Ju(e,t){let n,u,r,a;var i=Uu;function s(o){return{props:{isLast:o[0]&&o[12]===o[5].length-1,parent:o[1],leaf:o[10],text:o[2]}}}return i&&(u=new i(s(t))),{key:e,first:null,c(){n=Y(),u&&$(u.$$.fragment),r=Y(),this.h()},l(o){n=Y(),u&&de(u.$$.fragment,o),r=Y(),this.h()},h(){this.first=n},m(o,l){J(o,n,l),u&&ee(u,o,l),J(o,r,l),a=!0},p(o,l){t=o;const D={};if(l&33&&(D.isLast=t[0]&&t[12]===t[5].length-1),l&2&&(D.parent=t[1]),l&32&&(D.leaf=t[10]),l&4&&(D.text=t[2]),i!==(i=Uu)){if(u){ge();const d=u;I(d.$$.fragment,1,0,()=>{te(d,1)}),Be()}i?(u=new i(s(t)),$(u.$$.fragment),j(u.$$.fragment,1),ee(u,r.parentNode,r)):u=null}else i&&u.$set(D)},i(o){a||(u&&j(u.$$.fragment,o),a=!0)},o(o){u&&I(u.$$.fragment,o),a=!1},d(o){o&&M(n),o&&M(r),u&&te(u,o)}}}function Ss(e){let t,n=[],u=new Map,r,a=e[5];const i=s=>`${s[4]}-${s[12]}`;for(let s=0;s<a.length;s+=1){let o=Yu(e,a,s),l=i(o);u.set(l,n[s]=Ju(l,o))}return{c(){t=xe("span");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){t=Ne(s,"SPAN",{"data-slate-node":!0});var o=je(t);for(let l=0;l<n.length;l+=1)n[l].l(o);o.forEach(M),this.h()},h(){K(t,"data-slate-node","text")},m(s,o){J(s,t,o);for(let l=0;l<n.length;l+=1)n[l].m(t,null);e[8](t),r=!0},p(s,[o]){o&55&&(a=s[5],ge(),n=ur(n,o,i,1,s,a,u,t,rr,Ju,null,Yu),Be())},i(s){if(!r){for(let o=0;o<a.length;o+=1)j(n[o]);r=!0}},o(s){for(let o=0;o<n.length;o+=1)I(n[o]);r=!1},d(s){s&&M(t);for(let o=0;o<n.length;o+=1)n[o].d();e[8](null)}}}function xs(e,t,n){let u,r;var a;let{decorations:i}=t,{isLast:s}=t,{parent:o}=t,{text:l}=t;const D=rt();let d;function C(h){ze[h?"unshift":"push"](()=>{d=h,n(3,d)})}return e.$$set=h=>{"decorations"in h&&n(6,i=h.decorations),"isLast"in h&&n(0,s=h.isLast),"parent"in h&&n(1,o=h.parent),"text"in h&&n(2,l=h.text)},e.$$.update=()=>{e.$$.dirty&68&&n(5,u=S.decorations(l,i)),e.$$.dirty&4&&n(4,r=et(l)),e.$$.dirty&156&&d&&(n(7,a=Gt.get(D))===null||a===void 0||a.set(r,d),Vt.set(l,d),Zt.set(d,l))},[s,o,l,d,r,u,i,a,C]}class ht extends Ae{constructor(t){super(),Fe(this,t,xs,Ss,He,{decorations:6,isLast:0,parent:1,text:2})}}function Ns(e){let t,n,u;var r=ht;function a(i){return{props:{decorations:i[2],isLast:i[3],parent:i[1],text:i[0]}}}return r&&(t=new r(a(e))),{c(){t&&$(t.$$.fragment),n=Y()},l(i){t&&de(t.$$.fragment,i),n=Y()},m(i,s){t&&ee(t,i,s),J(i,n,s),u=!0},p(i,[s]){const o={};if(s&4&&(o.decorations=i[2]),s&8&&(o.isLast=i[3]),s&2&&(o.parent=i[1]),s&1&&(o.text=i[0]),r!==(r=ht)){if(t){ge();const l=t;I(l.$$.fragment,1,0,()=>{te(l,1)}),Be()}r?(t=new r(a(i)),$(t.$$.fragment),j(t.$$.fragment,1),ee(t,n.parentNode,n)):t=null}else r&&t.$set(o)},i(i){u||(t&&j(t.$$.fragment,i),u=!0)},o(i){t&&I(t.$$.fragment,i),u=!1},d(i){i&&M(n),t&&te(t,i)}}}function Ts(e,t,n){let u,r,a,i,s,o,{parent:l}=t,{text:D}=t,{path:d}=t,{index:C}=t,{isLeafBlock:h}=t,{decorations:v}=t;const E=Ln();Xe(e,E,F=>n(17,o=F));const A=rt();let y=C,w=D,O=d,_=l,N=v;return e.$$set=F=>{"parent"in F&&n(5,l=F.parent),"text"in F&&n(6,D=F.text),"path"in F&&n(7,d=F.path),"index"in F&&n(8,C=F.index),"isLeafBlock"in F&&n(9,h=F.isLeafBlock),"decorations"in F&&n(10,v=F.decorations)},e.$$.update=()=>{e.$$.dirty&2304&&y!==C&&n(11,y=C),e.$$.dirty&65&&w!==D&&n(0,w=D),e.$$.dirty&4224&&O!==d&&n(12,O=d),e.$$.dirty&34&&_!==l&&n(1,_=l),e.$$.dirty&9216&&(vr(N,v)||n(13,N=v)),e.$$.dirty&2049&&Jt.set(w,y),e.$$.dirty&3&&Xt.set(w,_),e.$$.dirty&6144&&n(15,u=O.concat(y)),e.$$.dirty&2562&&n(3,r=h&&y===_.children.length-1),e.$$.dirty&32768&&n(14,a=f.range(A,u)),e.$$.dirty&131072&&n(16,i=o),e.$$.dirty&122881&&n(2,s=Rr(i([w,u]),a,N))},[w,_,s,r,E,l,D,d,C,h,v,y,O,N,a,u,i,o]}class Rs extends Ae{constructor(t){super(),Fe(this,t,Ts,Ns,bt,{parent:5,text:6,path:7,index:8,isLeafBlock:9,decorations:10})}}function Xu(e,t,n){const u=e.slice();return u[7]=t[n],u[9]=n,u}function js(e){let t,n;return t=new Rs({props:{decorations:e[0],parent:e[2],text:e[7],index:e[9],path:e[4],isLeafBlock:e[3]}}),{c(){$(t.$$.fragment)},l(u){de(t.$$.fragment,u)},m(u,r){ee(t,u,r),n=!0},p(u,r){const a={};r&1&&(a.decorations=u[0]),r&4&&(a.parent=u[2]),r&4&&(a.text=u[7]),r&4&&(a.index=u[9]),r&16&&(a.path=u[4]),r&8&&(a.isLeafBlock=u[3]),t.$set(a)},i(u){n||(j(t.$$.fragment,u),n=!0)},o(u){I(t.$$.fragment,u),n=!1},d(u){te(t,u)}}}function Is(e){let t,n;return t=new Xs({props:{decorations:e[0],selection:e[1],element:e[7],parent:e[2],index:e[9],path:e[4]}}),{c(){$(t.$$.fragment)},l(u){de(t.$$.fragment,u)},m(u,r){ee(t,u,r),n=!0},p(u,r){const a={};r&1&&(a.decorations=u[0]),r&2&&(a.selection=u[1]),r&4&&(a.element=u[7]),r&4&&(a.parent=u[2]),r&4&&(a.index=u[9]),r&16&&(a.path=u[4]),t.$set(a)},i(u){n||(j(t.$$.fragment,u),n=!0)},o(u){I(t.$$.fragment,u),n=!1},d(u){te(t,u)}}}function Zu(e,t){let n,u,r,a,i,s;const o=[Is,js],l=[];function D(d,C){return C&4&&(u=null),u==null&&(u=!!U.isElement(d[7])),u?0:1}return r=D(t,-1),a=l[r]=o[r](t),{key:e,first:null,c(){n=Y(),a.c(),i=Y(),this.h()},l(d){n=Y(),a.l(d),i=Y(),this.h()},h(){this.first=n},m(d,C){J(d,n,C),l[r].m(d,C),J(d,i,C),s=!0},p(d,C){t=d;let h=r;r=D(t,C),r===h?l[r].p(t,C):(ge(),I(l[h],1,1,()=>{l[h]=null}),Be(),a=l[r],a?a.p(t,C):(a=l[r]=o[r](t),a.c()),j(a,1),a.m(i.parentNode,i))},i(d){s||(j(a),s=!0)},o(d){I(a),s=!1},d(d){d&&M(n),l[r].d(d),d&&M(i)}}}function Ls(e){let t=[],n=new Map,u,r,a=e[2].children;const i=s=>et(s[7]);for(let s=0;s<a.length;s+=1){let o=Xu(e,a,s),l=i(o);n.set(l,t[s]=Zu(l,o))}return{c(){for(let s=0;s<t.length;s+=1)t[s].c();u=Y()},l(s){for(let o=0;o<t.length;o+=1)t[o].l(s);u=Y()},m(s,o){for(let l=0;l<t.length;l+=1)t[l].m(s,o);J(s,u,o),r=!0},p(s,[o]){o&31&&(a=s[2].children,ge(),t=ur(t,o,i,1,s,a,n,u.parentNode,rr,Zu,u,Xu),Be())},i(s){if(!r){for(let o=0;o<a.length;o+=1)j(t[o]);r=!0}},o(s){for(let o=0;o<t.length;o+=1)I(t[o]);r=!1},d(s){for(let o=0;o<t.length;o+=1)t[o].d(s);s&&M(u)}}}function Rr(e,t,n=[]){for(const u of n){const r=m.intersection(u,t);r&&e.push(r)}return e}function Ms(e,t,n){let u,r,{node:a}=t,{decorations:i}=t,{selection:s=null}=t;const o=rt();let l=a;return e.$$set=D=>{"node"in D&&n(5,a=D.node),"decorations"in D&&n(0,i=D.decorations),"selection"in D&&n(1,s=D.selection)},e.$$.update=()=>{e.$$.dirty&36&&(l!==a||a===o)&&n(2,l=a),e.$$.dirty&4&&n(4,u=Ct(l)),e.$$.dirty&4&&n(3,r=U.isElement(l)&&!o.isInline(l)&&f.hasInlines(o,l))},[i,s,l,r,u,a]}class jr extends Ae{constructor(t){super(),Fe(this,t,Ms,Ls,bt,{node:5,decorations:0,selection:1})}}function Ws(e){let t,n;return t=new jr({props:{node:e[0],decorations:e[1],selection:e[2]}}),{c(){$(t.$$.fragment)},l(u){de(t.$$.fragment,u)},m(u,r){ee(t,u,r),n=!0},p(u,r){const a={};r&1&&(a.node=u[0]),r&2&&(a.decorations=u[1]),r&4&&(a.selection=u[2]),t.$set(a)},i(u){n||(j(t.$$.fragment,u),n=!0)},o(u){I(t.$$.fragment,u),n=!1},d(u){te(t,u)}}}function zs(e){let t,n,u,r;const a=[qs,Vs],i=[];function s(o,l){return o[4]?0:1}return t=s(e),n=i[t]=a[t](e),{c(){n.c(),u=Y()},l(o){n.l(o),u=Y()},m(o,l){i[t].m(o,l),J(o,u,l),r=!0},p(o,l){let D=t;t=s(o),t===D?i[t].p(o,l):(ge(),I(i[D],1,1,()=>{i[D]=null}),Be(),n=i[t],n?n.p(o,l):(n=i[t]=a[t](o),n.c()),j(n,1),n.m(u.parentNode,u))},i(o){r||(j(n),r=!0)},o(o){I(n),r=!1},d(o){i[t].d(o),o&&M(u)}}}function Vs(e){let t,n,u;var r=ht;function a(i){return{props:{decorations:[],isLast:!1,parent:i[0],text:i[8]}}}return r&&(n=new r(a(e))),{c(){t=xe("div"),n&&$(n.$$.fragment),this.h()},l(i){t=Ne(i,"DIV",{"data-slate-spacer":!0,class:!0});var s=je(t);n&&de(n.$$.fragment,s),s.forEach(M),this.h()},h(){K(t,"data-slate-spacer",""),K(t,"class","svelte-yux06v")},m(i,s){J(i,t,s),n&&ee(n,t,null),u=!0},p(i,s){const o={};if(s&1&&(o.parent=i[0]),s&256&&(o.text=i[8]),r!==(r=ht)){if(n){ge();const l=n;I(l.$$.fragment,1,0,()=>{te(l,1)}),Be()}r?(n=new r(a(i)),$(n.$$.fragment),j(n.$$.fragment,1),ee(n,t,null)):n=null}else r&&n.$set(o)},i(i){u||(n&&j(n.$$.fragment,i),u=!0)},o(i){n&&I(n.$$.fragment,i),u=!1},d(i){i&&M(t),n&&te(n)}}}function qs(e){let t,n,u;var r=ht;function a(i){return{props:{decorations:[],isLast:!1,parent:i[0],text:i[8]}}}return r&&(n=new r(a(e))),{c(){t=xe("span"),n&&$(n.$$.fragment),this.h()},l(i){t=Ne(i,"SPAN",{"data-slate-spacer":!0,class:!0});var s=je(t);n&&de(n.$$.fragment,s),s.forEach(M),this.h()},h(){K(t,"data-slate-spacer",""),K(t,"class","svelte-yux06v")},m(i,s){J(i,t,s),n&&ee(n,t,null),u=!0},p(i,s){const o={};if(s&1&&(o.parent=i[0]),s&256&&(o.text=i[8]),r!==(r=ht)){if(n){ge();const l=n;I(l.$$.fragment,1,0,()=>{te(l,1)}),Be()}r?(n=new r(a(i)),$(n.$$.fragment),j(n.$$.fragment,1),ee(n,t,null)):n=null}else r&&n.$set(o)},i(i){u||(n&&j(n.$$.fragment,i),u=!0)},o(i){n&&I(n.$$.fragment,i),u=!1},d(i){i&&M(t),n&&te(n)}}}function Hs(e){let t,n,u,r;const a=[zs,Ws],i=[];function s(o,l){return o[6]&&!o[5]?0:1}return t=s(e),n=i[t]=a[t](e),{c(){n.c(),u=Y()},l(o){n.l(o),u=Y()},m(o,l){i[t].m(o,l),J(o,u,l),r=!0},p(o,l){let D=t;t=s(o),t===D?i[t].p(o,l):(ge(),I(i[D],1,1,()=>{i[D]=null}),Be(),n=i[t],n?n.p(o,l):(n=i[t]=a[t](o),n.c()),j(n,1),n.m(u.parentNode,u))},i(o){r||(j(n),r=!0)},o(o){I(n),r=!1},d(o){i[t].d(o),o&&M(u)}}}function Ks(e){let t,n,u,r;function a(o){e[17](o)}var i=e[10];function s(o){let l={isVoid:o[6],isInline:o[4],contenteditable:o[9],element:o[0],dir:o[7],$$slots:{default:[Hs]},$$scope:{ctx:o}};return o[3]!==void 0&&(l.ref=o[3]),{props:l}}return i&&(t=new i(s(e)),ze.push(()=>jt(t,"ref",a))),{c(){t&&$(t.$$.fragment),u=Y()},l(o){t&&de(t.$$.fragment,o),u=Y()},m(o,l){t&&ee(t,o,l),J(o,u,l),r=!0},p(o,[l]){const D={};if(l&64&&(D.isVoid=o[6]),l&16&&(D.isInline=o[4]),l&512&&(D.contenteditable=o[9]),l&1&&(D.element=o[0]),l&128&&(D.dir=o[7]),l&524663&&(D.$$scope={dirty:l,ctx:o}),!n&&l&8&&(n=!0,D.ref=o[3],nr(()=>n=!1)),i!==(i=o[10])){if(t){ge();const d=t;I(d.$$.fragment,1,0,()=>{te(d,1)}),Be()}i?(t=new i(s(o)),ze.push(()=>jt(t,"ref",a)),$(t.$$.fragment),j(t.$$.fragment,1),ee(t,u.parentNode,u)):t=null}else i&&t.$set(D)},i(o){r||(t&&j(t.$$.fragment,o),r=!0)},o(o){t&&I(t.$$.fragment,o),r=!1},d(o){o&&M(u),t&&te(t,o)}}}function Us(e,t,n){let u,r,a,i,s,o,l,D;var d;let{element:C}=t,{decorations:h}=t,{selection:v=null}=t;const E=qe(xr);Xe(e,E,F=>n(16,D=F));const A=rt(),y=br();Xe(e,y,F=>n(15,l=F));let w,O,_;function N(F){_=F,n(3,_)}return e.$$set=F=>{"element"in F&&n(0,C=F.element),"decorations"in F&&n(1,h=F.decorations),"selection"in F&&n(2,v=F.selection)},e.$$.update=()=>{if(e.$$.dirty&65536&&n(10,u=D),e.$$.dirty&32768&&n(5,r=l),e.$$.dirty&1&&n(4,a=A.isInline(C)),e.$$.dirty&1&&n(14,i=et(C)),e.$$.dirty&17&&!a&&f.hasInlines(A,C)){const F=cr(b.string(C));F==="rtl"&&n(7,w=F)}if(e.$$.dirty&1&&n(6,s=f.isVoid(A,C)),e.$$.dirty&32&&n(9,o=!r),e.$$.dirty&113&&s){!r&&a&&n(9,o=!1);const[[F]]=b.texts(C);n(8,O=F),Jt.set(F,0),Xt.set(F,C)}e.$$.dirty&24585&&_&&(n(13,d=Gt.get(A))===null||d===void 0||d.set(i,_),Vt.set(C,_),Zt.set(_,C))},[C,h,v,_,a,r,s,w,O,o,u,E,y,d,i,l,D,N]}class Gu extends Ae{constructor(t){super(),Fe(this,t,Us,Ks,He,{element:0,decorations:1,selection:2})}}function Ys(e){let t,n,u;var r=Gu;function a(i){return{props:{decorations:i[2],element:i[0],selection:i[1]}}}return r&&(t=new r(a(e))),{c(){t&&$(t.$$.fragment),n=Y()},l(i){t&&de(t.$$.fragment,i),n=Y()},m(i,s){t&&ee(t,i,s),J(i,n,s),u=!0},p(i,[s]){const o={};if(s&4&&(o.decorations=i[2]),s&1&&(o.element=i[0]),s&2&&(o.selection=i[1]),r!==(r=Gu)){if(t){ge();const l=t;I(l.$$.fragment,1,0,()=>{te(l,1)}),Be()}r?(t=new r(a(i)),$(t.$$.fragment),j(t.$$.fragment,1),ee(t,n.parentNode,n)):t=null}else r&&t.$set(o)},i(i){u||(t&&j(t.$$.fragment,i),u=!0)},o(i){t&&I(t.$$.fragment,i),u=!1},d(i){i&&M(n),t&&te(t,i)}}}const Ir=Ke();function lo(){return qe(Ir)}function Js(e,t,n){let u,r,a,i,s,o,{parent:l}=t,{element:D}=t,{path:d}=t,{index:C}=t,{decorations:h}=t,{selection:v=null}=t;const E=Ln();Xe(e,E,T=>n(18,o=T));const A=Me(Ir,!1),y=rt();let w=C,O=l,_=D,N=d,F=h,c=v;return e.$$set=T=>{"parent"in T&&n(4,l=T.parent),"element"in T&&n(5,D=T.element),"path"in T&&n(6,d=T.path),"index"in T&&n(7,C=T.index),"decorations"in T&&n(8,h=T.decorations),"selection"in T&&n(9,v=T.selection)},e.$$.update=()=>{e.$$.dirty&1152&&w!==C&&n(10,w=C),e.$$.dirty&2064&&O!==l&&n(11,O=l),e.$$.dirty&33&&_!==D&&n(0,_=D),e.$$.dirty&4160&&N!==d&&n(12,N=d),e.$$.dirty&8448&&(vr(F,h)||n(13,F=h)),e.$$.dirty&16896&&(mr(c,v)||n(14,c=v)),e.$$.dirty&1025&&Jt.set(_,w),e.$$.dirty&2049&&Xt.set(_,O),e.$$.dirty&5120&&n(16,u=N.concat(w)),e.$$.dirty&65536&&n(15,r=f.range(y,u)),e.$$.dirty&262144&&n(17,a=o),e.$$.dirty&237569&&n(2,i=Rr(a([_,u]),r,F)),e.$$.dirty&49152&&n(1,s=c&&m.intersection(r,c)),e.$$.dirty&2&&A.set(!!s)},[_,s,i,E,l,D,d,C,h,v,w,O,N,F,c,r,u,a,o]}class Xs extends Ae{constructor(t){super(),Fe(this,t,Js,Ys,bt,{parent:4,element:5,path:6,index:7,decorations:8,selection:9})}}function Qu(e,t){const n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n}function $u(e,t,n){const u=qt(e,t).getBoundingClientRect(),r=qt(e,n).getBoundingClientRect();return Qu(u,r)&&Qu(r,u)}function Zs(e,t){const n=f.range(e,m.end(t)),u=Array.from(f.positions(e,{at:t}));let r=0,a=u.length,i=Math.floor(a/2);if($u(e,f.range(e,u[r]),n))return f.range(e,u[r],n);if(u.length<2)return f.range(e,u[u.length-1],n);for(;i!==u.length&&i!==r;)$u(e,f.range(e,u[i]),n)?a=i:r=i,i=Math.floor((r+a)/2);return f.range(e,u[a],n)}function fo(e){const t=e,{apply:n,onChange:u,deleteBackward:r}=t;return Gt.set(t,new WeakMap),t.deleteBackward=a=>{if(a!=="line")return r(a);if(e.selection&&m.isCollapsed(e.selection)){const i=f.above(e,{match:s=>f.isBlock(e,s),at:e.selection});if(i){const[,s]=i,o=f.range(e,s,e.selection.anchor),l=Zs(t,o);m.isCollapsed(l)||p.delete(e,{at:l})}}},t.apply=a=>{const i=[];switch(a.type){case"insert_text":case"remove_text":case"set_node":{for(const[s,o]of f.levels(t,{at:a.path})){const l=et(s);i.push([o,l])}break}case"insert_node":case"remove_node":case"merge_node":case"split_node":{for(const[s,o]of f.levels(t,{at:g.parent(a.path)})){const l=et(s);i.push([o,l])}break}case"move_node":{for(const[s,o]of f.levels(t,{at:g.common(g.parent(a.path),g.parent(a.newPath))})){const l=et(s);i.push([o,l])}break}}n(a);for(const[s,o]of i){const[l]=f.node(t,s);Fn.set(l,o)}},t.setFragmentData=a=>{const{selection:i}=t;if(!i)return;const[s,o]=m.edges(i),l=f.void(t,{at:s.path}),D=f.void(t,{at:o.path});if(m.isCollapsed(i)&&!l)return;const d=qt(t,i);let C=d.cloneContents(),h=C.childNodes[0];if(C.childNodes.forEach(w=>{w.textContent&&w.textContent.trim()!==""&&(h=w)}),D){const[w]=D,O=d.cloneRange(),_=We(t,w);O.setEndAfter(_),C=O.cloneContents()}if(l&&(h=C.querySelector("[data-slate-spacer]")),Array.from(C.querySelectorAll("[data-slate-zero-width]")).forEach(w=>{const O=w.getAttribute("data-slate-zero-width")==="n";w.textContent=O?`
`:""}),Cr(h)){const w=document.createElement("span");w.style.whiteSpace="pre",w.appendChild(h),C.appendChild(w),h=w}const v=t.getFragment(),E=JSON.stringify(v),A=window.btoa(encodeURIComponent(E));h.setAttribute("data-slate-fragment",A),a.setData("application/x-slate-fragment",A);const y=document.createElement("div");return y.appendChild(C),y.setAttribute("hidden","true"),document.body.appendChild(y),a.setData("text/html",y.innerHTML),a.setData("text/plain",gr(y)),document.body.removeChild(y),a},t.insertData=a=>{t.insertFragmentData(a)||t.insertTextData(a)},t.insertFragmentData=a=>{const i=a.getData("application/x-slate-fragment")||Si(a);if(i){const s=decodeURIComponent(window.atob(i)),o=JSON.parse(s);return t.insertFragment(o),!0}return!1},t.insertTextData=a=>{const i=a.getData("text/plain");if(i){const s=i.split(/\r\n|\r|\n/);let o=!1;for(const l of s)o&&p.splitNodes(t,{always:!0}),t.insertText(l),o=!0;return!0}return!1},t.onChange=()=>{const a=pn.get(t);a&&a(),u()},t}var Gs={isHistory(e){return De(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(e.redos.length===0||Je.isOperationList(e.redos[0]))&&(e.undos.length===0||Je.isOperationList(e.undos[0]))}},dn=new WeakMap,Cn=new WeakMap,Dt={isHistoryEditor(e){return Gs.isHistory(e.history)&&f.isEditor(e)},isMerging(e){return Cn.get(e)},isSaving(e){return dn.get(e)},redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var n=Dt.isMerging(e);Cn.set(e,!1),t(),Cn.set(e,n)},withoutSaving(e,t){var n=Dt.isSaving(e);dn.set(e,!1),t(),dn.set(e,n)}},co=e=>{var t=e,{apply:n}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:u}=t,{redos:r}=u;if(r.length>0){var a=r[r.length-1];Dt.withoutSaving(t,()=>{f.withoutNormalizing(t,()=>{for(var i of a)t.apply(i)})}),u.redos.pop(),u.undos.push(a)}},t.undo=()=>{var{history:u}=t,{undos:r}=u;if(r.length>0){var a=r[r.length-1];Dt.withoutSaving(t,()=>{f.withoutNormalizing(t,()=>{var i=a.map(Je.inverse).reverse();for(var s of i)t.apply(s)})}),u.redos.push(a),u.undos.pop()}},t.apply=u=>{var{operations:r,history:a}=t,{undos:i}=a,s=i[i.length-1],o=s&&s[s.length-1],l=eo(u,o),D=Dt.isSaving(t),d=Dt.isMerging(t);if(D==null&&(D=$s(u)),D){if(d==null&&(s==null?d=!1:r.length!==0?d=!0:d=Qs(u,o)||l),s&&d)l&&s.pop(),s.push(u);else{var C=[u];i.push(C)}for(;i.length>100;)i.shift();to(u)&&(a.redos=[])}n(u)},t},Qs=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&g.equals(e.path,t.path)||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&g.equals(e.path,t.path)),$s=(e,t)=>!(e.type==="set_selection"&&(e.properties==null||e.newProperties==null)),eo=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),to=e=>e.type!=="set_selection";export{pr as D,oo as E,Nr as L,q as P,m as R,io as S,p as T,fo as a,f as b,ao as c,lo as d,zi as e,Ct as f,rt as g,U as h,Me as i,xr as j,S as k,Ke as l,so as m,yr as n,co as w};
